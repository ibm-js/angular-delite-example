require.config({"config":{"delite/theme":{"layersMap":{"delite/themes/{{theme}}/common.css":"themes/layer_{{theme}}.css","deliteful/ProgressIndicator/themes/{{theme}}/ProgressIndicator.css":"themes/layer_{{theme}}.css","deliteful/list/List/themes/{{theme}}/List.css":"themes/layer_{{theme}}.css","deliteful/list/List/themes/{{theme}}/List_rtl.css":"themes/layer_{{theme}}.css","delite/Scrollable/themes/{{theme}}/Scrollable.css":"themes/layer_{{theme}}.css"}}}});define("requirejs-text/text!deliteful/ProgressIndicator/ProgressIndicator.html",[],function(){return'<!-- Template: deliteful/ProgressIndicator (d-progress-indicator) -->\r\n<template>\r\n	<svg xmlns="http://www.w3.org/2000/svg" attach-point="svgNode">\r\n		<defs>\r\n			<symbol viewBox="0 0 30 30" preserveAspectRatio="none">\r\n				<text x="48%" y="67%" attach-point="msgNode"></text>\r\n			</symbol>\r\n		</defs>\r\n		<g class="d-progress-indicator-lines" attach-point="linesNode">\r\n			<line x1="50.0%" y1="24.0%" x2="50.0%" y2="07.0%"></line>\r\n			<line x1="63.0%" y1="28.0%" x2="72.0%" y2="13.0%"></line>\r\n			<line x1="73.0%" y1="37.0%" x2="88.0%" y2="28.0%"></line>\r\n			<line x1="93.0%" y1="50.0%" x2="76.0%" y2="50.0%"></line>\r\n			<line x1="73.0%" y1="63.0%" x2="88.0%" y2="71.0%"></line>\r\n			<line x1="63.0%" y1="72.0%" x2="71.0%" y2="87.0%"></line>\r\n			<line x1="50.0%" y1="76.0%" x2="50.0%" y2="93.0%"></line>\r\n			<line x1="37.0%" y1="72.0%" x2="28.0%" y2="87.0%"></line>\r\n			<line x1="27.0%" y1="63.0%" x2="13.0%" y2="71.0%"></line>\r\n			<line x1="24.0%" y1="50.0%" x2="07.0%" y2="50.0%"></line>\r\n			<line x1="27.0%" y1="37.0%" x2="13.0%" y2="29.0%"></line>\r\n			<line x1="37.0%" y1="27.0%" x2="29.0%" y2="13.0%"></line>\r\n		</g>\r\n		<use x="28.5%" y="28.5%" width="43%" height="43%"></use>\r\n	</svg>\r\n</template>\r\n'}),define("deliteful/ProgressIndicator",["dcl/dcl","delite/register","delite/Widget","delite/handlebars!./ProgressIndicator/ProgressIndicator.html","delite/theme!./ProgressIndicator/themes/{{theme}}/ProgressIndicator.css"],function(dcl,register,Widget,template){return register("d-progress-indicator",[HTMLElement,Widget],{active:!1,value:0/0,speed:"normal",baseClass:"d-progress-indicator",_requestId:0,_lapsTime:1e3,_requestAnimationFunction:window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame&&window.webkitRequestAnimationFrame.bind(window)||function(callBack){return this.defer(callBack,1e3/60)},_cancelAnimationFunction:(window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||function(handle){handle.remove()}).bind(window),_requestRendering:function(animationFrame){return this._requestAnimationFunction.call(this,animationFrame)},_cancelRequestRendering:function(requestId){return this._cancelAnimationFunction(requestId)},_reset:function(){this._requestRendering(function(){this.msgNode.textContent="";for(var i=0;12>i;i++)this.lineNodeList[i].style.opacity=(i+1)*(1/12)}.bind(this))},_stopAnimation:function(){this._requestId&&(this._cancelRequestRendering(this._requestId),this._requestId=0)},_startAnimation:function(){if(!this._requestId){this._reset();var delta=16.7/this._lapsTime,frameAnimation=function(){for(var opacity,i=0;12>i;i++)opacity=(parseFloat(this.lineNodeList[i].style.opacity)-delta)%1,this.lineNodeList[i].style.opacity=0>opacity?1:opacity;this._requestId=this._requestRendering(frameAnimation)}.bind(this);this._requestId=this._requestRendering(frameAnimation)}},template:template,render:dcl.after(function(){this.lineNodeList=this.linesNode.querySelectorAll("line")}),attachedCallback:function(){this.deliver();var symbolId=this.baseClass+"-"+this.widgetId+"-symbol";this.querySelector("symbol").id=symbolId,this.querySelector("use").setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+symbolId),this.svgNode.style.width="100%",this.svgNode.style.height="100%",this.svgNode.style.textAnchor="middle",this.style.color=window.getComputedStyle(this.msgNode).getPropertyValue("fill");var currentColor=window.getComputedStyle(this).getPropertyValue("color");this.style.color!==currentColor&&(this.linesNode.style.stroke=currentColor,this.msgNode.style.fill=currentColor,this.msgNode.textContent=this.msgNode.textContent),this._reset()},computeProperties:function(props){var correctedValue=null;"speed"in props&&(correctedValue="fast"===this.speed?500:"slow"===this.speed?2e3:1e3,this._lapsTime!==correctedValue&&(this._lapsTime=correctedValue)),"value"in props&&!isNaN(this.value)&&(correctedValue=Math.max(Math.min(this.value,100),0),this.value!==correctedValue&&(this.value=correctedValue))},refreshRendering:function(props){"value"in props&&(isNaN(this.value)?this.active&&this._startAnimation():(this._stopAnimation(),this._requestRendering(function(){this.msgNode.textContent=Math.floor(this.value);for(var opacity,minOpacity=.2,i=0;12>i;i++)opacity=Math.min(Math.max(.12*this.value-i,0),1)*(1-minOpacity),this.lineNodeList[i].style.opacity=minOpacity+opacity}.bind(this)))),"speed"in props&&this._requestId&&(this._stopAnimation(),this._startAnimation()),"active"in props&&(this.active?isNaN(this.value)&&this._startAnimation():this._stopAnimation(),this._requestRendering(function(){this.style.visibility=this.active?"visible":"hidden"}.bind(this)))},destroy:function(){this._stopAnimation()}})}),define("delite/theme",["require","requirejs-dplugins/has","module","requirejs-dplugins/css"],function(req,has,module,css){"use strict";var config=module.config(),load={themeMap:config.themeMap||[[/.*/,"bootstrap"]],getTheme:function(){var theme=load.theme||config.theme;if(!theme){var matches=location.search.match(/theme=(\w+)/);theme=matches&&matches.length>1?matches[1]:null}if(!theme)for(var ua=config.userAgent||(location.search.match(/ua=(\w+)/)?RegExp.$1:navigator.userAgent),themeMap=this.themeMap,i=0;i<themeMap.length;i++)if(themeMap[i][0].test(ua)){theme=themeMap[i][1];break}return load.theme=theme,theme},load:function(path,require,onload){config=module.config();var commonCss=module.id.replace(/\/.*/,"")+"/themes/{{theme}}/common.css",resources=path?[commonCss,path]:[commonCss];if(has("builder"))return resources.forEach(function(path){css.buildFunctions.addOnce(loadList,path)}),void onload();config.layersMap&&(resources=resources.map(function(path){return config.layersMap[path]||path}));var deps=resources.map(function(path){return css.id+"!"+path.replace(/{{theme}}/,load.getTheme())});req(deps,function(){onload(arguments)})}};if(has("builder")){var writePluginFiles,loadList=[];load.writeFile=function(pluginName,resource,require,write){writePluginFiles=write},load.onLayerEnd=function(write,data){function getLayerPath(theme){var pathRE=/^(?:\.\/)?(([^\/]*\/)*)[^\/]*$/;return data.path.replace(pathRE,"$1themes/layer_"+(theme||"{{theme}}")+".css")}if(data.name&&data.path){load.themeMap.forEach(function(theme){var themeDir=theme[1],dest=getLayerPath(themeDir),themedLoadList=loadList.map(function(path){return path.replace(/{{theme}}/g,themeDir)});css.buildFunctions.writeLayer(writePluginFiles,dest,themedLoadList)});var destMid=data.name.replace(/^(([^\/]*\/)*)[^\/]*$/,"$1themes/layer_{{theme}}.css");css.buildFunctions.writeConfig(write,module.id,destMid,loadList),loadList=[]}}}return load}),define("requirejs-dplugins/css",["./has","dojo/Deferred","module"],function(has,Deferred,module){"use strict";has.add("event-link-onload-api",function(global){var wk=global.navigator.userAgent.match(/AppleWebKit\/([\d.]+)/);return!wk||parseInt(wk[1],10)>535});var lastInsertedLink,cache={},listenOnLoad=function(link){var def=new Deferred,loadHandler=has("event-link-onload-api")?function(){link.onreadystatechange=link.onload=function(){link.readyState&&"complete"!==link.readyState||(link.onreadystatechange=link.onload=null,def.resolve())}}:function(){var sheet=link.sheet||link.styleSheet,styleSheets=document.styleSheets;sheet&&-1!==Array.prototype.lastIndexOf.call(styleSheets,sheet)?def.resolve():setTimeout(loadHandler,25)};return loadHandler(),def.promise},loadCss={id:module.id,load:function(path,require,callback){if(has("builder"))return buildFunctions.addOnce(loadList,path),void callback();var config=module.config();config.layersMap&&(path=config.layersMap[path]||path);var link,head=document.head||document.getElementsByTagName("head")[0],url=require.toUrl(path);cache[url]||(link=document.createElement("link"),link.rel="stylesheet",link.type="text/css",link.href=url,head.insertBefore(link,lastInsertedLink?lastInsertedLink.nextSibling:head.firstChild),lastInsertedLink=link,cache[url]=listenOnLoad(link)),cache[url].then(function(){callback(path)})}};if(has("builder")){var writePluginFiles,loadList=[],buildFunctions={writeConfig:function(write,mid,dest,loadList){var cssConf={config:{}};cssConf.config[mid]={layersMap:{}},loadList.forEach(function(path){cssConf.config[mid].layersMap[path]=dest}),write("require.config("+JSON.stringify(cssConf)+");")},writeLayer:function(writePluginFiles,dest,loadList){function tryRequire(paths){var module,path=paths.shift();if(path)try{module=require.nodeRequire(path)}catch(e){return tryRequire(paths)}return module}var path=require.getNodePath(require.toUrl(module.id).replace(/[^\/]*$/,"node_modules/clean-css")),CleanCSS=tryRequire([path,"clean-css"]),fs=require.nodeRequire("fs");if(loadList=loadList.map(require.toUrl).filter(function(path){return fs.existsSync(path)?!0:(console.log(">> Css file '"+path+"' was not found."),!1)}),CleanCSS){var result="";return loadList.forEach(function(src){result+=new CleanCSS({relativeTo:"./",target:dest}).minify("@import url("+src+");")}),writePluginFiles(dest,result),!0}return console.log(">> Node module clean-css not found. Skipping CSS inlining. If you want CSS inlining run 'npm install clean-css' in your console."),loadList.forEach(function(src){writePluginFiles(src,fs.readFileSync(src))}),!1},addOnce:function(ary,element){-1===ary.indexOf(element)&&ary.push(element)}};loadCss.writeFile=function(pluginName,resource,require,write){writePluginFiles=write},loadCss.onLayerEnd=function(write,data){if(data.name&&data.path){var dest=data.path.replace(/^(?:\.\/)?(([^\/]*\/)*)[^\/]*$/,"$1css/layer.css"),destMid=data.name.replace(/^(([^\/]*\/)*)[^\/]*$/,"$1css/layer.css"),success=buildFunctions.writeLayer(writePluginFiles,dest,loadList);success&&buildFunctions.writeConfig(write,module.id,destMid,loadList),loadList=[]}},loadCss.buildFunctions=buildFunctions}return loadCss}),define("dojo/Deferred",["./has","./_base/lang","./errors/CancelError","./promise/Promise","./has!config-deferredInstrumentation?./promise/instrumentation"],function(has,lang,CancelError,Promise,instrumentation){"use strict";var PROGRESS=0,RESOLVED=1,REJECTED=2,FULFILLED_ERROR_MESSAGE="This deferred has already been fulfilled.",freezeObject=Object.freeze||function(){},signalWaiting=function(waiting,type,result,rejection,deferred){has("config-deferredInstrumentation")&&type===REJECTED&&Deferred.instrumentRejected&&0===waiting.length&&Deferred.instrumentRejected(result,!1,rejection,deferred);for(var i=0;i<waiting.length;i++)signalListener(waiting[i],type,result,rejection)},signalListener=function(listener,type,result,rejection){var func=listener[type],deferred=listener.deferred;if(func)try{var newResult=func(result);if(type===PROGRESS)"undefined"!=typeof newResult&&signalDeferred(deferred,type,newResult);else{if(newResult&&"function"==typeof newResult.then)return listener.cancel=newResult.cancel,void newResult.then(makeDeferredSignaler(deferred,RESOLVED),makeDeferredSignaler(deferred,REJECTED),makeDeferredSignaler(deferred,PROGRESS));signalDeferred(deferred,RESOLVED,newResult)}}catch(error){signalDeferred(deferred,REJECTED,error)}else signalDeferred(deferred,type,result);has("config-deferredInstrumentation")&&type===REJECTED&&Deferred.instrumentRejected&&Deferred.instrumentRejected(result,!!func,rejection,deferred.promise)},makeDeferredSignaler=function(deferred,type){return function(value){signalDeferred(deferred,type,value)}},signalDeferred=function(deferred,type,result){if(!deferred.isCanceled())switch(type){case PROGRESS:deferred.progress(result);break;case RESOLVED:deferred.resolve(result);break;case REJECTED:deferred.reject(result)}},Deferred=function(canceler){var fulfilled,result,rejection,promise=this.promise=new Promise,deferred=this,canceled=!1,waiting=[];has("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(deferred,Deferred),Error.captureStackTrace(promise,Deferred)),this.isResolved=promise.isResolved=function(){return fulfilled===RESOLVED},this.isRejected=promise.isRejected=function(){return fulfilled===REJECTED},this.isFulfilled=promise.isFulfilled=function(){return!!fulfilled},this.isCanceled=promise.isCanceled=function(){return canceled},this.progress=function(update,strict){if(fulfilled){if(strict===!0)throw new Error(FULFILLED_ERROR_MESSAGE);return promise}return signalWaiting(waiting,PROGRESS,update,null,deferred),promise},this.resolve=function(value,strict){if(fulfilled){if(strict===!0)throw new Error(FULFILLED_ERROR_MESSAGE);return promise}return signalWaiting(waiting,fulfilled=RESOLVED,result=value,null,deferred),waiting=null,promise};var reject=this.reject=function(error,strict){if(fulfilled){if(strict===!0)throw new Error(FULFILLED_ERROR_MESSAGE);return promise}return has("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(rejection={},reject),signalWaiting(waiting,fulfilled=REJECTED,result=error,rejection,deferred),waiting=null,promise};this.then=promise.then=function(callback,errback,progback){var listener=[progback,callback,errback];return listener.cancel=promise.cancel,listener.deferred=new Deferred(function(reason){return listener.cancel&&listener.cancel(reason)}),fulfilled&&!waiting?signalListener(listener,fulfilled,result,rejection):waiting.push(listener),listener.deferred.promise},this.cancel=promise.cancel=function(reason,strict){if(fulfilled){if(strict===!0)throw new Error(FULFILLED_ERROR_MESSAGE)}else{if(canceler){var returnedReason=canceler(reason);reason="undefined"==typeof returnedReason?reason:returnedReason}if(canceled=!0,!fulfilled)return"undefined"==typeof reason&&(reason=new CancelError),reject(reason),reason;if(fulfilled===REJECTED&&result===reason)return reason}},freezeObject(promise)};return Deferred.prototype.toString=function(){return"[object Deferred]"},instrumentation&&instrumentation(Deferred),Deferred}),define("dojo/promise/Promise",["../_base/lang"],function(lang){"use strict";function throwAbstract(){throw new TypeError("abstract")}return lang.extend(function(){},{then:function(){throwAbstract()},cancel:function(){throwAbstract()},isResolved:function(){throwAbstract()},isRejected:function(){throwAbstract()},isFulfilled:function(){throwAbstract()},isCanceled:function(){throwAbstract()},always:function(callbackOrErrback){return this.then(callbackOrErrback,callbackOrErrback)},otherwise:function(errback){return this.then(null,errback)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})}),define("dojo/errors/CancelError",["./create"],function(create){return create("CancelError",null,null,{dojoType:"cancel"})}),define("dojo/errors/create",["../_base/lang"],function(lang){return function(name,ctor,base,props){base=base||Error;var ErrorCtor=function(message){if(base===Error){Error.captureStackTrace&&Error.captureStackTrace(this,ErrorCtor);var prop,err=Error.call(this,message);for(prop in err)err.hasOwnProperty(prop)&&(this[prop]=err[prop]);this.message=message,this.stack=err.stack}else base.apply(this,arguments);ctor&&ctor.apply(this,arguments)};return ErrorCtor.prototype=lang.delegate(base.prototype,props),ErrorCtor.prototype.name=name,ErrorCtor.prototype.constructor=ErrorCtor,ErrorCtor}}),define("dojo/_base/lang",["./kernel","../has","../sniff"],function(dojo,has){has.add("bug-for-in-skips-shadowed",function(){for(var i in{toString:1})return 0;return 1});var _extraNames=has("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],_extraLen=_extraNames.length,getProp=function(parts,create,context){context||(context=parts[0]&&dojo.scopeMap[parts[0]]?dojo.scopeMap[parts.shift()][1]:dojo.global);try{for(var i=0;i<parts.length;i++){var p=parts[i];if(!(p in context)){if(!create)return;context[p]={}}context=context[p]}return context}catch(e){}},opts=Object.prototype.toString,efficient=function(obj,offset,startWith){return(startWith||[]).concat(Array.prototype.slice.call(obj,offset||0))},_pattern=/\{([^\}]+)\}/g,lang={_extraNames:_extraNames,_mixin:function(dest,source,copyFunc){var name,s,i,empty={};for(name in source)s=source[name],name in dest&&(dest[name]===s||name in empty&&empty[name]===s)||(dest[name]=copyFunc?copyFunc(s):s);if(has("bug-for-in-skips-shadowed")&&source)for(i=0;_extraLen>i;++i)name=_extraNames[i],s=source[name],name in dest&&(dest[name]===s||name in empty&&empty[name]===s)||(dest[name]=copyFunc?copyFunc(s):s);return dest},mixin:function(dest){dest||(dest={});for(var i=1,l=arguments.length;l>i;i++)lang._mixin(dest,arguments[i]);return dest},setObject:function(name,value,context){var parts=name.split("."),p=parts.pop(),obj=getProp(parts,!0,context);return obj&&p?obj[p]=value:void 0},getObject:function(name,create,context){return getProp(name?name.split("."):[],create,context)},exists:function(name,obj){return void 0!==lang.getObject(name,!1,obj)},isString:function(it){return"string"==typeof it||it instanceof String},isArray:function(it){return it&&(it instanceof Array||"array"==typeof it)},isFunction:function(it){return"[object Function]"===opts.call(it)},isObject:function(it){return void 0!==it&&(null===it||"object"==typeof it||lang.isArray(it)||lang.isFunction(it))},isArrayLike:function(it){return!(!it||void 0===it||lang.isString(it)||lang.isFunction(it)||it.tagName&&"form"==it.tagName.toLowerCase()||!lang.isArray(it)&&!isFinite(it.length))},isAlien:function(it){return it&&!lang.isFunction(it)&&/\{\s*\[native code\]\s*\}/.test(String(it))},extend:function(ctor){for(var i=1,l=arguments.length;l>i;i++)lang._mixin(ctor.prototype,arguments[i]);return ctor},_hitchArgs:function(scope,method){var pre=lang._toArray(arguments,2),named=lang.isString(method);return function(){var args=lang._toArray(arguments),f=named?(scope||dojo.global)[method]:method;return f&&f.apply(scope||this,pre.concat(args))}},hitch:function(scope,method){if(arguments.length>2)return lang._hitchArgs.apply(dojo,arguments);if(method||(method=scope,scope=null),lang.isString(method)){if(scope=scope||dojo.global,!scope[method])throw['lang.hitch: scope["',method,'"] is null (scope="',scope,'")'].join("");return function(){return scope[method].apply(scope,arguments||[])}}return scope?function(){return method.apply(scope,arguments||[])}:method},delegate:function(){function TMP(){}return function(obj,props){TMP.prototype=obj;var tmp=new TMP;return TMP.prototype=null,props&&lang._mixin(tmp,props),tmp}}(),_toArray:has("ie")?function(){function slow(obj,offset,startWith){for(var arr=startWith||[],x=offset||0;x<obj.length;x++)arr.push(obj[x]);return arr}return function(obj){return(obj.item?slow:efficient).apply(this,arguments)}}():efficient,partial:function(){var arr=[null];return lang.hitch.apply(dojo,arr.concat(lang._toArray(arguments)))},clone:function(src){if(!src||"object"!=typeof src||lang.isFunction(src))return src;if(src.nodeType&&"cloneNode"in src)return src.cloneNode(!0);if(src instanceof Date)return new Date(src.getTime());if(src instanceof RegExp)return new RegExp(src);var r,i,l;if(lang.isArray(src))for(r=[],i=0,l=src.length;l>i;++i)i in src&&r.push(lang.clone(src[i]));else r=src.constructor?new src.constructor:{};return lang._mixin(r,src,lang.clone)},trim:String.prototype.trim?function(str){return str.trim()}:function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(tmpl,map,pattern){return tmpl.replace(pattern||_pattern,lang.isFunction(map)?map:function(_,k){return lang.getObject(k,!1,map)})}};return has("extend-dojo")&&lang.mixin(dojo,lang),lang}),define("dojo/sniff",["./has"],function(has){if(has("host-browser")){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(has.add("air",dua.indexOf("AdobeAIR")>=0),has.add("msapp",parseFloat(dua.split("MSAppHost/")[1])||void 0),has.add("khtml",dav.indexOf("Konqueror")>=0?tv:void 0),has.add("webkit",parseFloat(dua.split("WebKit/")[1])||void 0),has.add("chrome",parseFloat(dua.split("Chrome/")[1])||void 0),has.add("safari",dav.indexOf("Safari")>=0&&!has("chrome")?parseFloat(dav.split("Version/")[1]):void 0),has.add("mac",dav.indexOf("Macintosh")>=0),has.add("quirks","BackCompat"==document.compatMode),dua.match(/(iPhone|iPod|iPad)/)){var p=RegExp.$1.replace(/P/,"p"),v=dua.match(/OS ([\d_]+)/)?RegExp.$1:"1",os=parseFloat(v.replace(/_/,".").replace(/_/g,""));has.add(p,os),has.add("ios",os)}if(has.add("android",parseFloat(dua.split("Android ")[1])||void 0),has.add("bb",(dua.indexOf("BlackBerry")>=0||dua.indexOf("BB10")>=0)&&parseFloat(dua.split("Version/")[1])||void 0),has.add("trident",parseFloat(dav.split("Trident/")[1])||void 0),has.add("svg","undefined"!=typeof SVGAngle),!has("webkit")){if(dua.indexOf("Opera")>=0&&has.add("opera",tv>=9.8?parseFloat(dua.split("Version/")[1])||tv:tv),dua.indexOf("Gecko")>=0&&!has("khtml")&&!has("webkit")&&!has("trident")&&has.add("mozilla",tv),has("mozilla")&&has.add("ff",parseFloat(dua.split("Firefox/")[1]||dua.split("Minefield/")[1])||void 0),document.all&&!has("opera")){var isIE=parseFloat(dav.split("MSIE ")[1])||void 0,mode=document.documentMode;mode&&5!=mode&&Math.floor(isIE)!=mode&&(isIE=mode),has.add("ie",isIE)}has.add("wii","undefined"!=typeof opera&&opera.wiiremote)}}return has}),define("dojo/_base/kernel",["../has","./config","require","module"],function(has,config,require,module){var i,p,item,global=function(){return this}(),dijit={},dojox={},dojo={config:config,global:global,dijit:dijit,dojox:dojox},scopeMap={dojo:["dojo",dojo],dijit:["dijit",dijit],dojox:["dojox",dojox]},packageMap=require.map&&require.map[module.id.match(/[^\/]+/)[0]];for(p in packageMap)scopeMap[p]?scopeMap[p][0]=packageMap[p]:scopeMap[p]=[packageMap[p],{}];for(p in scopeMap)item=scopeMap[p],item[1]._scopeName=item[0],config.noGlobals||(global[item[0]]=item[1]);dojo.scopeMap=scopeMap,dojo.baseUrl=dojo.config.baseUrl=require.baseUrl,dojo.isAsync=!has("dojo-loader")||require.async,dojo.locale=config.locale;var rev="$Rev: 18f9767 $".match(/[0-9a-f]{7,}/);if(dojo.version={major:1,minor:10,patch:2,flag:"",revision:rev?rev[0]:0/0,toString:function(){var v=dojo.version;return v.major+"."+v.minor+"."+v.patch+v.flag+" ("+v.revision+")"}},has.add("extend-dojo",1),Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(dojo),dojo.exit=has("host-rhino")?function(exitcode){quit(exitcode)}:function(){},has.add("dojo-guarantee-console",1),has("dojo-guarantee-console")){"undefined"!=typeof console||(console={});var tn,cn=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];for(i=0;tn=cn[i++];)console[tn]||!function(){var tcn=tn+"";console[tcn]="log"in console?function(){var a=Array.prototype.slice.call(arguments);a.unshift(tcn+":"),console.log(a.join(" "))}:function(){},console[tcn]._fake=!0}()}if(has.add("dojo-debug-messages",!!config.isDebug),dojo.deprecated=dojo.experimental=function(){},has("dojo-debug-messages")&&(dojo.deprecated=function(behaviour,extra,removal){var message="DEPRECATED: "+behaviour;extra&&(message+=" "+extra),removal&&(message+=" -- will be removed in version: "+removal),console.warn(message)},dojo.experimental=function(moduleName,extra){var message="EXPERIMENTAL: "+moduleName+" -- APIs subject to change without notice.";extra&&(message+=" "+extra),console.warn(message)}),has.add("dojo-modulePaths",1),has("dojo-modulePaths")&&config.modulePaths){dojo.deprecated("dojo.modulePaths","use paths configuration");var paths={};for(p in config.modulePaths)paths[p.replace(/\./g,"/")]=config.modulePaths[p];require({paths:paths})}return has.add("dojo-moduleUrl",1),has("dojo-moduleUrl")&&(dojo.moduleUrl=function(module,url){dojo.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var result=null;return module&&(result=require.toUrl(module.replace(/\./g,"/")+(url?"/"+url:"")+"/*.*").replace(/\/\*\.\*/,"")+(url?"":"/")),result}),dojo._hasResource={},dojo}),define("dojo/_base/config",["../has","require"],function(has,require){var result={};if(has("dojo-config-api")){var p,src=require.rawConfig;for(p in src)result[p]=src[p]}else{var adviseHas=function(featureSet,prefix,booting){for(p in featureSet)"has"!=p&&has.add(prefix+p,featureSet[p],0,booting)},global=function(){return this}();result=has("dojo-loader")?require.rawConfig:global.dojoConfig||global.djConfig||{},adviseHas(result,"config",1),adviseHas(result.has,"",1)}if(!result.locale&&"undefined"!=typeof navigator){var language=navigator.language||navigator.userLanguage;language&&(result.locale=language.toLowerCase())}return result}),define("dojo/has",["require","module"],function(require,module){var has=require.has||function(){};if(!has("dojo-has-api")){var isBrowser="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document,global=function(){return this}(),doc=isBrowser&&document,element=doc&&doc.createElement("DiV"),cache=module.config&&module.config()||{};has=function(name){return"function"==typeof cache[name]?cache[name]=cache[name](global,doc,element):cache[name]},has.cache=cache,has.add=function(name,test,now,force){return("undefined"==typeof cache[name]||force)&&(cache[name]=test),now&&has(name)},has.add("host-browser",isBrowser),has.add("host-node","object"==typeof process&&process.versions&&process.versions.node&&process.versions.v8),has.add("host-rhino","function"==typeof load&&("function"==typeof Packages||"object"==typeof Packages)),has.add("dom",isBrowser),has.add("dojo-dom-ready-api",1),has.add("dojo-sniff",1)}if(has("host-browser")){has.add("dom-addeventlistener",!!document.addEventListener),has.add("touch","ontouchstart"in document||"onpointerdown"in document&&navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints),has.add("touch-events","ontouchstart"in document),has.add("pointer-events","onpointerdown"in document),has.add("MSPointer","msMaxTouchPoints"in navigator),has.add("device-width",screen.availWidth||innerWidth);var form=document.createElement("form");has.add("dom-attributes-explicit",0==form.attributes.length),has.add("dom-attributes-specified-flag",form.attributes.length>0&&form.attributes.length<40)}return has.clearElement=function(element){return element.innerHTML="",element},has.normalize=function(id,toAbsMid){var tokens=id.match(/[\?:]|[^:\?]*/g),i=0,get=function(skip){var term=tokens[i++];return":"==term?0:"?"==tokens[i++]?!skip&&has(term)?get():(get(!0),get(skip)):term||0};return id=get(),id&&toAbsMid(id)},has.load=function(id,parentRequire,loaded){id?parentRequire([id],loaded):loaded()},has}),define("requirejs-dplugins/has",["module"],function(module){function resolve(resource,has,isBuild){var tokens=resource.match(tokensRE),i=0,get=function(skip){var term=tokens[i++];if(":"===term)return"";if("?"===tokens[i++]){var hasResult=has(term);return void 0===hasResult&&isBuild?void 0:!skip&&hasResult?get():(get(!0),get(skip))}return term||""};return get()}function forEachModule(tokens,callback){for(var i=0;i<tokens.length;i++)":"!==tokens[i]&&"?"!==tokens[i]&&"?"!==tokens[i+1]&&callback(tokens[i],i)}var cache=module.config&&module.config()||{},tokensRE=/[\?:]|[^:\?]+/g,has=function(name){var global=function(){return this}();return"function"==typeof cache[name]?cache[name]=cache[name](global):cache[name]};return has.cache=cache,has.add=function(name,test,now,force){return has("builder")?void 0:(("undefined"==typeof cache[name]||force)&&(cache[name]=test),now&&has(name))},has.normalize=function(resource,normalize){var tokens=resource.match(tokensRE);return forEachModule(tokens,function(module,index){tokens[index]=normalize(module)}),tokens.join("")},has.load=function(resource,req,onLoad,config){if(config=config||{},!resource)return void onLoad();var mid=resolve(resource,has,config.isBuild);mid?req([mid],onLoad):onLoad()},has.addModules=function(pluginName,resource,addModules){var modulesToInclude=[],mid=resolve(resource,has,!0);if(mid)modulesToInclude.push(mid);else if("undefined"==typeof mid){var tokens=resource.match(tokensRE);forEachModule(tokens,function(module){modulesToInclude.push(module)})}addModules(modulesToInclude)},has}),define("delite/handlebars",["./Template","require"],function(Template,require){function toJs(text,convertUndefinedToBlank){var inVar,parts=[],wp={};return(text||"").split(/({{|}})/).forEach(function(str){if("{{"===str)inVar=!0;else if("}}"===str)inVar=!1;else if(inVar){var prop=str.trim();/this\./.test(prop)?(parts.push("("+str+")"),str.match(/this\.(\w+)/g).forEach(function(thisVar){wp[thisVar.substring(5)]=!0})):(wp[prop.replace(/[^\w].*/,"")]=!0,parts.push(convertUndefinedToBlank?"(this."+prop+" || '')":"this."+prop))}else str&&parts.push("'"+str.replace(/(['\\])/g,"\\$1").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"'")}),{expr:parts.join(" + "),dependsOn:Object.keys(wp)}}var textPlugin="requirejs-text/text",handlebars={parse:function(templateNode,xmlns){var attachPoints,item,tag=templateNode.hasAttribute("is")?templateNode.getAttribute("is"):templateNode.tagName.replace(/^template-/i,"").toLowerCase(),elem=Template.getElement(tag),attributes={},connects={},i=0,attrs=templateNode.attributes;for(i=0;item=attrs[i];i++)if(item.value)switch(item.name){case"xmlns":xmlns=item.value;break;case"is":break;case"attach-point":case"data-attach-point":attachPoints=item.value.split(/, */);break;default:if(/^on-/.test(item.name))connects[item.name.substring(3)]=item.value.replace(/\s*({{|}})\s*/g,"");else{var propName=Template.getProp(tag,item.name);if(propName&&"string"!=typeof elem[propName]&&!/{{/.test(item.value)&&"style.cssText"!==propName){var value=item.value;"boolean"!=typeof elem[propName]||"off"!==value&&"on"!==value||(value="on"===value?"true":"false"),attributes[item.name]={expr:value,dependsOn:[]}}else attributes[item.name]=toJs(item.value,"class"===item.name)}}return{tag:tag,xmlns:xmlns,attributes:attributes,connects:connects,children:handlebars.parseChildren(templateNode,xmlns),attachPoints:attachPoints}},parseChildren:function(templateNode,xmlns){for(var lastRealNode,children=[],child=templateNode.firstChild;child;child=child.nextSibling){var childType=child.nodeType;if(1===childType)lastRealNode=children.length,children.push(handlebars.parse(child,xmlns));else if(3===childType){if(/^[ \t\n]*$/.test(child.nodeValue)){if(void 0===lastRealNode)continue}else lastRealNode=children.length;children.push(toJs(child.nodeValue,!0))}}return children.slice(0,lastRealNode+1)},toDom:function(templateText){templateText=templateText.replace(/(<\/? *)([-a-zA-Z0-9]+)/g,"$1template-$2"),templateText=templateText.replace(/<template-(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)([^>]*)\/?>/g,"<template-$1$2></template-$1>");var root;if(/<template-svg/.test(templateText)){var parser=new DOMParser;for(root=parser.parseFromString(templateText,"text/xml").firstChild;1!==root.nodeType;)root=root.nextSibling}else{var container=document.createElement("div");container.innerHTML=templateText,root=container.firstElementChild}return root},compile:function(templateText){var templateDom=handlebars.toDom(templateText),tree=handlebars.parse(templateDom),template=new Template(tree);return template.func},load:function(mid,require,onload,loaderConfig){require([textPlugin+"!"+mid],function(templateText){if(loaderConfig.isBuild)return void onload();var templateDom=handlebars.toDom(templateText),requires=templateDom.getAttribute("requires")||templateDom.getAttribute("data-requires")||"";templateDom.removeAttribute("requires"),templateDom.removeAttribute("data-requires"),require(requires.split(/,\s*/),function(){var tree=handlebars.parse(templateDom),template=new Template(tree);onload(template.func)})})},write:function(pluginName,moduleName,write,loaderConfig){var text=require(textPlugin);text.write(textPlugin,moduleName,write,loaderConfig)
}};return handlebars}),define("delite/Template",["./register"],function(register){function getElement(tag){return tag in elementCache||(elementCache[tag]=register.createElement(tag)),elementCache[tag]}function getProp(tag,attrName){if(!(tag in attrMap)){var proto=getElement(tag),map=attrMap[tag]={};for(var prop in proto)map[prop.toLowerCase()]=prop;map.style="style.cssText"}return attrMap[tag][attrName]}var elementCache={},attrMap={},Template=register.dcl(null,{constructor:function(tree,rootNodeName,createRootNode){this.buildText=[],this.observeText=[],this.dependsOn={},this.generateNodeCode(rootNodeName||"this",createRootNode,tree),this.text=this.buildText.join("\n")+"\nreturn {\n	dependencies: "+JSON.stringify(Object.keys(this.dependsOn))+",\n	refresh: function(props){\n		"+this.observeText.join("\n		")+"\n	}.bind(this)\n};\n",this.func=new Function("document","register",this.text)},text:"",func:null,generateWatchCode:function(dependencies,statement){this.observeText.push("if("+dependencies.map(function(prop){return"'"+prop+"' in props"}).join(" || ")+")","	"+statement+";"),dependencies.forEach(function(prop){this.dependsOn[prop]=!0},this)},generateNodeChildrenCode:function(nodeName,children){children.forEach(function(child,idx){var childName=("this"===nodeName?"":nodeName)+"c"+(idx+1);if(child.tag)this.generateNodeCode(childName,!0,child),this.buildText.push(nodeName+".appendChild("+childName+");");else{var textNodeName=childName+"t"+(idx+1);this.buildText.push("var "+textNodeName+" = document.createTextNode("+(child.dependsOn.length?"''":child.expr)+");",nodeName+".appendChild("+textNodeName+");"),child.dependsOn.length&&this.generateWatchCode(child.dependsOn,textNodeName+".nodeValue = "+child.expr)}},this)},generateNodeCode:function(nodeName,createNode,templateNode){var ap=(templateNode.attachPoints||[]).map(function(n){return"this."+n+" = "}).join("");createNode?this.buildText.push("var "+nodeName+" = "+ap+(templateNode.xmlns?"document.createElementNS('"+templateNode.xmlns+"', '"+templateNode.tag+"');":"register.createElement('"+templateNode.tag+"');")):ap&&this.buildText.push(ap+nodeName+";");for(var attr in templateNode.attributes){var info=templateNode.attributes[attr],propName=getProp(templateNode.tag,attr),js=info.expr;"class"!==attr||templateNode.xmlns?info.dependsOn.length?this.generateWatchCode(info.dependsOn,propName?nodeName+"."+propName+" = "+js:"this.setOrRemoveAttribute("+nodeName+", '"+attr+"', "+js+")"):this.buildText.push(propName?nodeName+"."+propName+" = "+js:nodeName+".setAttribute('"+attr+"', "+js+");"):info.dependsOn.length?this.generateWatchCode(info.dependsOn,"this.setClassComponent('template', "+js+", "+nodeName+")"):this.buildText.push("this.setClassComponent('template', "+js+", "+nodeName+")")}/-/.test(templateNode.tag)&&(this.buildText.push(nodeName+".deliver();"),this.observeText.push(nodeName+".deliver();"));for(var type in templateNode.connects){var handler=templateNode.connects[type],callback=/^[a-zA-Z0-9_]+$/.test(handler)?"this."+handler+".bind(this)":"function(event){"+handler+"}";this.buildText.push("this.on('"+type+"', "+callback+", "+nodeName+");")}this.generateNodeChildrenCode(nodeName,templateNode.children)}});return Template.getElement=getElement,Template.getProp=getProp,Template}),define("delite/Widget",["dcl/dcl","dojo/dom","dojo/dom-class","./features","decor/Invalidating","./CustomElement","./register","./features!bidi?./Bidi"],function(dcl,dom,domClass,has,Invalidating,CustomElement,register,Bidi){var cnt=0,Widget=dcl([CustomElement,Invalidating],{baseClass:"",focused:!1,started:!1,widgetId:0,createdCallback:function(){this.preRender(),this.render(),this.postRender()},refreshRendering:function(oldVals){this._templateHandle&&this._templateHandle.refresh(oldVals),"baseClass"in oldVals&&domClass.replace(this,this.baseClass,oldVals.baseClass),"dir"in oldVals&&domClass.toggle(this,"d-rtl",!this.isLeftToRight())},attachedCallback:function(){for(var tabIndex=this.tabIndex,proto=this;proto;proto=Object.getPrototypeOf(proto)){var desc=Object.getOwnPropertyDescriptor(proto,"tabIndex");if(desc&&desc.set){this.hasAttribute("tabindex")&&(this.removeAttribute("tabindex"),desc.set.call(this,tabIndex));var self=this;if("WebKitMutationObserver"in window){var MO=window.MutationObserver||WebKitMutationObserver,observer=new MO(function(){var newValue=self.getAttribute("tabindex");null!==newValue&&(self.removeAttribute("tabindex"),desc.set.call(self,newValue))});observer.observe(this,{subtree:!1,attributeFilter:["tabindex"],attributes:!0})}break}}},preRender:function(){this.widgetId=++cnt},template:null,render:function(){this.template&&(this._templateHandle=this.template(this.ownerDocument,register))},setClassComponent:function(component,value,node){node||(node=this);var oldValProp="_"+component+"Class";domClass.replace(node,value,node[oldValProp]||""),node[oldValProp]=value},setOrRemoveAttribute:function(node,name,value){void 0===value?node.removeAttribute(name):node.setAttribute(name,""+value)},postRender:function(){this.initializeInvalidating(),this._templateHandle&&this._templateHandle.dependencies.forEach(this.notifyCurrentValue,this),["dir","baseClass"].forEach(this.notifyCurrentValue,this)},startup:function(){this.started||(this.attached||this.attachedCallback(),this.started=!0,this.findCustomElements(this).forEach(function(obj){obj.started||obj._destroyed||"function"!=typeof obj.startup||(obj.startup(),obj.started=!0)}))},destroy:function(){this.bgIframe&&(this.bgIframe.destroy(),delete this.bgIframe)},getParent:function(){return this.getEnclosingWidget(this.parentNode)},isLeftToRight:function(){var doc=this.ownerDocument;return!/^rtl$/i.test(this.dir||doc.body.dir||doc.documentElement.dir)},placeAt:function(reference,position){if("string"==typeof reference&&(reference=this.ownerDocument.getElementById(reference)),"replace"===position)reference.parentNode.replaceChild(this,reference);else if("only"===position){for(var c;c=reference.lastChild;)reference.removeChild(c);reference.appendChild(this)}else if(/^(before|after)$/.test(position))reference.parentNode.insertBefore(this,"before"===position?reference:reference.nextSibling);else{var parent=reference.containerNode||reference,children=parent.children||Array.prototype.filter.call(parent.childNodes,function(node){return 1===node.nodeType});parent.insertBefore(this,children["first"===position?0:position]||null)}return!this.started&&(this.getParent()||{}).started&&this.startup(),this},getEnclosingWidget:function(node){do if(1===node.nodeType&&node.render)return node;while(node=node.parentNode);return null}});return has("bidi")&&(Widget=dcl(Widget,Bidi)),dcl.chainAfter(Widget,"preRender"),dcl.chainAfter(Widget,"postRender"),Widget}),define("delite/Bidi",[],function(){var LRE="‪",RLE="‫",PDF="‬";return{textDir:"",getTextDir:function(text){return"auto"===this.textDir?this._checkContextual(text):this.textDir},_checkContextual:function(text){var fdc=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(text);return fdc?fdc[0]<="z"?"ltr":"rtl":this.dir?this.dir:this.isLeftToRight()?"ltr":"rtl"},applyTextDir:function(element){if(this.textDir){var textDir=this.textDir;if("auto"===textDir){var tagName=element.tagName.toLowerCase(),text="input"===tagName||"textarea"===tagName?element.value:element.textContent;textDir=this._checkContextual(text)}element.dir=textDir}},wrapWithUcc:function(text){var dir="auto"===this.textDir?this._checkContextual(text):this.textDir;return("ltr"===dir?LRE:RLE)+text+PDF},enforceTextDirWithUcc:function(node){node.originalText=node.text,node.innerHTML=this.wrapWithUcc(node.innerHTML)},restoreOriginalText:function(origObj){origObj.originalText&&(origObj.text=origObj.originalText,delete origObj.originalText)}}}),define("delite/CustomElement",["dcl/dcl","decor/Observable","decor/Destroyable","decor/Stateful"],function(dcl,Observable,Destroyable,Stateful){function getObject(name){try{return name.split(".").reduce(function(context,part){return context[part]},this)}catch(e){}}var REGEXP_SHADOW_PROPS=/^_(.+)Attr$/,CustomElement=dcl([Stateful,Destroyable],{_getProps:function(){var ctor,hash={},proto=this,pcm=this._propCaseMap={};do Object.keys(proto).forEach(function(prop){REGEXP_SHADOW_PROPS.test(prop)||("function"!=typeof proto[prop]&&(hash[prop]=!0),pcm[prop.toLowerCase()]=prop)}),proto=Object.getPrototypeOf(proto),ctor=proto&&proto.constructor;while(proto&&ctor!==this._baseElement);return hash},created:!1,createdCallback:dcl.advise({before:function(){this._observable||Observable.call(this),this._parsedAttributes=this._mapAttributes()},after:function(){this.created=!0,this._parsedAttributes.forEach(function(pa){pa.event?this.on(pa.event,pa.callback):this[pa.prop]=pa.value},this)}}),attached:!1,attachedCallback:dcl.after(function(){this.attached=!0,this.emit("customelement-attached",{bubbles:!1,cancelable:!1})}),_parsePrototypeAttr:function(name,value){function stringToObject(value){var obj;try{obj=eval("("+("{"===value[0]?"":"{")+value+("{"===value[0]?"":"}")+")")}catch(e){throw new SyntaxError("Error in attribute conversion to object: "+e.message+"\nAttribute Value: '"+value+"'")}return obj}switch(typeof this[name]){case"string":return value;case"number":return value-0;case"boolean":return"false"!==value;case"object":return getObject(value)||(this[name]instanceof Array?value?value.split(/\s+/):[]:stringToObject(value));case"function":return this.parseFunctionAttribute(value,[])}},parseFunctionAttribute:function(value,params){return getObject(value)||new(Function.bind.apply(Function,[void 0].concat(params).concat([value])))},parseAttribute:function(name,value){var pcm=this._propCaseMap;return name in pcm?(name=pcm[name],{prop:name,value:this._parsePrototypeAttr(name,value)}):/^on-/.test(name)?{event:name.substring(3),callback:this.parseFunctionAttribute(value,["event"])}:void 0},_mapAttributes:function(){for(var attr,idx=0,parsedAttrs=[],attrsToRemove=[];attr=this.attributes[idx++];){var name=attr.name.toLowerCase(),parsedAttr=this.parseAttribute(name,attr.value);parsedAttr&&(parsedAttrs.push(parsedAttr),attrsToRemove.push(attr))}return attrsToRemove.forEach(this.removeAttribute,this),parsedAttrs},destroy:function(){this.findCustomElements().forEach(function(w){w.destroy&&w.destroy()}),this.parentNode&&this.parentNode.removeChild(this)},emit:function(type,eventObj){eventObj=eventObj||{};var bubbles="bubbles"in eventObj?eventObj.bubbles:!0,cancelable="cancelable"in eventObj?eventObj.cancelable:!0,nativeEvent=this.ownerDocument.createEvent("HTMLEvents");nativeEvent.initEvent(type,bubbles,cancelable);for(var i in eventObj)i in nativeEvent||(nativeEvent[i]=eventObj[i]);return this.dispatchEvent(nativeEvent)},on:function(type,func,node){var captures={focusin:"focus",focus:"focus",focusout:"blur",blur:"blur"},capture=type in captures,adjustedType=capture?captures[type]:type;return node=node||this,node.addEventListener(adjustedType,func,capture),this.own({remove:function(){node.removeEventListener(adjustedType,func,capture)}})[0]},observe:function(callback){var propsToObserve=this._ctor._propsToObserve,h=new Stateful.PropertyListObserver(this,propsToObserve);return h.open(callback,this),h},findCustomElements:function(root){function getChildrenHelper(root){for(var node=root.firstChild;node;node=node.nextSibling)1===node.nodeType&&node.createdCallback?outAry.push(node):getChildrenHelper(node)}var outAry=[];return getChildrenHelper(root||this),outAry}});return dcl.chainAfter(CustomElement,"createdCallback"),dcl.chainAfter(CustomElement,"attachedCallback"),CustomElement}),define("decor/Stateful",["dcl/dcl","./features","./Observable"],function(dcl,has,Observable){function propNames(name){if(apn[name])return apn[name];var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase()}),ret=apn[name]={p:"_"+name+"Attr",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"};return ret}function notify(stateful,name,oldValue){Observable.getNotifier(stateful).notify({type:"update",object:stateful,name:name+"",oldValue:oldValue})}var apn={},REGEXP_SHADOW_PROPS=/^_(.+)Attr$/,Stateful=dcl(null,{_getProps:function(){var hash={};for(var prop in this)"function"==typeof this[prop]||REGEXP_SHADOW_PROPS.test(prop)||(hash[prop]=!0);return hash},_introspect:function(props){Object.keys(props).forEach(function(prop){var names=propNames(prop),shadowProp=names.p,getter=names.g,setter=names.s;shadowProp in this||(this[shadowProp]=this[prop],delete this[prop],Object.defineProperty(this,prop,{enumerable:!0,set:function(x){setter in this?this[setter](x):this._set(prop,x)},get:function(){return getter in this?this[getter]():this[shadowProp]}}))},this)},constructor:dcl.advise({before:function(){var ctor=this.constructor;ctor._introspected||(ctor._props=ctor.prototype._getProps(),ctor.prototype._introspect(ctor._props),ctor._introspected=!0),Observable.call(this)},after:function(args){this.processConstructorParameters(args)}}),processConstructorParameters:function(args){args.length&&this.mix(args[0])},mix:function(hash){for(var x in hash)hash.hasOwnProperty(x)&&(this[x]=hash[x])},_set:function(name,value){var shadowPropName=propNames(name).p,oldValue=this[shadowPropName];this[shadowPropName]=value,!Observable.is(value,oldValue)&&notify(this,name,oldValue)},_get:function(name){return this[propNames(name).p]},notifyCurrentValue:function(name){notify(this,name,this[propNames(name).p])},observe:function(callback){var h=new Stateful.PropertyListObserver(this,this.constructor._props);return h.open(callback,this),h}});return dcl.chainAfter(Stateful,"_introspect"),Stateful.PropertyListObserver=function(o,props){this.o=o,this.props=props},Stateful.PropertyListObserver.prototype={open:function(callback,thisObject){var props=this.props;return this._boundCallback=function(records){if(!this._closed&&!this._beingDiscarded){var oldValues={};records.forEach(function(record){record.name in props&&!(record.name in oldValues)&&(oldValues[record.name]=record.oldValue)});for(var s in oldValues){callback.call(thisObject,oldValues);break}}}.bind(this),this._h=Observable.observe(this.o,this._boundCallback),this.o},deliver:function(){this._boundCallback&&Observable.deliverChangeRecords(this._boundCallback)},discardChanges:function(){return this._beingDiscarded=!0,this._boundCallback&&Observable.deliverChangeRecords(this._boundCallback),this._beingDiscarded=!1,this.o},setValue:function(){},close:function(){this._h&&(this._h.remove(),this._h=null),this._closed=!0}},Stateful.PropertyListObserver.prototype.remove=Stateful.PropertyListObserver.prototype.close,Stateful}),define("decor/features",["requirejs-dplugins/has"],function(has){return has.add("console-api","undefined"!=typeof console),has.add("host-browser","undefined"!=typeof window),has.add("object-observe-api","function"==typeof Object.observe&&"function"==typeof Array.observe),has.add("object-is-api",Object.is),has.add("setimmediate-api","function"==typeof setImmediate),has.add("mutation-observer-api","undefined"!=typeof MutationObserver&&(/\[\s*native\s+code\s*\]/i.test(MutationObserver)||!/^\s*function/.test(MutationObserver))),has.add("polymer-platform","undefined"!=typeof Platform),has}),define("decor/Destroyable",["dcl/advise","dcl/dcl"],function(advise,dcl){var Destroyable=dcl(null,{destroy:dcl.advise({before:function(){this._beingDestroyed=!0},after:function(){this._destroyed=!0}}),own:function(){var cleanupMethods=["destroy","remove"],ary=Array.prototype.slice.call(arguments);return ary.forEach(function(handle){function onManualDestroy(){odh.destroy(),hdhs.forEach(function(hdh){hdh.destroy()})}var destroyMethodName,odh=advise.before(this,"destroy",function(){handle[destroyMethodName]()}),hdhs=[];handle.then?(destroyMethodName="cancel",handle.then(onManualDestroy,onManualDestroy)):cleanupMethods.forEach(function(cleanupMethod){"function"==typeof handle[cleanupMethod]&&(destroyMethodName||(destroyMethodName=cleanupMethod),hdhs.push(advise.after(handle,cleanupMethod,onManualDestroy)))})},this),ary},defer:function(fcn,delay){var timer=setTimeout(function(){timer&&(timer=null,this._destroyed||fcn.call(this))}.bind(this),delay||0);return{remove:function(){return timer&&(clearTimeout(timer),timer=null),null}}}});return dcl.chainBefore(Destroyable,"destroy"),Destroyable}),function(factory){"undefined"!=typeof define?define("dcl/advise",[],factory):"undefined"!=typeof module?module.exports=factory():advise=factory()}(function(){"use strict";function Node(instance,name){this.nb=this.pb=this.na=this.pa=this.nf=this.pf=this,this.i=instance,this.n=name}function makeAOPStub(x){var f=function(){var p,r,t=this,a=arguments;for(p=x.pb;p!==x;p=p.pb)p.b.apply(t,a);try{x.pf!==x&&(r=x.pf.f.apply(t,a))}catch(e){r=e}for(p=x.na;p!==x;p=p.na)p.a.call(t,a,r);if(r instanceof Error)throw r;return r};return f.adviceNode=x,f}function advise(instance,name,advice){var a,f=instance[name];return f&&f.adviceNode&&f.adviceNode instanceof Node?a=f.adviceNode:(a=new Node(instance,name),f&&f.advices?(f=f.advices,a.a(f.b,f.a,f.f)):a.a(0,0,f),instance[name]=makeAOPStub(a)),"function"==typeof advice&&(advice=advice(name,instance)),a.a(advice.before,advice.after,0,advice.around)}var p=Node.prototype={a:function(b,a,f,o){var t=new Node(this.i,this.n);return t.p=this,t.b=b,this._a("b",t),t.a=a,this._a("a",t),t.f=f,this._a("f",t,o),t.o=o,o&&(t.f=advise._f(o,t.pf.f,this)),t},_a:function(topic,node,flag){if(node[topic]||flag){var n="n"+topic,p="p"+topic;(node[p]=this[p])[n]=(node[n]=this)[p]=node}},r:function(node){this._r("b",node),this._r("a",node),this._r("f",node)},_r:function(topic,node){var n="n"+topic,p="p"+topic;node[n][p]=node[p],node[p][n]=node[n]},destroy:function(){var f=this.pf.f,t=this.nf,p=this.p;if(this.r(this),t!==this)for(;t!==p;f=t.f,t=t.nf)t.o&&(t.f=advise._f(t.o,f,this));this.i=0}};return p.unadvise=p.destroy,advise.before=function(instance,name,f){return advise(instance,name,{before:f})},advise.after=function(instance,name,f){return advise(instance,name,{after:f})},advise.around=function(instance,name,f){return advise(instance,name,{around:f})},advise.Node=Node,advise._f=function(f,a){return f(a)},advise}),define("decor/Observable",["./features","./features!object-observe-api?:./schedule"],function(has,schedule){"use strict";var Observable,defineProperty=Object.defineProperty,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,DEFAULT_ACCEPT_CHANGETYPES={add:1,update:1,"delete":1,reconfigure:1,setPrototype:1,preventExtensions:1};if(Observable=function(o){this._observable||defineProperty(this,"_observable",{value:1}),o&&Observable.assign(this,o)},Observable.test=function(o){return o&&o._observable},Observable.is=has("object-is-api")?Object.is:function(lhs,rhs){return lhs===rhs&&(0!==lhs||1/lhs===1/rhs)||lhs!==lhs&&rhs!==rhs},Observable.assign=function(dst){for(var hasDstSetter="function"==typeof dst.set,i=1,l=arguments.length;l>i;++i)for(var src=arguments[i],props=Object.getOwnPropertyNames(src),j=0,m=props.length;m>j;++j){var prop=props[j];hasDstSetter?dst.set(prop,src[prop]):dst[prop]=src[prop]}return dst},Observable.canObserve=has("object-observe-api")?function(o){return"object"==typeof o&&null!=o}:Observable.test,has("object-observe-api"))defineProperty(Observable.prototype,"set",{value:function(name,value){return this[name]=value,value},configurable:!0,writable:!0}),Observable.observe=function(object,callback,accept){return Object.observe.call(this,object,callback,accept),{remove:Object.unobserve.bind(Object,object,callback)}},Observable.getNotifier=Object.getNotifier,Observable.deliverChangeRecords=Object.deliverChangeRecords;else{defineProperty(Observable.prototype,"set",{value:function(name,value){var type=name in this?"update":"add",oldValue=this[name],setter=(getOwnPropertyDescriptor(this,name)||{}).set;if(this[name]=value,!Observable.is(value,oldValue)&&void 0===setter){var changeRecord={type:type,object:this,name:name+""};"update"===type&&(changeRecord.oldValue=oldValue),Observable.getNotifier(this).notify(changeRecord)}return value},configurable:!0,writable:!0});var seq=0,hotCallbacks={},deliverHandle=null,deliverAllByTimeout=function(){has("polymer-platform")&&Platform.performMicrotaskCheckpoint();for(var anyWorkDone=!0;anyWorkDone;){anyWorkDone=!1;var callbacks=[];for(var s in hotCallbacks)callbacks.push(hotCallbacks[s]);hotCallbacks={},callbacks=callbacks.sort(function(lhs,rhs){return lhs._seq-rhs._seq});for(var i=0,l=callbacks.length;l>i;++i)callbacks[i]._changeRecords.length>0&&(Observable.deliverChangeRecords(callbacks[i]),anyWorkDone=!0)}deliverHandle=null},removeGarbageCallback=function(callback){0===callback._changeRecords.length&&0===callback._refCountOfNotifier&&(callback._seq=void 0)},Notifier=function(target){this.target=target,this.observers={},this._activeChanges={}};Notifier.prototype={notify:function(changeRecord){function shouldDeliver(activeChanges,acceptTable,changeType){if(changeType in acceptTable){for(var s in acceptTable)if(activeChanges[s]>0)return!1;return!0}}for(var s in this.observers)if(shouldDeliver(this._activeChanges,this.observers[s].acceptTable,changeRecord.type)){var callback=this.observers[s].callback;callback._changeRecords.push(changeRecord),hotCallbacks[callback._seq]=callback,deliverHandle||(deliverHandle=schedule(deliverAllByTimeout))}},performChange:function(type,callback){this._activeChanges[type]=(this._activeChanges[type]||0)+1;var source=callback.call(void 0);if(--this._activeChanges[type],source){var target={type:type,object:this.target};for(var s in source)s in target||(target[s]=source[s]);this.notify(target)}}},Observable.getNotifier=function(observable){return getOwnPropertyDescriptor(observable,"_notifier")||defineProperty(observable,"_notifier",{value:new Notifier(observable)}),observable._notifier},Observable.observe=function(observable,callback,accept){if(Object(observable)!==observable)throw new TypeError("Observable.observe() cannot be called on non-object.");"_seq"in callback||(callback._seq=seq++,callback._changeRecords=[],callback._refCountOfNotifier=0);var acceptTable=accept?accept.reduce(function(types,type){return types[type]=1,types},{}):DEFAULT_ACCEPT_CHANGETYPES,notifier=Observable.getNotifier(observable);return callback._seq in notifier.observers?notifier.observers[callback._seq].acceptTable=acceptTable:(notifier.observers[callback._seq]={acceptTable:acceptTable,callback:callback},++callback._refCountOfNotifier),{remove:function(){callback._seq in notifier.observers&&(delete notifier.observers[callback._seq],--callback._refCountOfNotifier)}}},Observable.deliverChangeRecords=function(callback){var length=callback._changeRecords.length;try{callback(callback._changeRecords.splice(0,length))}catch(e){has("console-api")&&console.error("Error occured in observer callback: "+(e.stack||e))}return removeGarbageCallback(callback),length>0}}return Observable}),define("decor/schedule",["./features"],function(has){"use strict";function runCallbacks(){for(var anyWorkDone=!0;anyWorkDone;){anyWorkDone=!1;for(var id in callbacks){var callback=callbacks[id];delete callbacks[id],callback(),anyWorkDone=!0}}inFlight=!1}var inFlight,SCHEDULEID_PREFIX="_schedule",seq=0,uniqueId=Math.random()+"",callbacks={},pseudoDiv=has("mutation-observer-api")&&document.createElement("div");return has("mutation-observer-api")?(pseudoDiv.id=0,new MutationObserver(runCallbacks).observe(pseudoDiv,{attributes:!0})):has("setimmediate-api")||window.addEventListener("message",function(event){event.data===uniqueId&&runCallbacks()}),function(callback){var id=SCHEDULEID_PREFIX+seq++;return callbacks[id]=callback,inFlight||(has("mutation-observer-api")?++pseudoDiv.id:has("setimmediate-api")?setImmediate(runCallbacks):window.postMessage(uniqueId,"*"),inFlight=!0),{remove:function(){delete callbacks[id]}}}}),define("decor/Invalidating",["dcl/dcl","./Stateful","./Destroyable"],function(dcl,Stateful,Destroyable){var Invalidating=dcl([Stateful,Destroyable],{constructor:dcl.after(function(){this.initializeInvalidating()}),initializeInvalidating:function(){this.own(this._hComputing=this.observe(function(oldValues){this.computeProperties(oldValues),this.deliverComputing()}),this._hRendering=this.observe(function(oldValues){this.refreshRendering(oldValues)})),this.discardChanges()},deliverComputing:function(){return this._hComputing&&this._hComputing.deliver(),this._hComputing},discardComputing:function(){return this._hComputing&&this._hComputing.discardChanges(),this._hComputing},deliver:function(){return this._hComputing&&this._hComputing.deliver(),this._hRendering&&this._hRendering.deliver(),this._hComputing},discardChanges:function(){return this._hComputing&&this._hComputing.discardChanges(),this._hRendering&&this._hRendering.discardChanges(),this._hComputing},computeProperties:function(){},refreshRendering:function(){}});return dcl.chainAfter(Invalidating,"computeProperties"),dcl.chainAfter(Invalidating,"refreshRendering"),Invalidating}),define("delite/features",["requirejs-dplugins/has"],function(has){return has.add("config-bgIframe",!1),has.add("dom-matches",function(){var node=document.body;return node.matches?"matches":node.webkitMatchesSelector?"webkitMatchesSelector":node.mozMatchesSelector?"mozMatchesSelector":node.msMatchesSelector?"msMatchesSelector":void 0}),has.add("document-register-element","undefined"!=typeof document&&!!document.registerElement),has.add("dom-proto-set",function(){var node=document.createElement("div");return node.__proto__?(node.__proto__={},!!node.attributes):!1}),has.add("bidi",!1),has}),define("dojo/dom-class",["./_base/lang","./_base/array","./dom"],function(lang,array,dom){function str2array(s){if("string"==typeof s||s instanceof String){if(s&&!spaces.test(s))return a1[0]=s,a1;var a=s.split(spaces);return a.length&&!a[0]&&a.shift(),a.length&&!a[a.length-1]&&a.pop(),a}return s?array.filter(s,function(x){return x}):[]}var cls,className="className",spaces=/\s+/,a1=[""],fakeNode={};return cls={contains:function(node,classStr){return(" "+dom.byId(node)[className]+" ").indexOf(" "+classStr+" ")>=0},add:function(node,classStr){node=dom.byId(node),classStr=str2array(classStr);var oldLen,cls=node[className];cls=cls?" "+cls+" ":" ",oldLen=cls.length;for(var c,i=0,len=classStr.length;len>i;++i)c=classStr[i],c&&cls.indexOf(" "+c+" ")<0&&(cls+=c+" ");oldLen<cls.length&&(node[className]=cls.substr(1,cls.length-2))},remove:function(node,classStr){node=dom.byId(node);var cls;if(void 0!==classStr){classStr=str2array(classStr),cls=" "+node[className]+" ";for(var i=0,len=classStr.length;len>i;++i)cls=cls.replace(" "+classStr[i]+" "," ");cls=lang.trim(cls)}else cls="";node[className]!=cls&&(node[className]=cls)},replace:function(node,addClassStr,removeClassStr){node=dom.byId(node),fakeNode[className]=node[className],cls.remove(fakeNode,removeClassStr),cls.add(fakeNode,addClassStr),node[className]!==fakeNode[className]&&(node[className]=fakeNode[className])},toggle:function(node,classStr,condition){if(node=dom.byId(node),void 0===condition){classStr=str2array(classStr);for(var c,i=0,len=classStr.length;len>i;++i)c=classStr[i],cls[cls.contains(node,c)?"remove":"add"](node,c)}else cls[condition?"add":"remove"](node,classStr);return condition}}}),define("dojo/_base/array",["./kernel","../has","./lang"],function(dojo,has,lang){function buildFn(fn){return cache[fn]=new Function("item","index","array",fn)}function everyOrSome(some){var every=!some;return function(a,fn,o){var result,i=0,l=a&&a.length||0;if(l&&"string"==typeof a&&(a=a.split("")),"string"==typeof fn&&(fn=cache[fn]||buildFn(fn)),o){for(;l>i;++i)if(result=!fn.call(o,a[i],i,a),some^result)return!result}else for(;l>i;++i)if(result=!fn(a[i],i,a),some^result)return!result;return every}}function index(up){var delta=1,lOver=0,uOver=0;return up||(delta=lOver=uOver=-1),function(a,x,from,last){if(last&&delta>0)return array.lastIndexOf(a,x,from);var i,l=a&&a.length||0,end=up?l+uOver:lOver;for(from===u?i=up?lOver:l+uOver:0>from?(i=l+from,0>i&&(i=lOver)):i=from>=l?l+uOver:from,l&&"string"==typeof a&&(a=a.split(""));i!=end;i+=delta)if(a[i]==x)return i;return-1}}var u,cache={},array={every:everyOrSome(!1),some:everyOrSome(!0),indexOf:index(!0),lastIndexOf:index(!1),forEach:function(arr,callback,thisObject){var i=0,l=arr&&arr.length||0;if(l&&"string"==typeof arr&&(arr=arr.split("")),"string"==typeof callback&&(callback=cache[callback]||buildFn(callback)),thisObject)for(;l>i;++i)callback.call(thisObject,arr[i],i,arr);else for(;l>i;++i)callback(arr[i],i,arr)},map:function(arr,callback,thisObject,Ctr){var i=0,l=arr&&arr.length||0,out=new(Ctr||Array)(l);if(l&&"string"==typeof arr&&(arr=arr.split("")),"string"==typeof callback&&(callback=cache[callback]||buildFn(callback)),thisObject)for(;l>i;++i)out[i]=callback.call(thisObject,arr[i],i,arr);else for(;l>i;++i)out[i]=callback(arr[i],i,arr);return out},filter:function(arr,callback,thisObject){var value,i=0,l=arr&&arr.length||0,out=[];if(l&&"string"==typeof arr&&(arr=arr.split("")),"string"==typeof callback&&(callback=cache[callback]||buildFn(callback)),thisObject)for(;l>i;++i)value=arr[i],callback.call(thisObject,value,i,arr)&&out.push(value);else for(;l>i;++i)value=arr[i],callback(value,i,arr)&&out.push(value);return out},clearCache:function(){cache={}}};return has("extend-dojo")&&lang.mixin(dojo,array),array}),define("dojo/dom",["./sniff","./_base/window"],function(has,win){if(has("ie")<=7)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var dom={};dom.byId=has("ie")?function(id,doc){if("string"!=typeof id)return id;var _d=doc||win.doc,te=id&&_d.getElementById(id);if(te&&(te.attributes.id.value==id||te.id==id))return te;var eles=_d.all[id];(!eles||eles.nodeName)&&(eles=[eles]);for(var i=0;te=eles[i++];)if(te.attributes&&te.attributes.id&&te.attributes.id.value==id||te.id==id)return te}:function(id,doc){return("string"==typeof id?(doc||win.doc).getElementById(id):id)||null},dom.isDescendant=function(node,ancestor){try{for(node=dom.byId(node),ancestor=dom.byId(ancestor);node;){if(node==ancestor)return!0;node=node.parentNode}}catch(e){}return!1},has.add("css-user-select",function(global,doc,element){if(!element)return!1;var style=element.style,prefixes=["Khtml","O","Moz","Webkit"],i=prefixes.length,name="userSelect";do if("undefined"!=typeof style[name])return name;while(i--&&(name=prefixes[i]+"UserSelect"));return!1});var cssUserSelect=has("css-user-select");return dom.setSelectable=cssUserSelect?function(node,selectable){dom.byId(node).style[cssUserSelect]=selectable?"":"none"}:function(node,selectable){node=dom.byId(node);var nodes=node.getElementsByTagName("*"),i=nodes.length;if(selectable)for(node.removeAttribute("unselectable");i--;)nodes[i].removeAttribute("unselectable");else for(node.setAttribute("unselectable","on");i--;)nodes[i].setAttribute("unselectable","on")},dom}),define("dojo/_base/window",["./kernel","./lang","../sniff"],function(dojo,lang,has){var ret={global:dojo.global,doc:dojo.global.document||null,body:function(doc){return doc=doc||dojo.doc,doc.body||doc.getElementsByTagName("body")[0]},setContext:function(globalObject,globalDocument){dojo.global=ret.global=globalObject,dojo.doc=ret.doc=globalDocument},withGlobal:function(globalObject,callback,thisObject,cbArguments){var oldGlob=dojo.global;try{return dojo.global=ret.global=globalObject,ret.withDoc.call(null,globalObject.document,callback,thisObject,cbArguments)}finally{dojo.global=ret.global=oldGlob}},withDoc:function(documentObject,callback,thisObject,cbArguments){var isIE,mode,pwin,oldDoc=ret.doc,oldQ=has("quirks"),oldIE=has("ie");try{return dojo.doc=ret.doc=documentObject,dojo.isQuirks=has.add("quirks","BackCompat"==dojo.doc.compatMode,!0,!0),has("ie")&&(pwin=documentObject.parentWindow)&&pwin.navigator&&(isIE=parseFloat(pwin.navigator.appVersion.split("MSIE ")[1])||void 0,mode=documentObject.documentMode,mode&&5!=mode&&Math.floor(isIE)!=mode&&(isIE=mode),dojo.isIE=has.add("ie",isIE,!0,!0)),thisObject&&"string"==typeof callback&&(callback=thisObject[callback]),callback.apply(thisObject,cbArguments||[])
}finally{dojo.doc=ret.doc=oldDoc,dojo.isQuirks=has.add("quirks",oldQ,!0,!0),dojo.isIE=has.add("ie",oldIE,!0,!0)}}};return has("extend-dojo")&&lang.mixin(dojo,ret),ret}),function(factory){"undefined"!=typeof define?define("dcl/dcl",["./mini"],factory):"undefined"!=typeof module?module.exports=factory(require("./mini")):dcl=factory(dcl)}(function(dcl){"use strict";function nop(){}function advise(f){return dcl._mk(f,Advice)}function makeAOPStub(b,a,f){var sb=b||nop,sa=a||nop,sf=f||nop,x=function(){var r;sb.apply(this,arguments);try{r=sf.apply(this,arguments)}catch(e){r=e}if(sa.call(this,arguments,r),r instanceof Error)throw r;return r};return x.advices={b:b,a:a,f:f},x}function chain(id){return function(ctor,name){var c,m=ctor._m;m&&(c=+m.w[name]||0,c&&c!=id&&dcl._e("set chaining",name,ctor,id,c),m.w[name]=id)}}var Advice=dcl(dcl.Super,{constructor:function(){this.b=this.f.before,this.a=this.f.after,this.f=this.f.around}});return dcl.mix(dcl,{Advice:Advice,advise:advise,before:function(f){return dcl.advise({before:f})},after:function(f){return dcl.advise({after:f})},around:dcl.superCall,chainBefore:chain(1),chainAfter:chain(2),isInstanceOf:function(o,ctor){if(o instanceof ctor)return!0;var i,t=o.constructor._m;if(t)for(t=t.b,i=t.length-1;i>=0;--i)if(t[i]===ctor)return!0;return!1},_sb:function(id,bases,name,chains){var f=chains[name]=dcl._ec(bases,name,"f"),b=dcl._ec(bases,name,"b").reverse(),a=dcl._ec(bases,name,"a");return f=id?dcl._st(f,1==id?function(f){return dcl._sc(f.reverse())}:dcl._sc,name):dcl._ss(f,name),b.length||a.length?makeAOPStub(dcl._sc(b),dcl._sc(a),f):f||function(){}}}),dcl}),function(factory){"undefined"!=typeof define?define("dcl/mini",[],factory):"undefined"!=typeof module?module.exports=factory():dcl=factory()}(function(){"use strict";function dcl(superClass,props){var proto,base,ctor,meta,connectionMap,output,vector,superClasses,i,n,bases=[0],j=0;if(superClass)if(superClass instanceof Array){for(connectionMap={},superClasses=superClass.slice(0).reverse(),i=superClasses.length-1;i>=0;--i)if(base=superClasses[i],base._u=base._u||counter++,proto=base._m){for(vector=proto.b,j=vector.length-1;j>0;--j)n=vector[j]._u,connectionMap[n]=(connectionMap[n]||0)+1;superClasses[i]=vector.slice(0)}else superClasses[i]=[base];output={};c:for(;superClasses.length;){for(i=0;i<superClasses.length;++i)if(vector=superClasses[i],base=vector[0],n=base._u,!connectionMap[n]){output[n]||(bases.push(base),output[n]=1),vector.shift(),vector.length?--connectionMap[vector[0]._u]:superClasses.splice(i,1);continue c}dcl._e("cycle",props,superClasses)}superClass=superClass[0],j=bases.length-((meta=superClass._m)&&superClass===bases[bases.length-(j=meta.b.length)]?j:1)-1}else superClass._u=superClass._u||counter++,bases=bases.concat((meta=superClass._m)?meta.b:superClass);for(proto=superClass?dcl.delegate(superClass[pname]):{},vector=superClass&&(meta=superClass._m)?dcl.delegate(meta.w):{constructor:2};j>0;--j)if(base=bases[j],meta=base._m,dcl.mix(proto,meta&&meta.h||base[pname]),meta)for(n in superClasses=meta.w)vector[n]=(+vector[n]||0)|superClasses[n];for(n in props)isSuper(meta=props[n])?vector[n]=+vector[n]||0:proto[n]=meta;return meta={b:bases,h:props,w:vector,c:{}},bases[0]={_m:meta,prototype:proto},buildStubs(meta,proto),ctor=proto[cname],ctor._m=meta,ctor[pname]=proto,bases[0]=ctor,dcl._p(ctor)}function Super(f){this.f=f}function isSuper(f){return f&&f.spr instanceof Super}function allKeys(o){var keys=[];for(var name in o)keys.push(name);return keys}function buildStubs(meta,proto){var weaver=meta.w,bases=meta.b,chains=meta.c;for(var name in weaver)proto[name]=dcl._sb(weaver[name],bases,name,chains)}var mix,extractChain,stubSuper,stubChain,stubChainSuper,counter=0,cname="constructor",pname="prototype",empty={};return(mix=function(a,b){for(var n in b)a[n]=b[n]})(dcl,{mix:mix,delegate:function(o){return Object.create(o)},allKeys:allKeys,Super:Super,superCall:function(f){return dcl._mk(f)},_mk:function(f,S){var fn=function(){};return fn.spr=new(S||Super)(f),fn},_p:function(ctor){return ctor},_e:function(msg){throw Error("dcl: "+msg)},_f:function(f,a){var t=f.spr.f(a);return t.ctr=f.ctr,t},_ec:extractChain=function(bases,name,advice){for(var base,f,i=bases.length-1,chain=[],around="f"==advice;base=bases[i];--i)((f=base._m)?(f=f.h).hasOwnProperty(name)&&(isSuper(f=f[name])?around?f.spr.f:f=f.spr[advice]:around):around&&(f=name==cname?base:base[pname][name])&&f!==empty[name])&&(f.ctr=base,chain.push(f));return chain},_sc:stubChain=function(chain){var f,l=chain.length;return l?1==l?(f=chain[0],function(){f.apply(this,arguments)}):function(){for(var i=0;l>i;++i)chain[i].apply(this,arguments)}:0},_ss:stubSuper=function(chain,name){for(var f,i=0,p=empty[name];f=chain[i];++i)p=isSuper(f)?chain[i]=dcl._f(f,p,name):f;return name!=cname?p:function(){p.apply(this,arguments)}},_st:stubChainSuper=function(chain,stub,name){for(var f,diff,i=0,pi=0;f=chain[i];++i)isSuper(f)&&(diff=i-pi,diff=chain[i]=dcl._f(f,diff?1==diff?chain[pi]:stub(chain.slice(pi,i)):0,name),pi=i);return diff=i-pi,diff?1==diff&&name!=cname?chain[pi]:stub(pi?chain.slice(pi):chain):0},_sb:function(id,bases,name,chains){var f=chains[name]=extractChain(bases,name,"f");return(id?stubChainSuper(f,stubChain,name):stubSuper(f,name))||function(){}}}),dcl}),define("requirejs-text/text",["module"],function(module){"use strict";var text,fs,Cc,Ci,xpcIsWindows,progIds=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],xmlRegExp=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,bodyRegExp=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,hasLocation="undefined"!=typeof location&&location.href,defaultProtocol=hasLocation&&location.protocol&&location.protocol.replace(/\:/,""),defaultHostName=hasLocation&&location.hostname,defaultPort=hasLocation&&(location.port||void 0),buildMap={},masterConfig=module.config&&module.config()||{};return text={version:"2.0.12",strip:function(content){if(content){content=content.replace(xmlRegExp,"");var matches=content.match(bodyRegExp);matches&&(content=matches[1])}else content="";return content},jsEscape:function(content){return content.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:masterConfig.createXhr||function(){var xhr,i,progId;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(i=0;3>i;i+=1){progId=progIds[i];try{xhr=new ActiveXObject(progId)}catch(e){}if(xhr){progIds=[progId];break}}return xhr},parseName:function(name){var modName,ext,temp,strip=!1,index=name.indexOf("."),isRelative=0===name.indexOf("./")||0===name.indexOf("../");return-1!==index&&(!isRelative||index>1)?(modName=name.substring(0,index),ext=name.substring(index+1,name.length)):modName=name,temp=ext||modName,index=temp.indexOf("!"),-1!==index&&(strip="strip"===temp.substring(index+1),temp=temp.substring(0,index),ext?ext=temp:modName=temp),{moduleName:modName,ext:ext,strip:strip}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(url,protocol,hostname,port){var uProtocol,uHostName,uPort,match=text.xdRegExp.exec(url);return match?(uProtocol=match[2],uHostName=match[3],uHostName=uHostName.split(":"),uPort=uHostName[1],uHostName=uHostName[0],!(uProtocol&&uProtocol!==protocol||uHostName&&uHostName.toLowerCase()!==hostname.toLowerCase()||(uPort||uHostName)&&uPort!==port)):!0},finishLoad:function(name,strip,content,onLoad){content=strip?text.strip(content):content,masterConfig.isBuild&&(buildMap[name]=content),onLoad(content)},load:function(name,req,onLoad,config){if(config&&config.isBuild&&!config.inlineText)return void onLoad();masterConfig.isBuild=config&&config.isBuild;var parsed=text.parseName(name),nonStripName=parsed.moduleName+(parsed.ext?"."+parsed.ext:""),url=req.toUrl(nonStripName),useXhr=masterConfig.useXhr||text.useXhr;return 0===url.indexOf("empty:")?void onLoad():void(!hasLocation||useXhr(url,defaultProtocol,defaultHostName,defaultPort)?text.get(url,function(content){text.finishLoad(name,parsed.strip,content,onLoad)},function(err){onLoad.error&&onLoad.error(err)}):req([nonStripName],function(content){text.finishLoad(parsed.moduleName+"."+parsed.ext,parsed.strip,content,onLoad)}))},write:function(pluginName,moduleName,write){if(buildMap.hasOwnProperty(moduleName)){var content=text.jsEscape(buildMap[moduleName]);write.asModule(pluginName+"!"+moduleName,"define(function () { return '"+content+"';});\n")}},writeFile:function(pluginName,moduleName,req,write,config){var parsed=text.parseName(moduleName),extPart=parsed.ext?"."+parsed.ext:"",nonStripName=parsed.moduleName+extPart,fileName=req.toUrl(parsed.moduleName+extPart)+".js";text.load(nonStripName,req,function(){var textWrite=function(contents){return write(fileName,contents)};textWrite.asModule=function(moduleName,contents){return write.asModule(moduleName,fileName,contents)},text.write(pluginName,nonStripName,textWrite,config)},config)}},"node"===masterConfig.env||!masterConfig.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(fs=require.nodeRequire("fs"),text.get=function(url,callback,errback){try{var file=fs.readFileSync(url,"utf8");0===file.indexOf("﻿")&&(file=file.substring(1)),callback(file)}catch(e){errback&&errback(e)}}):"xhr"===masterConfig.env||!masterConfig.env&&text.createXhr()?text.get=function(url,callback,errback,headers){var header,xhr=text.createXhr();if(xhr.open("GET",url,!0),headers)for(header in headers)headers.hasOwnProperty(header)&&xhr.setRequestHeader(header.toLowerCase(),headers[header]);masterConfig.onXhr&&masterConfig.onXhr(xhr,url),xhr.onreadystatechange=function(){var status,err;4===xhr.readyState&&(status=xhr.status||0,status>399&&600>status?(err=new Error(url+" HTTP status: "+status),err.xhr=xhr,errback&&errback(err)):callback(xhr.responseText),masterConfig.onXhrComplete&&masterConfig.onXhrComplete(xhr,url))},xhr.send(null)}:"rhino"===masterConfig.env||!masterConfig.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?text.get=function(url,callback){var stringBuffer,line,encoding="utf-8",file=new java.io.File(url),lineSeparator=java.lang.System.getProperty("line.separator"),input=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file),encoding)),content="";try{for(stringBuffer=new java.lang.StringBuffer,line=input.readLine(),line&&line.length()&&65279===line.charAt(0)&&(line=line.substring(1)),null!==line&&stringBuffer.append(line);null!==(line=input.readLine());)stringBuffer.append(lineSeparator),stringBuffer.append(line);content=String(stringBuffer.toString())}finally{input.close()}callback(content)}:("xpconnect"===masterConfig.env||!masterConfig.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(Cc=Components.classes,Ci=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),xpcIsWindows="@mozilla.org/windows-registry-key;1"in Cc,text.get=function(url,callback){var inStream,convertStream,fileObj,readData={};xpcIsWindows&&(url=url.replace(/\//g,"\\")),fileObj=new FileUtils.File(url);try{inStream=Cc["@mozilla.org/network/file-input-stream;1"].createInstance(Ci.nsIFileInputStream),inStream.init(fileObj,1,0,!1),convertStream=Cc["@mozilla.org/intl/converter-input-stream;1"].createInstance(Ci.nsIConverterInputStream),convertStream.init(inStream,"utf-8",inStream.available(),Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),convertStream.readString(inStream.available(),readData),convertStream.close(),inStream.close(),callback(readData.value)}catch(e){throw new Error((fileObj&&fileObj.path||"")+": "+e)}}),text}),define("dojo/selector/_loader",["../has","require"],function(has,require){"use strict";var testDiv=document.createElement("div");has.add("dom-qsa2.1",!!testDiv.querySelectorAll),has.add("dom-qsa3",function(){try{return testDiv.innerHTML="<p class='TEST'></p>",1==testDiv.querySelectorAll(".TEST:empty").length}catch(e){}});var fullEngine,acme="./acme",lite="./lite";return{load:function(id,parentRequire,loaded){var req=require;if(id="default"==id?has("config-selectorEngine")||"css3":id,id="css2"==id||"lite"==id?lite:"css2.1"==id?has("dom-qsa2.1")?lite:acme:"css3"==id?has("dom-qsa3")?lite:acme:"acme"==id?acme:(req=parentRequire)&&id,"?"==id.charAt(id.length-1)){id=id.substring(0,id.length-1);var optionalLoad=!0}return optionalLoad&&(has("dom-compliant-qsa")||fullEngine)?loaded(fullEngine):void req([id],function(engine){"./lite"!=id&&(fullEngine=engine),loaded(engine)})}}}),define("dojo/request/xhr",["../errors/RequestError","./watch","./handlers","./util","../has"],function(RequestError,watch,handlers,util,has){function handleResponse(response,error){var _xhr=response.xhr;response.status=response.xhr.status;try{response.text=_xhr.responseText}catch(e){}if("xml"===response.options.handleAs&&(response.data=_xhr.responseXML),!error)try{handlers(response)}catch(e){error=e}error?this.reject(error):util.checkStatus(_xhr.status)?this.resolve(response):(error=new RequestError("Unable to load "+response.url+" status: "+_xhr.status,response),this.reject(error))}function getHeader(headerName){return this.xhr.getResponseHeader(headerName)}function xhr(url,options,returnDeferred){var isFormData=has("native-formdata")&&options&&options.data&&options.data instanceof FormData,response=util.parseArgs(url,util.deepCreate(defaultOptions,options),isFormData);url=response.url,options=response.options;var remover,last=function(){remover&&remover()},dfd=util.deferred(response,cancel,isValid,isReady,handleResponse,last),_xhr=response.xhr=xhr._create();if(!_xhr)return dfd.cancel(new RequestError("XHR was not created")),returnDeferred?dfd:dfd.promise;response.getHeader=getHeader,addListeners&&(remover=addListeners(_xhr,dfd,response));var data=options.data,async=!options.sync,method=options.method;try{_xhr.open(method,url,async,options.user||undefined,options.password||undefined),options.withCredentials&&(_xhr.withCredentials=options.withCredentials),has("native-response-type")&&options.handleAs in nativeResponseTypes&&(_xhr.responseType=nativeResponseTypes[options.handleAs]);var headers=options.headers,contentType=isFormData?!1:"application/x-www-form-urlencoded";if(headers)for(var hdr in headers)"content-type"===hdr.toLowerCase()?contentType=headers[hdr]:headers[hdr]&&_xhr.setRequestHeader(hdr,headers[hdr]);contentType&&contentType!==!1&&_xhr.setRequestHeader("Content-Type",contentType),headers&&"X-Requested-With"in headers||_xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),util.notify&&util.notify.emit("send",response,dfd.promise.cancel),_xhr.send(data)}catch(e){dfd.reject(e)}return watch(dfd),_xhr=null,returnDeferred?dfd:dfd.promise}has.add("native-xhr",function(){return"undefined"!=typeof XMLHttpRequest}),has.add("dojo-force-activex-xhr",function(){return has("activex")&&!document.addEventListener&&"file:"===window.location.protocol}),has.add("native-xhr2",function(){if(has("native-xhr")){var x=new XMLHttpRequest;return"undefined"!=typeof x.addEventListener&&("undefined"==typeof opera||"undefined"!=typeof x.upload)}}),has.add("native-formdata",function(){return"undefined"!=typeof FormData}),has.add("native-response-type",function(){return has("native-xhr")&&"undefined"!=typeof(new XMLHttpRequest).responseType}),has.add("native-xhr2-blob",function(){if(has("native-response-type")){var x=new XMLHttpRequest;x.open("GET","/",!0),x.responseType="blob";var responseType=x.responseType;return x.abort(),"blob"===responseType}});var isValid,isReady,addListeners,cancel,nativeResponseTypes={blob:has("native-xhr2-blob")?"blob":"arraybuffer",document:"document",arraybuffer:"arraybuffer"};has("native-xhr2")?(isValid=function(){return!this.isFulfilled()},cancel=function(dfd,response){response.xhr.abort()},addListeners=function(_xhr,dfd,response){function onLoad(){dfd.handleResponse(response)}function onError(evt){var _xhr=evt.target,error=new RequestError("Unable to load "+response.url+" status: "+_xhr.status,response);dfd.handleResponse(response,error)}function onProgress(evt){evt.lengthComputable?(response.loaded=evt.loaded,response.total=evt.total,dfd.progress(response)):3===response.xhr.readyState&&(response.loaded=evt.position,dfd.progress(response))}return _xhr.addEventListener("load",onLoad,!1),_xhr.addEventListener("error",onError,!1),_xhr.addEventListener("progress",onProgress,!1),function(){_xhr.removeEventListener("load",onLoad,!1),_xhr.removeEventListener("error",onError,!1),_xhr.removeEventListener("progress",onProgress,!1),_xhr=null}}):(isValid=function(response){return response.xhr.readyState},isReady=function(response){return 4===response.xhr.readyState},cancel=function(dfd,response){var xhr=response.xhr,_at=typeof xhr.abort;("function"===_at||"object"===_at||"unknown"===_at)&&xhr.abort()});var undefined,defaultOptions={data:null,query:null,sync:!1,method:"GET"};if(xhr._create=function(){throw new Error("XMLHTTP not available")},has("native-xhr")&&!has("dojo-force-activex-xhr"))xhr._create=function(){return new XMLHttpRequest};else if(has("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),xhr._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(e){try{new ActiveXObject("Microsoft.XMLHTTP"),xhr._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(e){}}return util.addCommonMethods(xhr),xhr}),define("dojo/request/util",["exports","../errors/RequestError","../errors/CancelError","../Deferred","../io-query","../_base/array","../_base/lang","../promise/Promise"],function(exports,RequestError,CancelError,Deferred,ioQuery,array,lang,Promise){function okHandler(response){return freeze(response)}function dataHandler(response){return response.data||response.text}exports.deepCopy=function(target,source){for(var name in source){var tval=target[name],sval=source[name];tval!==sval&&(tval&&"object"==typeof tval&&sval&&"object"==typeof sval?exports.deepCopy(tval,sval):target[name]=sval)}return target},exports.deepCreate=function(source,properties){properties=properties||{};var name,value,target=lang.delegate(source);for(name in source)value=source[name],value&&"object"==typeof value&&(target[name]=exports.deepCreate(value,properties[name]));return exports.deepCopy(target,properties)};var freeze=Object.freeze||function(obj){return obj};exports.deferred=function(response,cancel,isValid,isReady,handleResponse,last){function errHandler(error){throw error.response=response,error}var def=new Deferred(function(reason){return cancel&&cancel(def,response),reason&&(reason instanceof RequestError||reason instanceof CancelError)?reason:new CancelError("Request canceled",response)});def.response=response,def.isValid=isValid,def.isReady=isReady,def.handleResponse=handleResponse;var responsePromise=def.then(okHandler).otherwise(errHandler);exports.notify&&responsePromise.then(lang.hitch(exports.notify,"emit","load"),lang.hitch(exports.notify,"emit","error"));var dataPromise=responsePromise.then(dataHandler),promise=new Promise;for(var prop in dataPromise)dataPromise.hasOwnProperty(prop)&&(promise[prop]=dataPromise[prop]);return promise.response=responsePromise,freeze(promise),last&&def.then(function(response){last.call(def,response)},function(error){last.call(def,response,error)}),def.promise=promise,def.then=promise.then,def},exports.addCommonMethods=function(provider,methods){array.forEach(methods||["GET","POST","PUT","DELETE"],function(method){provider[("DELETE"===method?"DEL":method).toLowerCase()]=function(url,options){return options=lang.delegate(options||{}),options.method=method,provider(url,options)}})},exports.parseArgs=function(url,options,skipData){var data=options.data,query=options.query;return data&&!skipData&&"object"==typeof data&&(options.data=ioQuery.objectToQuery(data)),query?("object"==typeof query&&(query=ioQuery.objectToQuery(query)),options.preventCache&&(query+=(query?"&":"")+"request.preventCache="+ +new Date)):options.preventCache&&(query="request.preventCache="+ +new Date),url&&query&&(url+=(~url.indexOf("?")?"&":"?")+query),{url:url,options:options,getHeader:function(){return null}}},exports.checkStatus=function(stat){return stat=stat||0,stat>=200&&300>stat||304===stat||1223===stat||!stat}}),define("dojo/io-query",["./_base/lang"],function(lang){var backstop={};return{objectToQuery:function(map){var enc=encodeURIComponent,pairs=[];for(var name in map){var value=map[name];if(value!=backstop[name]){var assign=enc(name)+"=";if(lang.isArray(value))for(var i=0,l=value.length;l>i;++i)pairs.push(assign+enc(value[i]));else pairs.push(assign+enc(value))}}return pairs.join("&")},queryToObject:function(str){for(var name,val,item,dec=decodeURIComponent,qp=str.split("&"),ret={},i=0,l=qp.length;l>i;++i)if(item=qp[i],item.length){var s=item.indexOf("=");0>s?(name=dec(item),val=""):(name=dec(item.slice(0,s)),val=dec(item.slice(s+1))),"string"==typeof ret[name]&&(ret[name]=[ret[name]]),lang.isArray(ret[name])?ret[name].push(val):ret[name]=val}return ret}}}),define("dojo/request/handlers",["../json","../_base/kernel","../_base/array","../has","../has!dom?../selector/_loader"],function(JSON,kernel,array,has){function handle(response){var handler=handlers[response.options.handleAs];return response.data=handler?handler(response):response.data||response.text,response}has.add("activex","undefined"!=typeof ActiveXObject),has.add("dom-parser",function(global){return"DOMParser"in global});var handleXML;if(has("activex")){var lastParser,dp=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];handleXML=function(response){function createDocument(p){try{var dom=new ActiveXObject(p);dom.async=!1,dom.loadXML(text),result=dom,lastParser=p}catch(e){return!1}return!0}var result=response.data,text=response.text;return result&&has("dom-qsa2.1")&&!result.querySelectorAll&&has("dom-parser")&&(result=(new DOMParser).parseFromString(text,"application/xml")),result&&result.documentElement||lastParser&&createDocument(lastParser)||array.some(dp,createDocument),result}}var handleNativeResponse=function(response){return has("native-xhr2-blob")||"blob"!==response.options.handleAs||"undefined"==typeof Blob?response.xhr.response:new Blob([response.xhr.response],{type:response.xhr.getResponseHeader("Content-Type")})},handlers={javascript:function(response){return kernel.eval(response.text||"")},json:function(response){return JSON.parse(response.text||null)},xml:handleXML,blob:handleNativeResponse,arraybuffer:handleNativeResponse,document:handleNativeResponse};return handle.register=function(name,handler){handlers[name]=handler},handle}),define("dojo/json",["./has"],function(has){"use strict";var hasJSON="undefined"!=typeof JSON;if(has.add("json-parse",hasJSON),has.add("json-stringify",hasJSON&&'{"a":1}'==JSON.stringify({a:0},function(k,v){return v||1})),has("json-stringify"))return JSON;var escapeString=function(str){return('"'+str.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:has("json-parse")?JSON.parse:function(str,strict){if(strict&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str))throw new SyntaxError("Invalid characters in JSON");return eval("("+str+")")},stringify:function(value,replacer,spacer){function stringify(it,indent,key){replacer&&(it=replacer(key,it));var val,objtype=typeof it;if("number"==objtype)return isFinite(it)?it+"":"null";if("boolean"==objtype)return it+"";if(null===it)return"null";if("string"==typeof it)return escapeString(it);if("function"==objtype||"undefined"==objtype)return undef;if("function"==typeof it.toJSON)return stringify(it.toJSON(key),indent,key);if(it instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(t,prop,plus){var num=it["getUTC"+prop]()+(plus?1:0);return 10>num?"0"+num:num});if(it.valueOf()!==it)return stringify(it.valueOf(),indent,key);var nextIndent=spacer?indent+spacer:"",sep=spacer?" ":"",newLine=spacer?"\n":"";if(it instanceof Array){var itl=it.length,res=[];for(key=0;itl>key;key++){var obj=it[key];val=stringify(obj,nextIndent,key),"string"!=typeof val&&(val="null"),res.push(newLine+nextIndent+val)}return"["+res.join(",")+newLine+indent+"]"}var output=[];for(key in it){var keyStr;if(it.hasOwnProperty(key)){if("number"==typeof key)keyStr='"'+key+'"';else{if("string"!=typeof key)continue;keyStr=escapeString(key)}if(val=stringify(it[key],nextIndent,key),"string"!=typeof val)continue;output.push(newLine+nextIndent+keyStr+":"+sep+val)}}return"{"+output.join(",")+newLine+indent+"}"}var undef;return"string"==typeof replacer&&(spacer=replacer,replacer=null),stringify(value,"","")}}}),define("dojo/request/watch",["./util","../errors/RequestTimeoutError","../errors/CancelError","../_base/array","../has!host-browser?../_base/window:","../has!host-browser?dom-addeventlistener?:../on:"],function(util,RequestTimeoutError,CancelError,array,win,on){function watchInFlight(){for(var dfd,now=+new Date,i=0;i<_inFlight.length&&(dfd=_inFlight[i]);i++){var response=dfd.response,options=response.options;dfd.isCanceled&&dfd.isCanceled()||dfd.isValid&&!dfd.isValid(response)?(_inFlight.splice(i--,1),watch._onAction&&watch._onAction()):dfd.isReady&&dfd.isReady(response)?(_inFlight.splice(i--,1),dfd.handleResponse(response),watch._onAction&&watch._onAction()):dfd.startTime&&dfd.startTime+(options.timeout||0)<now&&(_inFlight.splice(i--,1),dfd.cancel(new RequestTimeoutError("Timeout exceeded",response)),watch._onAction&&watch._onAction())}watch._onInFlight&&watch._onInFlight(dfd),_inFlight.length||(clearInterval(_inFlightIntvl),_inFlightIntvl=null)}function watch(dfd){dfd.response.options.timeout&&(dfd.startTime=+new Date),dfd.isFulfilled()||(_inFlight.push(dfd),_inFlightIntvl||(_inFlightIntvl=setInterval(watchInFlight,50)),dfd.response.options.sync&&watchInFlight())}var _inFlightIntvl=null,_inFlight=[];return watch.cancelAll=function(){try{array.forEach(_inFlight,function(dfd){try{dfd.cancel(new CancelError("All requests canceled."))}catch(e){}})}catch(e){}},win&&on&&win.doc.attachEvent&&on(win.global,"unload",function(){watch.cancelAll()}),watch}),define("dojo/errors/RequestTimeoutError",["./create","./RequestError"],function(create,RequestError){return create("RequestTimeoutError",null,RequestError,{dojoType:"timeout"})}),define("dojo/errors/RequestError",["./create"],function(create){return create("RequestError",function(message,response){this.response=response})}),define("angular-delite/dstore/TrackableRest",["angular","dojo/_base/declare","dstore/Rest","dstore/Trackable","angular-delite/wrappers/store"],function(angular,declare,Rest,Trackable,wrapper){angular.module("dstore.trackableRest",[]).factory("TrackableRest",function($q){return wrapper(declare([Rest,Trackable]),$q)})}),define("angular-delite/wrappers/store",["dojo/_base/declare"],function(declare){var promise=function(q){return function(){var d=q.defer(),res=this.inherited(arguments);return res.then(function(){d.resolve.apply(d,arguments)},function(){d.reject.apply(d,arguments)},function(){d.notify.apply(d,arguments)}),d.promise}};return function(Constructor,q){var _Constructor=Constructor;return"undefined"!=typeof q&&(_Constructor=declare(Constructor,{get:promise(q),save:promise(q),add:promise(q),put:promise(q),remove:promise(q)})),_Constructor}}),define("dstore/Trackable",["dojo/_base/lang","dojo/_base/declare","dojo/aspect","dojo/when","dojo/promise/all","dojo/_base/array","dojo/on"],function(lang,declare,aspect,when,whenAll,arrayUtil,on){function createRange(newStart,newEnd){return{start:newStart,count:newEnd-newStart}}function registerRange(ranges,newStart,newEnd){for(var i=ranges.length-1;i>=0;--i){var existingRange=ranges[i],existingStart=existingRange.start,existingEnd=existingStart+existingRange.count;if(newStart>existingEnd)return void ranges.splice(i+1,0,createRange(newStart,newEnd));newEnd>=existingStart&&(newStart=Math.min(newStart,existingStart),newEnd=Math.max(newEnd,existingEnd),ranges.splice(i,1))}ranges.unshift(createRange(newStart,newEnd))}function unregisterRange(ranges,start,end){for(var range,i=0;range=ranges[i];++i){var existingStart=range.start,existingEnd=existingStart+range.count;if(existingStart>=start){if(!(end>=existingEnd))return range.start=end,void(range.count=existingEnd-range.start);ranges.splice(i,1)}else if(existingEnd>start){if(end>existingStart)return void ranges.splice(i,1,createRange(existingStart,start),createRange(end,existingEnd));range.count=start-range.start}}}var revision=0;return declare(null,{currentRange:[],track:function(){function makeFetch(){return function(){var self=this;return when(this.inherited(arguments),function(results){return results=self._results=results.slice(),self._ranges=[],registerRange(self._ranges,0,results.length),results})}}function makeFetchRange(){return function(kwArgs){var self=this,start=kwArgs.start,end=kwArgs.end,fetchResults=this.inherited(arguments);return when(fetchResults,function(results){return when(results.totalLength,function(totalLength){var partialResults=self._partialResults||(self._partialResults=[]);end=Math.min(end,start+results.length),partialResults.length=totalLength;var spliceArgs=[start,end-start].concat(results);return partialResults.splice.apply(partialResults,spliceArgs),registerRange(self._ranges,start,end),results})}),fetchResults}}function notify(type,event){revision++;var target=event.target;event=lang.delegate(event,defaultEventProps[type]),when(observed._results||observed._partialResults,function(resultsArray){function emitEvent(){var method=observed["on_tracked"+type];method&&method.call(observed,event)}if(!resultsArray)return void emitEvent();var i,j,l,range,ranges=observed._ranges,targetId="id"in event?event.id:store.getIdentity(target),removedFrom=-1,removalRangeIndex=-1,insertedInto=-1,insertionRangeIndex=-1;if("remove"===type||"update"===type)for(i=0;-1===removedFrom&&i<ranges.length;++i)for(range=ranges[i],j=range.start,l=j+range.count;l>j;++j){var object=resultsArray[j];if(store.getIdentity(object)==targetId){for(removedFrom=event.previousIndex=j,removalRangeIndex=i,resultsArray.splice(removedFrom,1),range.count--,j=i+1;j<ranges.length;++j)ranges[j].start--;break}}if("add"===type||"update"===type){if(queryExecutor){if(queryExecutor.matches?queryExecutor.matches(target):queryExecutor([target]).length)for(var sampleArray,sortedIndex,adjustedIndex,begin=0,end=ranges.length-1,candidateIndex=-1;end>=begin&&-1===insertedInto;)i=begin+Math.round((end-begin)/2),range=ranges[i],sampleArray=resultsArray.slice(range.start,range.start+range.count),"beforeId"in event&&(candidateIndex=null===event.beforeId?sampleArray.length:findObject(sampleArray,event.beforeId)),-1===candidateIndex&&(candidateIndex=removedFrom>=Math.max(0,range.start-1)&&removedFrom<=range.start+range.count?removedFrom:store.defaultNewToStart?0:sampleArray.length),sampleArray.splice(candidateIndex,0,target),sortedIndex=arrayUtil.indexOf(queryExecutor(sampleArray),target),adjustedIndex=range.start+sortedIndex,0===sortedIndex&&0!==range.start?end=i-1:sortedIndex>=sampleArray.length-1&&adjustedIndex<resultsArray.length?begin=i+1:(insertedInto=adjustedIndex,insertionRangeIndex=i)}else{var range,possibleRangeIndex=-1;if("beforeId"in event)if(null===event.beforeId)insertedInto=resultsArray.length,possibleRangeIndex=ranges.length-1;else for(i=0,l=ranges.length;-1===insertionRangeIndex&&l>i;++i)range=ranges[i],insertedInto=findObject(resultsArray,event.beforeId,range.start,range.start+range.count),-1!==insertedInto&&(insertionRangeIndex=i);else"update"===type?(insertedInto=removedFrom,insertionRangeIndex=removalRangeIndex):store.defaultNewToStart?(insertedInto=0,possibleRangeIndex=0):(insertedInto=resultsArray.length,possibleRangeIndex=ranges.length-1);-1!==possibleRangeIndex&&-1===insertionRangeIndex&&(range=ranges[possibleRangeIndex],range&&range.start<=insertedInto&&insertedInto<=range.start+range.count&&(insertionRangeIndex=possibleRangeIndex))
}if(insertedInto>-1&&insertionRangeIndex>-1)for(event.index=insertedInto,resultsArray.splice(insertedInto,0,target),ranges[insertionRangeIndex].count++,i=insertionRangeIndex+1;i<ranges.length;++i)ranges[i].start++}event.totalLength=resultsArray.length,emitEvent()})}var store=this.store||this,handles=[],eventTypes={add:1,update:1,remove:1};for(var type in eventTypes)handles.push(this.on(type,function(type){return function(event){notify(type,event)}}(type)));var observed=declare.safeMixin(lang.delegate(this),{_ranges:[],fetch:makeFetch(),fetchRange:makeFetchRange(),fetchSync:makeFetch(),fetchRangeSync:makeFetchRange(),releaseRange:function(start,end){if(this._partialResults){unregisterRange(this._ranges,start,end);for(var i=start;end>i;++i)delete this._partialResults[i]}},on:function(type,listener){var self=this,inheritedOn=this.getInherited(arguments);return on.parse(observed,type,listener,function(target,type){return type in eventTypes?aspect.after(observed,"on_tracked"+type,listener,!0):inheritedOn.call(self,type,listener)})},tracking:{remove:function(){for(;handles.length>0;)handles.pop().remove();this.remove=function(){}}},track:null});this.fetchSync&&declare.safeMixin(observed,{fetchSync:makeFetch(),fetchRangeSync:makeFetchRange()});var queryExecutor;this.queryEngine&&arrayUtil.forEach(this.queryLog,function(entry){var existingQuerier=queryExecutor,querier=entry.querier;queryExecutor=existingQuerier?function(data){return querier(existingQuerier(data))}:querier});var defaultEventProps={add:{index:void 0},update:{previousIndex:void 0,index:void 0},remove:{previousIndex:void 0}},findObject=function(data,id,start,end){start=void 0!==start?start:0,end=void 0!==end?end:data.length;for(var i=start;end>i;++i)if(store.getIdentity(data[i])===id)return i;return-1};return observed}})}),define("dojo/on",["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(aspect,dojo,has){"use strict";function addListener(target,type,listener,dontFix,matchesTarget){var selector=type.match(/(.*):(.*)/);if(selector)return type=selector[2],selector=selector[1],on.selector(selector,type).call(matchesTarget,target,listener);if(has("touch")&&(touchEvents.test(type)&&(listener=fixTouchListener(listener)),has("event-orientationchange")||"orientationchange"!=type||(type="resize",target=window,listener=fixTouchListener(listener))),addStopImmediate&&(listener=addStopImmediate(listener)),target.addEventListener){var capture=type in captures,adjustedType=capture?captures[type]:type;return target.addEventListener(adjustedType,listener,capture),{remove:function(){target.removeEventListener(adjustedType,listener,capture)}}}if(type="on"+type,fixAttach&&target.attachEvent)return fixAttach(target,type,listener);throw new Error("Target must be an event emitter")}function syntheticPreventDefault(){this.cancelable=!1,this.defaultPrevented=!0}function syntheticStopPropagation(){this.bubbles=!1}if(has("dom")){var major=window.ScriptEngineMajorVersion;has.add("jscript",major&&major()+ScriptEngineMinorVersion()/10),has.add("event-orientationchange",has("touch")&&!has("android")),has.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation),has.add("event-focusin",function(global,doc,element){return"onfocusin"in element}),has("touch")&&has.add("touch-can-modify-event-delegate",function(){var EventDelegate=function(){};EventDelegate.prototype=document.createEvent("MouseEvents");try{var eventDelegate=new EventDelegate;return eventDelegate.target=null,null===eventDelegate.target}catch(e){return!1}})}var on=function(target,type,listener,dontFix){return"function"!=typeof target.on||"function"==typeof type||target.nodeType?on.parse(target,type,listener,addListener,dontFix,this):target.on(type,listener)};on.pausable=function(target,type,listener,dontFix){var paused,signal=on(target,type,function(){return paused?void 0:listener.apply(this,arguments)},dontFix);return signal.pause=function(){paused=!0},signal.resume=function(){paused=!1},signal},on.once=function(target,type,listener){var signal=on(target,type,function(){return signal.remove(),listener.apply(this,arguments)});return signal},on.parse=function(target,type,listener,addListener,dontFix,matchesTarget){if(type.call)return type.call(matchesTarget,target,listener);if(type instanceof Array)events=type;else if(type.indexOf(",")>-1)var events=type.split(/\s*,\s*/);if(events){for(var eventName,handles=[],i=0;eventName=events[i++];)handles.push(on.parse(target,eventName,listener,addListener,dontFix,matchesTarget));return handles.remove=function(){for(var i=0;i<handles.length;i++)handles[i].remove()},handles}return addListener(target,type,listener,dontFix,matchesTarget)};var touchEvents=/^touch/;on.matches=function(node,selector,context,children,matchesTarget){for(matchesTarget=matchesTarget&&matchesTarget.matches?matchesTarget:dojo.query,children=children!==!1,1!=node.nodeType&&(node=node.parentNode);!matchesTarget.matches(node,selector,context);)if(node==context||children===!1||!(node=node.parentNode)||1!=node.nodeType)return!1;return node},on.selector=function(selector,eventType,children){return function(target,listener){function select(eventTarget){return on.matches(eventTarget,selector,target,children,matchesTarget)}var matchesTarget="function"==typeof selector?{matches:selector}:this,bubble=eventType.bubble;return bubble?on(target,bubble(select),listener):on(target,eventType,function(event){var eventTarget=select(event.target);return eventTarget?listener.call(eventTarget,event):void 0})}};var slice=[].slice,syntheticDispatch=on.emit=function(target,type,event){var args=slice.call(arguments,2),method="on"+type;if("parentNode"in target){var newEvent=args[0]={};for(var i in event)newEvent[i]=event[i];newEvent.preventDefault=syntheticPreventDefault,newEvent.stopPropagation=syntheticStopPropagation,newEvent.target=target,newEvent.type=type,event=newEvent}do target[method]&&target[method].apply(target,args);while(event&&event.bubbles&&(target=target.parentNode));return event&&event.cancelable&&event},captures=has("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!has("event-stopimmediatepropagation"))var stopImmediatePropagation=function(){this.immediatelyStopped=!0,this.modified=!0},addStopImmediate=function(listener){return function(event){return event.immediatelyStopped?void 0:(event.stopImmediatePropagation=stopImmediatePropagation,listener.apply(this,arguments))}};if(has("dom-addeventlistener"))on.emit=function(target,type,event){if(target.dispatchEvent&&document.createEvent){var ownerDocument=target.ownerDocument||document,nativeEvent=ownerDocument.createEvent("HTMLEvents");nativeEvent.initEvent(type,!!event.bubbles,!!event.cancelable);for(var i in event)i in nativeEvent||(nativeEvent[i]=event[i]);return target.dispatchEvent(nativeEvent)&&nativeEvent}return syntheticDispatch.apply(on,arguments)};else{on._fixEvent=function(evt,sender){if(!evt){var w=sender&&(sender.ownerDocument||sender.document||sender).parentWindow||window;evt=w.event}if(!evt)return evt;try{lastEvent&&evt.type==lastEvent.type&&evt.srcElement==lastEvent.target&&(evt=lastEvent)}catch(e){}if(!evt.target)switch(evt.target=evt.srcElement,evt.currentTarget=sender||evt.srcElement,"mouseover"==evt.type&&(evt.relatedTarget=evt.fromElement),"mouseout"==evt.type&&(evt.relatedTarget=evt.toElement),evt.stopPropagation||(evt.stopPropagation=stopPropagation,evt.preventDefault=preventDefault),evt.type){case"keypress":var c="charCode"in evt?evt.charCode:evt.keyCode;10==c?(c=0,evt.keyCode=13):13==c||27==c?c=0:3==c&&(c=99),evt.charCode=c,_setKeyChar(evt)}return evt};var lastEvent,IESignal=function(handle){this.handle=handle};IESignal.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var fixListener=function(listener){return function(evt){evt=on._fixEvent(evt,this);var result=listener.call(this,evt);return evt.modified&&(lastEvent||setTimeout(function(){lastEvent=null}),lastEvent=evt),result}},fixAttach=function(target,type,listener){if(listener=fixListener(listener),((target.ownerDocument?target.ownerDocument.parentWindow:target.parentWindow||target.window||window)!=top||has("jscript")<5.8)&&!has("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var emitter=target[type];if(!emitter||!emitter.listeners){var oldListener=emitter;emitter=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}"),emitter.listeners=[],target[type]=emitter,emitter.global=this,oldListener&&emitter.listeners.push(_dojoIEListeners_.push(oldListener)-1)}var handle;return emitter.listeners.push(handle=emitter.global._dojoIEListeners_.push(listener)-1),new IESignal(handle)}return aspect.after(target,type,listener,!0)},_setKeyChar=function(evt){evt.keyChar=evt.charCode?String.fromCharCode(evt.charCode):"",evt.charOrCode=evt.keyChar||evt.keyCode},stopPropagation=function(){this.cancelBubble=!0},preventDefault=on._preventDefault=function(){if(this.bubbledKeyCode=this.keyCode,this.ctrlKey)try{this.keyCode=0}catch(e){}this.defaultPrevented=!0,this.returnValue=!1,this.modified=!0}}if(has("touch"))var EventDelegate=function(){},windowOrientation=window.orientation,fixTouchListener=function(listener){return function(originalEvent){var event=originalEvent.corrected;if(!event){var type=originalEvent.type;try{delete originalEvent.type}catch(e){}if(originalEvent.type){if(has("touch-can-modify-event-delegate"))EventDelegate.prototype=originalEvent,event=new EventDelegate;else{event={};for(var name in originalEvent)event[name]=originalEvent[name]}event.preventDefault=function(){originalEvent.preventDefault()},event.stopPropagation=function(){originalEvent.stopPropagation()}}else event=originalEvent,event.type=type;if(originalEvent.corrected=event,"resize"==type)return windowOrientation==window.orientation?null:(windowOrientation=window.orientation,event.type="orientationchange",listener.call(this,event));"rotation"in event||(event.rotation=0,event.scale=1);var firstChangeTouch=event.changedTouches[0];for(var i in firstChangeTouch)delete event[i],event[i]=firstChangeTouch[i]}return listener.call(this,event)}};return on}),define("dojo/promise/all",["../_base/array","../Deferred","../when"],function(array,Deferred,when){"use strict";var some=array.some;return function(objectOrArray){var object,array;objectOrArray instanceof Array?array=objectOrArray:objectOrArray&&"object"==typeof objectOrArray&&(object=objectOrArray);var results,keyLookup=[];if(object){array=[];for(var key in object)Object.hasOwnProperty.call(object,key)&&(keyLookup.push(key),array.push(object[key]));results={}}else array&&(results=[]);if(!array||!array.length)return(new Deferred).resolve(results);var deferred=new Deferred;deferred.promise.always(function(){results=keyLookup=null});var waiting=array.length;return some(array,function(valueOrPromise,index){return object||keyLookup.push(index),when(valueOrPromise,function(value){deferred.isFulfilled()||(results[keyLookup[index]]=value,0===--waiting&&deferred.resolve(results))},deferred.reject),deferred.isFulfilled()}),deferred.promise}}),define("dojo/when",["./Deferred","./promise/Promise"],function(Deferred,Promise){"use strict";return function(valueOrPromise,callback,errback,progback){var receivedPromise=valueOrPromise&&"function"==typeof valueOrPromise.then,nativePromise=receivedPromise&&valueOrPromise instanceof Promise;if(!receivedPromise)return arguments.length>1?callback?callback(valueOrPromise):valueOrPromise:(new Deferred).resolve(valueOrPromise);if(!nativePromise){var deferred=new Deferred(valueOrPromise.cancel);valueOrPromise.then(deferred.resolve,deferred.reject,deferred.progress),valueOrPromise=deferred.promise}return callback||errback||progback?valueOrPromise.then(callback,errback,progback):valueOrPromise}}),define("dojo/aspect",[],function(){"use strict";function advise(dispatcher,type,advice,receiveArguments){var signal,previous=dispatcher[type],around="around"==type;if(around){var advised=advice(function(){return previous.advice(this,arguments)});signal={remove:function(){advised&&(advised=dispatcher=advice=null)},advice:function(target,args){return advised?advised.apply(target,args):previous.advice(target,args)}}}else signal={remove:function(){if(signal.advice){var previous=signal.previous,next=signal.next;next||previous?(previous?previous.next=next:dispatcher[type]=next,next&&(next.previous=previous)):delete dispatcher[type],dispatcher=advice=signal.advice=null}},id:nextId++,advice:advice,receiveArguments:receiveArguments};if(previous&&!around)if("after"==type){for(;previous.next&&(previous=previous.next););previous.next=signal,signal.previous=previous}else"before"==type&&(dispatcher[type]=signal,signal.next=previous,previous.previous=signal);else dispatcher[type]=signal;return signal}function aspect(type){return function(target,methodName,advice,receiveArguments){var dispatcher,existing=target[methodName];existing&&existing.target==target||(target[methodName]=dispatcher=function(){for(var executionId=nextId,args=arguments,before=dispatcher.before;before;)args=before.advice.apply(this,args)||args,before=before.next;if(dispatcher.around)var results=dispatcher.around.advice(this,args);for(var after=dispatcher.after;after&&after.id<executionId;){if(after.receiveArguments){var newResults=after.advice.apply(this,args);results=newResults===undefined?results:newResults}else results=after.advice.call(this,results,args);after=after.next}return results},existing&&(dispatcher.around={advice:function(target,args){return existing.apply(target,args)}}),dispatcher.target=target);var results=advise(dispatcher||existing,type,advice,receiveArguments);return advice=null,results}}var undefined,nextId=0,after=aspect("after"),before=aspect("before"),around=aspect("around");return{before:before,around:around,after:after}}),define("dstore/Rest",["dojo/request","dojo/when","dojo/_base/lang","dojo/json","dojo/io-query","dojo/_base/declare","./Request"],function(request,when,lang,JSON,ioQuery,declare,Request){return declare(Request,{stringify:JSON.stringify,get:function(id,options){options=options||{};var headers=lang.mixin({Accept:this.accepts},this.headers,options.headers||options),store=this;return request(this.target+id,{headers:headers}).then(function(response){return store._restore(store.parse(response),!0)})},autoEmitEvents:!1,put:function(object,options){options=options||{};var id="id"in options?options.id:this.getIdentity(object),hasId="undefined"!=typeof id,store=this,positionHeaders="beforeId"in options?null===options.beforeId?{"Put-Default-Position":"end"}:{"Put-Before":options.beforeId}:hasId&&options.overwrite!==!1?null:{"Put-Default-Position":this.defaultNewToStart?"start":"end"},initialResponse=request(hasId?this.target+id:this.target,{method:hasId&&!options.incremental?"PUT":"POST",data:this.stringify(object),headers:lang.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":options.overwrite===!0?"*":null,"If-None-Match":options.overwrite===!1?"*":null},positionHeaders,this.headers,options.headers)});return initialResponse.then(function(response){var event={};"beforeId"in options&&(event.beforeId=options.beforeId);var result=event.target=store._restore(store.parse(response),!0)||object;return when(initialResponse.response,function(httpResponse){store.emit(201===httpResponse.status?"add":"update",event)}),result})},add:function(object,options){return options=options||{},options.overwrite=!1,this.put(object,options)},remove:function(id,options){options=options||{};var store=this;return request(this.target+id,{method:"DELETE",headers:lang.mixin({},this.headers,options.headers)}).then(function(response){var target=response&&store.parse(response);return store.emit("remove",{id:id,target:target}),response?target:!0})}})}),define("dstore/Request",["dojo/request","dojo/_base/lang","dojo/_base/array","dojo/json","dojo/_base/declare","./Store","./QueryResults"],function(request,lang,arrayUtil,JSON,declare,Store,QueryResults){var push=[].push;return declare(Store,{constructor:function(){this.headers||(this.headers={})},headers:{},parse:JSON.parse,target:"",ascendingPrefix:"+",descendingPrefix:"-",accepts:"application/json",fetch:function(){var results=this._request();return new QueryResults(results.data,{response:results.response})},fetchRange:function(kwArgs){var start=kwArgs.start,end=kwArgs.end,requestArgs={};this.useRangeHeaders?requestArgs.headers=this._renderRangeHeaders(start,end):requestArgs.queryParams=this._renderRangeParams(start,end);var results=this._request(requestArgs);return new QueryResults(results.data,{totalLength:results.total,response:results.response})},_request:function(kwArgs){kwArgs=kwArgs||{};var headers=lang.delegate(this.headers,{Accept:this.accepts});"headers"in kwArgs&&lang.mixin(headers,kwArgs.headers);var queryParams=this._renderQueryParams(),requestUrl=this.target;"queryParams"in kwArgs&&push.apply(queryParams,kwArgs.queryParams),queryParams.length>0&&(requestUrl+="?"+queryParams.join("&"));var response=request(requestUrl,{method:"GET",headers:headers}),collection=this;return{data:response.then(function(response){var results=collection.parse(response);results=results.items||results;for(var i=0,l=results.length;l>i;i++)results[i]=collection._restore(results[i],!0);return results}),total:response.response.then(function(response){var total=response.data.total;if(total>-1)return total;var range=response.getHeader("Content-Range");return range&&(range=range.match(/\/(.*)/))&&+range[1]}),response:response.response}},_renderFilterParams:function(filter){var type=filter.type,args=filter.args;return type?"string"===type?[args[0]]:"and"===type||"or"===type?[arrayUtil.map(filter.args,function(arg){var renderedArg=this._renderFilterParams(arg);return"and"!==arg.type&&"or"!==arg.type||arg.type===type?renderedArg:"("+renderedArg+")"},this).join("and"===type?"&":"|")]:[encodeURIComponent(args[0])+"="+("eq"===type?"":type+"=")+encodeURIComponent(args[1])]:[""]},_renderSortParams:function(sort){var sortString=arrayUtil.map(sort,function(sortOption){var prefix=sortOption.descending?this.descendingPrefix:this.ascendingPrefix;return prefix+encodeURIComponent(sortOption.property)},this),params=[];return sortString&&params.push(this.sortParam?encodeURIComponent(this.sortParam)+"="+sortString:"sort("+sortString+")"),params},_renderRangeParams:function(start,end){var params=[];return this.rangeStartParam?params.push(this.rangeStartParam+"="+start,this.rangeCountParam+"="+(end-start)):params.push("limit("+(end-start)+(start?","+start:"")+")"),params},_renderQueryParams:function(){var queryParams=[];return arrayUtil.forEach(this.queryLog,function(entry){var type=entry.type,renderMethod="_render"+type[0].toUpperCase()+type.substr(1)+"Params";this[renderMethod]?push.apply(queryParams,this[renderMethod].apply(this,entry.normalizedArguments)):console.warn('Unable to render query params for "'+type+'" query',entry)},this),queryParams},_renderUrl:function(){var queryParams=this._renderQueryParams(),url=this.target;return queryParams.length>0&&(url+="?"+queryParams.join("&")),url},_renderRangeHeaders:function(start,end){var value="items="+start+"-"+(end-1);return{Range:value,"X-Range":value}}})}),define("dstore/QueryResults",["dojo/_base/lang","dojo/when"],function(lang,when){function forEach(callback,instance){return when(this,function(data){for(var i=0,l=data.length;l>i;i++)callback.call(instance,data[i],data)})}return function(data,options){var hasTotalLength=options&&"totalLength"in options;if(data.then){data=lang.delegate(data);var totalLengthPromise=data.then(function(data){var totalLength=hasTotalLength?options.totalLength:data.totalLength||data.length;return data.totalLength=totalLength,totalLength});data.totalLength=hasTotalLength?options.totalLength:totalLengthPromise,data.response=options&&options.response}else data.totalLength=hasTotalLength?options.totalLength:data.length;return data.forEach=forEach,data}}),define("dstore/Store",["dojo/_base/lang","dojo/_base/array","dojo/aspect","dojo/has","dojo/when","dojo/Deferred","dojo/_base/declare","./QueryMethod","./Filter","dojo/Evented"],function(lang,arrayUtil,aspect,has,when,Deferred,declare,QueryMethod,Filter,Evented){function emitUpdateEvent(type){return function(result,args){var self=this;return when(result,function(result){var event={target:result},options=args[1]||{};"beforeId"in options&&(event.beforeId=options.beforeId),self.emit(type,event)}),result}}has.add("object-proto",!!{}.__proto__&&!{}.watch);var hasProto=has("object-proto"),excludePropertiesOnCopy={data:!0,total:!0},base=Evented;return declare(base,{constructor:function(options){options&&declare.safeMixin(this,options),this.model&&(this.model=declare(this.model,{}),this.model.prototype._store=this),this.storage=new Evented,this.storage.version=0;var store=this;this.autoEmitEvents&&(aspect.after(this,"add",emitUpdateEvent("add")),aspect.after(this,"put",emitUpdateEvent("update")),aspect.after(this,"remove",function(result,args){return when(result,function(){store.emit("remove",{id:args[0]})}),result}))},autoEmitEvents:!0,idProperty:"id",queryAccessors:!0,getIdentity:function(object){return object.get?object.get(this.idProperty):object[this.idProperty]},_setIdentity:function(object,identityArg){object.set?object.set(this.idProperty,identityArg):object[this.idProperty]=identityArg},forEach:function(callback,thisObject){var collection=this;return when(this.fetch(),function(data){for(var i=0,l=data.length;l>i;i++)callback.call(thisObject,data[i],i,collection);return data})},on:function(type,listener){return this.storage.on(type,listener)},emit:function(type,event){return event=event||{},event.type=type,this.storage.emit(type,event)},parse:null,stringify:null,model:null,_restore:function(object,mutateAllowed){var model=this.model;if(model&&object){var prototype=model.prototype,restore=prototype._restore;restore?object=restore.call(object,model,mutateAllowed):hasProto&&mutateAllowed?object.__proto__=prototype:object=lang.delegate(prototype,object)}return object},create:function(properties){return new this.model(properties)},_createSubCollection:function(kwArgs){var newCollection=lang.delegate(this.constructor.prototype);for(var i in this)i in newCollection&&newCollection[i]===this[i]||excludePropertiesOnCopy.hasOwnProperty(i)||(newCollection[i]=this[i]);return lang.mixin(newCollection,kwArgs)},queryLog:[],filter:new QueryMethod({type:"filter",normalizeArguments:function(filter){var Filter=this.Filter;return filter instanceof Filter?[filter]:[new Filter(filter)]}}),Filter:Filter,map:new QueryMethod({type:"map"}),sort:new QueryMethod({type:"sort",normalizeArguments:function(property,descending){var sorted;return"function"==typeof property?sorted=[property]:(sorted=property instanceof Array?property.slice():"object"==typeof property?[].slice.call(arguments):[{property:property,descending:descending}],sorted=arrayUtil.map(sorted,function(sort){return sort=lang.mixin({},sort),sort.descending=!!sort.descending,sort}),sorted=[sorted]),sorted}})})}),define("dojo/Evented",["./aspect","./on"],function(aspect,on){"use strict";function Evented(){}var after=aspect.after;return Evented.prototype={on:function(type,listener){return on.parse(this,type,listener,function(target,type){return after(target,"on"+type,listener,!0)})},emit:function(){var args=[this];return args.push.apply(args,arguments),on.emit.apply(on,args)}},Evented}),define("dstore/Filter",["dojo/_base/declare"],function(declare){function filterCreator(type){return function(){var Filter=this.constructor,filter=new Filter;return filter.type=type,filter.args=arguments,this.type?filterCreator("and").call(Filter.prototype,this,filter):filter}}var Filter=declare(null,{constructor:function(filterArg){var argType=typeof filterArg;switch(argType){case"object":var filter=this;for(var key in filterArg){var value=filterArg[key];filter=value instanceof this.constructor?filter[value.type](key,value.args[0]):value&&value.test?filter.match(key,value):filter.eq(key,value)}this.type=filter.type,this.args=filter.args;break;case"function":case"string":this.type=argType,this.args=[filterArg]}},and:filterCreator("and"),or:filterCreator("or"),eq:filterCreator("eq"),ne:filterCreator("ne"),lt:filterCreator("lt"),lte:filterCreator("lte"),gt:filterCreator("gt"),gte:filterCreator("gte"),"in":filterCreator("in"),match:filterCreator("match")});return Filter.filterCreator=filterCreator,Filter}),define("dstore/QueryMethod",[],function(){return function(kwArgs){var type=kwArgs.type,normalizeArguments=kwArgs.normalizeArguments,applyQuery=kwArgs.applyQuery;return function(){var originalArguments=Array.prototype.slice.call(arguments),normalizedArguments=normalizeArguments?normalizeArguments.apply(this,originalArguments):originalArguments,logEntry={type:type,arguments:originalArguments,normalizedArguments:normalizedArguments};this.queryEngine&&(logEntry.querier=this.queryEngine[type].apply(this,normalizedArguments));var newCollection=this._createSubCollection({queryLog:this.queryLog.concat(logEntry)});return applyQuery?applyQuery.call(this,newCollection,logEntry):newCollection}}}),define("dojo/request",["./request/default!"],function(request){return request}),define("dojo/request/default",["exports","require","../has"],function(exports,require,has){var platformId,defId=has("config-requestProvider");has("host-browser")||has("host-webworker")?platformId="./xhr":has("host-node")&&(platformId="./node"),defId||(defId=platformId),exports.getPlatformDefaultId=function(){return platformId},exports.load=function(id,parentRequire,loaded){require(["platform"==id?platformId:defId],function(provider){loaded(provider)})}}),define("dojo/_base/declare",["./kernel","../has","./lang"],function(dojo,has,lang){function err(msg,cls){throw new Error("declare"+(cls?" "+cls:"")+": "+msg)}function c3mro(bases,className){for(var j,lin,base,top,proto,rec,name,refs,result=[],roots=[{cls:0,refs:[]}],nameMap={},clsCount=1,l=bases.length,i=0;l>i;++i){for(base=bases[i],base?"[object Function]"!=opts.call(base)&&err("mixin #"+i+" is not a callable constructor.",className):err("mixin #"+i+" is unknown. Did you use dojo.require to pull it in?",className),lin=base._meta?base._meta.bases:[base],top=0,j=lin.length-1;j>=0;--j)proto=lin[j].prototype,proto.hasOwnProperty("declaredClass")||(proto.declaredClass="uniqName_"+counter++),name=proto.declaredClass,nameMap.hasOwnProperty(name)||(nameMap[name]={count:0,refs:[],cls:lin[j]},++clsCount),rec=nameMap[name],top&&top!==rec&&(rec.refs.push(top),++top.count),top=rec;++top.count,roots[0].refs.push(top)}for(;roots.length;){for(top=roots.pop(),result.push(top.cls),--clsCount;refs=top.refs,1==refs.length;){if(top=refs[0],!top||--top.count){top=0;break}result.push(top.cls),--clsCount}if(top)for(i=0,l=refs.length;l>i;++i)top=refs[i],--top.count||roots.push(top)}return clsCount&&err("can't build consistent linearization",className),base=bases[0],result[0]=base?base._meta&&base===result[result.length-base._meta.bases.length]?base._meta.bases.length:1:0,result}function inherited(args,a,f){var name,chains,bases,caller,meta,base,proto,opf,pos,cache=this._inherited=this._inherited||{};if("string"==typeof args&&(name=args,args=a,a=f),f=0,caller=args.callee,name=name||caller.nom,name||err("can't deduce a name to call inherited()",this.declaredClass),meta=this.constructor._meta,bases=meta.bases,pos=cache.p,name!=cname){if(cache.c!==caller&&(pos=0,base=bases[0],meta=base._meta,meta.hidden[name]!==caller)){chains=meta.chains,chains&&"string"==typeof chains[name]&&err("calling chained method with inherited: "+name,this.declaredClass);do if(meta=base._meta,proto=base.prototype,meta&&(proto[name]===caller&&proto.hasOwnProperty(name)||meta.hidden[name]===caller))break;while(base=bases[++pos]);pos=base?pos:-1}if(base=bases[++pos])if(proto=base.prototype,base._meta&&proto.hasOwnProperty(name))f=proto[name];else{opf=op[name];do if(proto=base.prototype,f=proto[name],f&&(base._meta?proto.hasOwnProperty(name):f!==opf))break;while(base=bases[++pos])}f=base&&f||op[name]}else{if(cache.c!==caller&&(pos=0,meta=bases[0]._meta,meta&&meta.ctor!==caller)){for(chains=meta.chains,chains&&"manual"===chains.constructor||err("calling chained constructor with inherited",this.declaredClass);(base=bases[++pos])&&(meta=base._meta,!meta||meta.ctor!==caller););pos=base?pos:-1}for(;(base=bases[++pos])&&(meta=base._meta,!(f=meta?meta.ctor:base)););f=base&&f}return cache.c=f,cache.p=pos,f?a===!0?f:f.apply(this,a||args):void 0}function getInherited(name,args){return"string"==typeof name?this.__inherited(name,args,!0):this.__inherited(name,!0)}function inherited__debug(args,a1,a2){var f=this.getInherited(args,a1);return f?f.apply(this,a2||a1||args):void 0}function isInstanceOf(cls){for(var bases=this.constructor._meta.bases,i=0,l=bases.length;l>i;++i)if(bases[i]===cls)return!0;return this instanceof cls}function mixOwn(target,source){for(var name in source)name!=cname&&source.hasOwnProperty(name)&&(target[name]=source[name]);if(has("bug-for-in-skips-shadowed"))for(var extraNames=lang._extraNames,i=extraNames.length;i;)name=extraNames[--i],name!=cname&&source.hasOwnProperty(name)&&(target[name]=source[name])}function safeMixin(target,source){var name,t;for(name in source)t=source[name],t===op[name]&&name in op||name==cname||("[object Function]"==opts.call(t)&&(t.nom=name),target[name]=t);if(has("bug-for-in-skips-shadowed"))for(var extraNames=lang._extraNames,i=extraNames.length;i;)name=extraNames[--i],t=source[name],t===op[name]&&name in op||name==cname||("[object Function]"==opts.call(t)&&(t.nom=name),target[name]=t);return target}function extend(source){return declare.safeMixin(this.prototype,source),this}function createSubclass(mixins,props){return mixins instanceof Array||"function"==typeof mixins||(props=mixins,mixins=void 0),props=props||{},mixins=mixins||[],declare([this].concat(mixins),props)}function chainedConstructor(bases,ctorSpecial){return function(){var f,i,m,preArgs,a=arguments,args=a,a0=a[0],l=bases.length;if(!(this instanceof a.callee))return applyNew(a);if(ctorSpecial&&(a0&&a0.preamble||this.preamble))for(preArgs=new Array(bases.length),preArgs[0]=a,i=0;a0=a[0],a0&&(f=a0.preamble,f&&(a=f.apply(this,a)||a)),f=bases[i].prototype,f=f.hasOwnProperty("preamble")&&f.preamble,f&&(a=f.apply(this,a)||a),++i!=l;)preArgs[i]=a;for(i=l-1;i>=0;--i)f=bases[i],m=f._meta,f=m?m.ctor:f,f&&f.apply(this,preArgs?preArgs[i]:a);f=this.postscript,f&&f.apply(this,args)}}function singleConstructor(ctor,ctorSpecial){return function(){var f,a=arguments,t=a,a0=a[0];return this instanceof a.callee?(ctorSpecial&&(a0&&(f=a0.preamble,f&&(t=f.apply(this,t)||t)),f=this.preamble,f&&f.apply(this,t)),ctor&&ctor.apply(this,a),f=this.postscript,void(f&&f.apply(this,a))):applyNew(a)}}function simpleConstructor(bases){return function(){var f,m,a=arguments,i=0;if(!(this instanceof a.callee))return applyNew(a);for(;f=bases[i];++i)if(m=f._meta,f=m?m.ctor:f){f.apply(this,a);break}f=this.postscript,f&&f.apply(this,a)}}function chain(name,bases,reversed){return function(){var b,m,f,i=0,step=1;for(reversed&&(i=bases.length-1,step=-1);b=bases[i];i+=step)m=b._meta,f=(m?m.hidden:b.prototype)[name],f&&f.apply(this,arguments)}}function forceNew(ctor){xtor.prototype=ctor.prototype;var t=new xtor;return xtor.prototype=null,t}function applyNew(args){var ctor=args.callee,t=forceNew(ctor);return ctor.apply(t,args),t}function declare(className,superclass,props){"string"!=typeof className&&(props=superclass,superclass=className,className=""),props=props||{};var proto,i,t,ctor,name,bases,chains,mixins=1,parents=superclass;if("[object Array]"==opts.call(superclass)?(bases=c3mro(superclass,className),t=bases[0],mixins=bases.length-t,superclass=bases[mixins]):(bases=[0],superclass?"[object Function]"==opts.call(superclass)?(t=superclass._meta,bases=bases.concat(t?t.bases:superclass)):err("base class is not a callable constructor.",className):null!==superclass&&err("unknown base class. Did you use dojo.require to pull it in?",className)),superclass)for(i=mixins-1;proto=forceNew(superclass),i;--i)t=bases[i],(t._meta?mixOwn:mix)(proto,t.prototype),ctor=new Function,ctor.superclass=superclass,ctor.prototype=proto,superclass=proto.constructor=ctor;
else proto={};for(declare.safeMixin(proto,props),t=props.constructor,t!==op.constructor&&(t.nom=cname,proto.constructor=t),i=mixins-1;i;--i)t=bases[i]._meta,t&&t.chains&&(chains=mix(chains||{},t.chains));if(proto["-chains-"]&&(chains=mix(chains||{},proto["-chains-"])),t=!chains||!chains.hasOwnProperty(cname),bases[0]=ctor=chains&&"manual"===chains.constructor?simpleConstructor(bases):1==bases.length?singleConstructor(props.constructor,t):chainedConstructor(bases,t),ctor._meta={bases:bases,hidden:props,chains:chains,parents:parents,ctor:props.constructor},ctor.superclass=superclass&&superclass.prototype,ctor.extend=extend,ctor.createSubclass=createSubclass,ctor.prototype=proto,proto.constructor=ctor,proto.getInherited=getInherited,proto.isInstanceOf=isInstanceOf,proto.inherited=inheritedImpl,proto.__inherited=inherited,className&&(proto.declaredClass=className,lang.setObject(className,ctor)),chains)for(name in chains)proto[name]&&"string"==typeof chains[name]&&name!=cname&&(t=proto[name]=chain(name,bases,"after"===chains[name]),t.nom=name);return ctor}var mix=lang.mixin,op=Object.prototype,opts=op.toString,xtor=new Function,counter=0,cname="constructor",inheritedImpl=dojo.config.isDebug?inherited__debug:inherited;return dojo.safeMixin=declare.safeMixin=safeMixin,dojo.declare=declare,declare}),define("angular-delite/wrappers/widget",["angular"],function(angular){var isUndefined=angular.isUndefined,equals=angular.equals,objectOverwrite=function(obj1,obj2){return Object.keys(obj2).forEach(function(p){obj1[p]=obj2[p]}),obj1},objectFilter=function(input,func){var output={};return Object.keys(input).filter(function(k){func(k,input[k])&&(output[k]=input[k])}),output},arrayDiff=function(all,excluded){var isIncluded=function(property){return-1===excluded.indexOf(property)};return all.filter(isIncluded)},createInstance=function(Constructor,init){var instance=null;switch(typeof init){case"function":if(instance=init(Constructor),null===instance)throw new Error("init() did not return an instance");break;case"object":instance=new Constructor(init);break;default:instance=new Constructor}return instance},isEventAttr=function(a){return 0===a.indexOf("on")},formatEventAttr=function(eventAttr){return eventAttr.toLowerCase()},setTypedValue=function(widget,name,strValue){if(isEventAttr(name))return new Function(strValue).bind(widget);switch(typeof widget[name]){case"number":return strValue-0;case"boolean":return"false"!==strValue;case"object":return strValue;default:return strValue}},getAttrs=function(widget,isolatedScope,rawAttrs){var attrs={};return Object.keys(rawAttrs.$attr).forEach(function(p){if(isEventAttr(p)){var fp=formatEventAttr(p);attrs[fp]=setTypedValue(widget,p,rawAttrs[p])}else attrs[p]="@"===isolatedScope[p]?setTypedValue(widget,p,rawAttrs[p]):rawAttrs[p]}),attrs},getEventAttrs=function(attrs){return objectFilter(attrs,isEventAttr)},getId=function(attrs){var allowed=["id","data-id","x-id"];for(var a in attrs)if(attrs.hasOwnProperty(a)&&allowed.indexOf(a)>-1)return attrs[a];return null},getProps=function(Constructor){var Spec=Constructor._ctor.prototype,all=Spec._getProps();all=Object.keys(all);var excluded=["baseClass","focused","widgetId","invalidProperties","invalidRendering"],isUnwanted=function(prop){var value=Spec[prop];return"function"==typeof value};return excluded=excluded.concat(all.filter(isUnwanted)),arrayDiff(all,excluded)},defaultScope=function(props){var s={};return props.forEach(function(p){s[p]="@"}),s},setIsolatedScope=function(Constructor,overwrite){var props=getProps(Constructor),s=defaultScope(props);return"object"==typeof overwrite&&objectOverwrite(s,overwrite),s},initProps=function(scope,isolatedScope,attrs){Object.keys(isolatedScope).forEach(function(p){if(isUndefined(scope[p])&&!isUndefined(scope.widget[p])&&(scope[p]=scope.widget[p]),!isUndefined(attrs[p]))switch(isolatedScope[p]){case"@":scope.widget[p]=attrs[p];break;case"=":scope.widget[p]=scope[p]}});var eventAttrs=getEventAttrs(attrs);Object.keys(eventAttrs).forEach(function(p){var fp=formatEventAttr(p);isUndefined(scope.widget[fp])||(scope.widget[fp]=eventAttrs[p])})},exposeToParentScope=function(scope,widget,id){isUndefined(scope.$parent)||(scope.$parent[id]=widget)},setWatchers=function(scope,isolatedScope,attrs){Object.keys(isolatedScope).forEach(function(p){"="===isolatedScope[p]&&scope.$watch(p,function(newValue){isUndefined(newValue)||equals(scope.widget[p],newValue)||(scope.widget[p]=newValue)})}),scope.widget.observe(function(props){Object.keys(props).forEach(function(p){var isValid="="===isolatedScope[p]&&p in attrs&&!equals(scope.widget[p],scope[p]);isValid&&!function(scope,p){scope.$root.$$phase||scope.$apply(function(){scope[p]=scope.widget[p]})}(scope,p)})})},wrap=function(Constructor,overwrite,init){var isolatedScope=setIsolatedScope(Constructor,overwrite);return{restrict:"E",scope:isolatedScope,link:function(scope,elem,rawAttrs){scope.widget=createInstance(Constructor,init),elem.append(scope.widget),scope.widget.startup();var attrs=getAttrs(scope.widget,isolatedScope,rawAttrs),id=getId(attrs);null!==id&&exposeToParentScope(scope,scope.widget,id),initProps(scope,isolatedScope,attrs),setWatchers(scope,isolatedScope,rawAttrs)}}};return wrap}),define("deliteful/list/List",["dcl/dcl","delite/register","dojo/on","dojo/_base/lang","dojo/when","dojo/dom-class","delite/keys","delite/CustomElement","delite/Selection","delite/KeyNav","delite/StoreMap","delite/Scrollable","./ItemRenderer","./CategoryRenderer","./_LoadingPanel","delite/theme!./List/themes/{{theme}}/List.css","requirejs-dplugins/has!dojo-bidi?delite/theme!./List/themes/{{theme}}/List_rtl.css"],function(dcl,register,on,lang,when,domClass,keys,CustomElement,Selection,KeyNav,StoreMap,Scrollable,ItemRenderer,CategoryRenderer,LoadingPanel){var List=dcl([Selection,KeyNav,StoreMap,Scrollable],{itemRenderer:ItemRenderer,categoryRenderer:CategoryRenderer,labelAttr:"label",iconclassAttr:"iconclass",righttextAttr:"righttext",righticonclassAttr:"righticonclass",categoryAttr:"",categoryFunc:null,baseClass:"d-list",multiCharSearchDuration:0,isAriaListbox:!1,_setScrollDirectionAttr:function(value){if("vertical"!==value&&"none"!==value)throw new TypeError("'"+value+"' not supported for scrollDirection, keeping the previous value of '"+this.scrollDirection+"'");this._set("scrollDirection",value)},_setSelectionModeAttr:dcl.superCall(function(sup){return function(value){if(this.isAriaListbox&&"none"===value)throw new TypeError("selectionMode 'none' is invalid for an aria listbox, keeping the previous value of '"+this.selectionMode+"'");sup.apply(this,arguments)}}),selectionMode:"none",loadingMessage:"",_cssClasses:{item:"d-list-item",category:"d-list-category",cell:"d-list-cell",selected:"d-selected",selectable:"d-selectable",multiselectable:"d-multiselectable"},render:function(){this.scrollableNode=this.ownerDocument.createElement("div"),this.own(on(this.scrollableNode,"focus",function(){this.focus()}.bind(this))),this.scrollableNode.className="d-list-container",this.appendChild(this.scrollableNode),this.setAttribute("role",this.isAriaListbox?"listbox":"grid"),this.setAttribute("aria-readonly","true")},postRender:function(){this.on("delite-deactivated",this._listDeactivatedHandler.bind(this))},attachedCallback:dcl.superCall(function(sup){return function(){this._setBusy(!0,!0),this.on("query-error",function(){this._setBusy(!1,!0)}.bind(this)),sup.call(this)}}),refreshRendering:function(props){if("selectionMode"in props)if(domClass.remove(this,this._cssClasses.selectable),domClass.remove(this,this._cssClasses.multiselectable),this.removeAttribute("aria-multiselectable"),"none"===this.selectionMode)for(var i=0;i<this.scrollableNode.children.length;i++){var child=this.scrollableNode.children[i];child.renderNode.hasAttribute("aria-selected")&&(child.renderNode.removeAttribute("aria-selected"),domClass.remove(child,this._cssClasses.selected))}else for("single"===this.selectionMode||"radio"===this.selectionMode?domClass.add(this,this._cssClasses.selectable):(domClass.add(this,this._cssClasses.multiselectable),this.setAttribute("aria-multiselectable","true")),i=0;i<this.scrollableNode.children.length;i++)child=this.scrollableNode.children[i],domClass.contains(child,this._cssClasses.item)&&!child.renderNode.hasAttribute("aria-selected")&&(child.renderNode.setAttribute("aria-selected","false"),domClass.remove(child,this._cssClasses.selected))},computeProperties:function(props){"isAriaListbox"in props&&this._refreshAriaListboxProperty(),"selectionMode"in props&&("none"===this.selectionMode?this._selectionClickHandle&&(this._selectionClickHandle.remove(),this._selectionClickHandle=null):this._selectionClickHandle||(this._selectionClickHandle=this.on("click",lang.hitch(this,"handleSelection")))),("itemRenderer"in props||this._isCategorized()&&("categoryAttr"in props||"categoryFunc"in props||"categoryRenderer"in props))&&this._dataLoaded&&(this._setBusy(!0,!0),this.notifyCurrentValue("store"))},destroy:function(){this.store&&this.store.list&&(this.store.list=null),this._hideLoadingPanel()},deliver:dcl.superCall(function(sup){return function(){sup.apply(this,arguments);for(var renderers=this.scrollableNode.querySelectorAll("."+this._cssClasses.item+", ."+this._cssClasses.category),i=0;i<renderers.length;i++)renderers.item(i).deliver()}}),getItemRenderers:function(){return this.scrollableNode.querySelectorAll("."+this._cssClasses.item)},getRendererByItemId:function(id){for(var renderers=this.getItemRenderers(),i=0;i<renderers.length;i++){var renderer=renderers.item(i);if(this.getIdentity(renderer.item)===id)return renderer}return null},getItemRendererByIndex:function(index){return index>=0?this.getItemRenderers().item(index):null},getItemRendererIndex:function(renderer){var result=-1;if(renderer.item)for(var id=this.getIdentity(renderer.item),nodeList=this.getItemRenderers(),i=0;i<nodeList.length;i++){var currentRenderer=nodeList.item(i);if(this.getIdentity(currentRenderer.item)===id){result=i;break}}return result},getEnclosingRenderer:function(node){for(var currentNode=node;currentNode&&(!currentNode.parentNode||currentNode.parentNode!==this.scrollableNode);)currentNode=currentNode.parentNode;return currentNode},getIdentity:function(item){return this.store.getIdentity(item)},updateRenderers:function(items){if("none"!==this.selectionMode)for(var i=0;i<items.length;i++){var currentItem=items[i],renderer=this.getRendererByItemId(this.getIdentity(currentItem));if(renderer){var itemSelected=!!this.isSelected(currentItem);renderer.renderNode.setAttribute("aria-selected",itemSelected?"true":"false"),domClass.toggle(renderer,this._cssClasses.selected,itemSelected)}}},hasSelectionModifier:function(){return!0},handleSelection:function(event){var eventRenderer=this.getEnclosingRenderer(event.target);eventRenderer&&(this.isCategoryRenderer(eventRenderer)||this.selectFromEvent(event,eventRenderer.item,eventRenderer,!0))},_refreshAriaListboxProperty:function(){if(this.setAttribute("role",this.isAriaListbox?"listbox":"grid"),this.isAriaListbox){"none"===this.selectionMode&&(this.selectionMode="single");for(var nodes=this.querySelectorAll(".d-list-cell[role='gridcell']"),i=0;i<nodes.length;i++)nodes[i].setAttribute("role","option");for(nodes=this.querySelectorAll(".d-list-item[role='row']"),i=0;i<nodes.length;i++)nodes[i].removeAttribute("role");if(this._isCategorized())for(nodes=this.querySelectorAll(".d-list-category[role='row']"),i=0;i<nodes.length;i++)nodes[i].removeAttribute("role")}else{for(nodes=this.querySelectorAll(".d-list-cell[role='option']"),i=0;i<nodes.length;i++)nodes[i].setAttribute("role","gridcell");for(nodes=this.getItemRenderers(),i=0;i<nodes.length;i++)nodes[i].setAttribute("role","row");if(this._isCategorized())for(nodes=this.querySelectorAll(".d-list-category"),i=0;i<nodes.length;i++)nodes[i].setAttribute("role","row")}},_setBusy:function(status,hideContent){status?(this.setAttribute("aria-busy","true"),hideContent&&this._showLoadingPanel()):(this.removeAttribute("aria-busy"),this._hideLoadingPanel())},_showLoadingPanel:function(){this._loadingPanel||(this._loadingPanel=new LoadingPanel({message:this.loadingMessage}),this.insertBefore(this._loadingPanel,this.scrollableNode),this._loadingPanel.startup())},_hideLoadingPanel:function(){this._loadingPanel&&(this._loadingPanel.destroy(),this._loadingPanel=null)},_isCategorized:function(){return this.categoryAttr||this.categoryFunc},_empty:function(){this.findCustomElements(this.scrollableNode).forEach(function(w){w.destroy&&w.destroy()}),this.scrollableNode.innerHTML="",this._previousFocusedChild=null},_renderNewItems:function(items,atTheTop){if(this.scrollableNode.firstElementChild)if(atTheTop){if(this._isCategorized()){var firstRenderer=this._getFirstRenderer();this.isCategoryRenderer(firstRenderer)&&items[items.length-1].category===firstRenderer.item.category&&this._removeRenderer(firstRenderer)}this.scrollableNode.insertBefore(this._createRenderers(items,0,items.length,null),this.scrollableNode.firstElementChild)}else this.scrollableNode.appendChild(this._createRenderers(items,0,items.length,this._getLastRenderer().item));else this.scrollableNode.appendChild(this._createRenderers(items,0,items.length,null));this.findCustomElements(this.scrollableNode).forEach(function(w){w.startup&&w.startup()})},_createRenderers:function(items,fromIndex,count,previousItem){for(var currentItem,currentIndex=fromIndex,toIndex=fromIndex+count-1,documentFragment=this.ownerDocument.createDocumentFragment();toIndex>=currentIndex;currentIndex++)currentItem=items[currentIndex],!this._isCategorized()||previousItem&&currentItem.category===previousItem.category||documentFragment.appendChild(this._createCategoryRenderer(currentItem)),documentFragment.appendChild(this._createItemRenderer(currentItem)),previousItem=currentItem;return documentFragment},_addItemRenderer:function(renderer,atIndex){var spec=this._getInsertSpec(renderer,atIndex);if(spec.nodeRef){if(this.scrollableNode.insertBefore(renderer,spec.nodeRef),spec.addCategoryAfter){var categoryRenderer=this._createCategoryRenderer(spec.nodeRef.item);this.scrollableNode.insertBefore(categoryRenderer,spec.nodeRef),categoryRenderer.startup()}}else this.scrollableNode.appendChild(renderer);spec.addCategoryBefore&&(categoryRenderer=this._createCategoryRenderer(renderer.item),this.scrollableNode.insertBefore(categoryRenderer,renderer),categoryRenderer.startup()),renderer.startup()},_getInsertSpec:function(renderer,atIndex){var result={nodeRef:atIndex>=0?this.getItemRendererByIndex(atIndex):null,addCategoryBefore:!1,addCategoryAfter:!1};if(this._isCategorized()){var previousRenderer=result.nodeRef?this._getNextRenderer(result.nodeRef,-1):this._getLastRenderer();previousRenderer?this._sameCategory(renderer,previousRenderer)||(this.isCategoryRenderer(previousRenderer)?(result.nodeRef=previousRenderer,previousRenderer=this._getNextRenderer(previousRenderer,-1),(!previousRenderer||previousRenderer&&!this._sameCategory(renderer,previousRenderer))&&(result.addCategoryBefore=!0)):result.addCategoryBefore=!0):result.addCategoryBefore=!0,!result.nodeRef||this.isCategoryRenderer(result.nodeRef)||this._sameCategory(result.nodeRef,renderer)||(result.addCategoryAfter=!0)}return result},_removeRenderer:function(renderer,keepSelection){if(this._isCategorized()&&!this.isCategoryRenderer(renderer)){var previousRenderer=this._getNextRenderer(renderer,-1);if(previousRenderer&&this.isCategoryRenderer(previousRenderer)){var nextRenderer=this._getNextRenderer(renderer,1);nextRenderer&&this._sameCategory(renderer,nextRenderer)||this._removeRenderer(previousRenderer)}}if(this._getFocusedRenderer()===renderer){var nextFocusRenderer=this._getNextRenderer(renderer,1)||this._getNextRenderer(renderer,-1);nextFocusRenderer&&this.navigateTo(nextFocusRenderer.renderNode)}keepSelection||this.isCategoryRenderer(renderer)||!this.isSelected(renderer.item)||this.selectFromEvent(null,renderer.item,renderer,!0),this._previousFocusedChild&&this.getEnclosingRenderer(this._previousFocusedChild)===renderer&&(this._previousFocusedChild=null),this.scrollableNode.removeChild(renderer),renderer.destroy()},_createItemRenderer:function(item){var renderer=new this.itemRenderer({item:item,tabindex:"-1"});if("none"!==this.selectionMode){var itemSelected=!!this.isSelected(item);renderer.renderNode.setAttribute("aria-selected",itemSelected?"true":"false"),domClass.toggle(renderer,this._cssClasses.selected,itemSelected)}return renderer.deliver(),renderer},_createCategoryRenderer:function(item){var renderer=new this.categoryRenderer({item:item,tabindex:"-1"});return renderer.deliver(),renderer},isCategoryRenderer:function(renderer){return domClass.contains(renderer,this._cssClasses.category)},_sameCategory:function(renderer1,renderer2){return renderer1.item.category===renderer2.item.category},_getNextRenderer:function(renderer,dir){return dir>=0?renderer.nextElementSibling:renderer.previousElementSibling},_getFirstRenderer:function(){return this.scrollableNode.querySelector("."+this._cssClasses.item+", ."+this._cssClasses.category)},_getLastRenderer:function(){var renderers=this.scrollableNode.querySelectorAll("."+this._cssClasses.item+", ."+this._cssClasses.category);return renderers.length?renderers.item(renderers.length-1):null},initItems:function(items){this._empty(),this._renderNewItems(items,!1),this._setBusy(!1,!0),this._dataLoaded=!0,this.emit("query-success",{renderItems:items,cancelable:!1,bubbles:!0})},itemRemoved:function(index,renderItems,keepSelection){var renderer=this.getItemRendererByIndex(index);renderer&&this._removeRenderer(renderer,keepSelection)},itemAdded:function(index,renderItem){var newRenderer=this._createItemRenderer(renderItem);this._addItemRenderer(newRenderer,index)},itemUpdated:function(index,renderItem){var renderer=this.getItemRendererByIndex(index);renderer&&(renderer.item=renderItem)},itemMoved:function(previousIndex,newIndex,renderItem,renderItems){this.itemRemoved(previousIndex,renderItems,!0),this.itemAdded(newIndex,renderItem,renderItems)},getTopDistance:function(node){return Math.round(node.offsetTop-this.getCurrentScroll().y)},getBottomDistance:function(node){var clientRect=this.scrollableNode.getBoundingClientRect();return Math.round(node.offsetTop+node.offsetHeight-this.getCurrentScroll().y-(clientRect.bottom-clientRect.top))},descendantSelector:function(child){var enclosingRenderer=this.getEnclosingRenderer(child);return!enclosingRenderer||this.isAriaListbox&&this.isCategoryRenderer(enclosingRenderer)?!1:domClass.contains(child,this._cssClasses.cell)||child.hasAttribute("navindex")},_keynavKeyDownHandler:dcl.before(function(evt){evt.defaultPrevented||(evt.keyCode!==keys.SPACE||this._searchTimer?this.isAriaListbox||this._gridKeydownHandler(evt):this._spaceKeydownHandler(evt))}),focus:function(){if(this._previousFocusedChild)this.navigateTo(this._previousFocusedChild);else{var cell=this._getFirst();if(cell){for(;cell&&!(this.getTopDistance(cell)>=0);){var nextRenderer=cell.parentNode.nextElementSibling;cell=nextRenderer?nextRenderer.renderNode:null}this.navigateTo(cell)}}},_listDeactivatedHandler:function(){this._previousFocusedChild=this.navigatedDescendant},_getFirst:function(){var first=this.scrollableNode.querySelector("."+this._cssClasses.cell);return first&&this.isAriaListbox&&this.isCategoryRenderer(this.getEnclosingRenderer(first))&&(first=this.getNext(first,1)),first},_getLast:function(){var cells=this.scrollableNode.querySelectorAll("."+this._cssClasses.cell),last=cells.length?cells.item(cells.length-1):null;return last&&this.isAriaListbox&&this.isCategoryRenderer(this.getEnclosingRenderer(last))&&(last=this.getNext(last,-1)),last},downArrowKeyHandler:function(){if(!this.navigatedDescendant.hasAttribute("navindex")){var next=this._getFocusedRenderer().nextElementSibling;next&&this.isAriaListbox&&this.isCategoryRenderer(next)&&(next=next.nextElementSibling),this.navigateTo(next?next.renderNode:this._getFirst())}},upArrowKeyHandler:function(){if(!this.navigatedDescendant.hasAttribute("navindex")){var next=this._getFocusedRenderer().previousElementSibling;next&&this.isAriaListbox&&this.isCategoryRenderer(next)&&(next=next.previousElementSibling),this.navigateTo(next?next.renderNode:this._getLast())}},pageUpKeyHandler:function(){this.navigateToFirst()},pageDownKeyHandler:function(){this.navigateToLast()},getNext:function(child,dir){if(child===this)return dir>0?this._getFirst():this._getLast();var renderer=this.getEnclosingRenderer(child);return dir>0?renderer.nextElementSibling?renderer.nextElementSibling.renderNode:this._getFirst():renderer.previousElementSibling?renderer.previousElementSibling.renderNode:this._getLast()},_spaceKeydownHandler:function(evt){"none"!==this.selectionMode&&(evt.preventDefault(),this.handleSelection(evt))},_gridKeydownHandler:function(evt){if(evt.keyCode===keys.ENTER||evt.keyCode===keys.F2)this.navigatedDescendant&&!this.navigatedDescendant.hasAttribute("navindex")&&(evt.preventDefault(),this._enterActionableMode());else if(evt.keyCode===keys.TAB){if(this.navigatedDescendant&&this.navigatedDescendant.hasAttribute("navindex")){evt.preventDefault();for(var renderer=this._getFocusedRenderer(),next=renderer[evt.shiftKey?"getPrev":"getNext"](this.navigatedDescendant);!next;)renderer=renderer[evt.shiftKey?"previousElementSibling":"nextElementSibling"]||this[evt.shiftKey?"_getLast":"_getFirst"]().parentNode,next=renderer[evt.shiftKey?"getLast":"getFirst"]();this.navigateTo(next)}}else evt.keyCode===keys.ESCAPE&&this._leaveActionableMode()},_enterActionableMode:function(){var focusedRenderer=this._getFocusedRenderer();if(focusedRenderer){var next=focusedRenderer.getFirst();next&&this.navigateTo(next)}},_leaveActionableMode:function(){this.navigateTo(this._getFocusedRenderer().renderNode)},_getFocusedRenderer:function(){return this.navigatedDescendant?this.getEnclosingRenderer(this.navigatedDescendant):null}});return register("d-list",[HTMLElement,List])}),define("requirejs-text/text!deliteful/list/List/_LoadingPanel.html",[],function(){return'<!-- Template: deliteful/list/_PageLoader (d-list-page-loader) -->\r\n<template class="d-list-loading-panel" requires="deliteful/ProgressIndicator">\r\n	<div class="d-list-loading-panel-info">\r\n		<d-progress-indicator active=\'true\'></d-progress-indicator>\r\n		<span>{{message}}</span>\r\n	</div>\r\n</template>'}),define("deliteful/list/_LoadingPanel",["dcl/dcl","delite/register","delite/Widget","delite/handlebars!./List/_LoadingPanel.html"],function(dcl,register,Widget,template){var _LoadingPanel=dcl([Widget],{message:"",template:template});return register("d-list-loading-panel",[HTMLElement,_LoadingPanel])}),define("requirejs-text/text!deliteful/list/List/CategoryRenderer.html",[],function(){return'<!-- Template: deliteful/list/CategoryRenderer.html (d-list-category-renderer) -->\r\n<template>\r\n	<div attach-point="renderNode">{{item.category}}</div>\r\n</template>'}),define("deliteful/list/CategoryRenderer",["dcl/dcl","delite/register","delite/handlebars!./List/CategoryRenderer.html","./Renderer"],function(dcl,register,template,Renderer){var CategoryRenderer=dcl(Renderer,{baseClass:"d-list-category",template:template,attachedCallback:function(){"grid"===this.getParent().getAttribute("role")?(this.setAttribute("role","row"),this.renderNode.setAttribute("role","columnheader")):(this.renderNode.removeAttribute("tabindex"),this.renderNode.setAttribute("role","heading"))}});return register("d-list-category-renderer",[HTMLElement,CategoryRenderer])}),define("deliteful/list/Renderer",["dcl/dcl","dojo/dom-class","delite/register","delite/Widget"],function(dcl,domClass,register,Widget){return dcl([Widget],{item:{},_focusableChildren:null,render:dcl.after(function(){if(!this.renderNode)throw new Error("render must define a renderNode property on the Renderer. Example using attach-point in a template: <template><div attach-point='renderNode'></div></template>");this.renderNode.tabIndex=-1,domClass.add(this.renderNode,"d-list-cell"),this.updateFocusableChildren()}),getFirst:function(){return this._focusableChildren&&this._focusableChildren.length?this._focusableChildren[0]:null},getLast:function(){return this._focusableChildren&&this._focusableChildren.length?this._focusableChildren[this._focusableChildren.length-1]:null},getNext:function(child){return this.getNextFocusableChild(child,1)},getPrev:function(child){return this.getNextFocusableChild(child,-1)},updateFocusableChildren:function(){if(this._focusableChildren)for(var i=0;i<this._focusableChildren.length;i++)delete this._focusableChildren[i].tabIndex;var nodes=Array.prototype.slice.call(this.renderNode.querySelectorAll("[navindex]"),0);for(this._focusableChildren=nodes.slice(0).sort(function(a,b){var navindexA=parseInt(a.getAttribute("navindex"),10),navindexB=parseInt(b.getAttribute("navindex"),10);return navindexA===navindexB?nodes.indexOf(a)-nodes.indexOf(b):navindexA-navindexB}),i=0;i<this._focusableChildren.length;i++){var node=this._focusableChildren[i];node.tabIndex=-1,node.id||(node.id=this.id+"-cell-"+i)}},getNextFocusableChild:function(fromChild,dir){if(this._focusableChildren&&fromChild!==this){var fromChildIndex=fromChild?this._focusableChildren.indexOf(fromChild):-1,nextChildIndex=fromChildIndex+dir;return nextChildIndex>=0&&nextChildIndex<this._focusableChildren.length?this._focusableChildren[nextChildIndex]:null}}})}),define("requirejs-text/text!deliteful/list/List/ItemRenderer.html",[],function(){return'<!-- Template: deliteful/list/ItemRenderer.html (d-list-item-renderer) -->\r\n<template>\r\n	<div attach-point="renderNode">\r\n		<div class="d-list-item-icon {{item.iconclass}}" aria-hidden="true" role="presentation"></div>\r\n		<div class="d-list-item-label">{{item.label}}</div>\r\n		<div class="d-spacer"></div>\r\n		<div class="d-list-item-right-text">{{item.righttext}}</div>\r\n		<div class="d-list-item-right-icon {{item.righticonclass}}" aria-hidden="true" role="presentation"></div>\r\n	</div>\r\n</template>\r\n'}),define("deliteful/list/ItemRenderer",["dcl/dcl","dojo/dom-class","delite/register","delite/handlebars!./List/ItemRenderer.html","./Renderer"],function(dcl,domClass,register,template,Renderer){var ItemRenderer=dcl(Renderer,{baseClass:"d-list-item",template:template,attachedCallback:function(){"grid"===this.getParent().getAttribute("role")?(this.setAttribute("role","row"),this.renderNode.setAttribute("role","gridcell")):this.renderNode.setAttribute("role","option")}});return register("d-list-item-renderer",[HTMLElement,ItemRenderer])}),define("delite/Scrollable",["dcl/dcl","dojo/dom","dojo/dom-class","dojo/_base/fx","dojo/fx/easing","delite/Widget","delite/theme!./Scrollable/themes/{{theme}}/Scrollable.css"],function(dcl,dom,domClass,baseFx,easing,Widget){return dcl(Widget,{scrollDirection:"vertical",scrollableNode:null,postRender:function(){this.notifyCurrentValue("scrollDirection")},render:dcl.after(function(){this.scrollableNode||(this.scrollableNode=this),dom.setSelectable(this.scrollableNode,!1)}),refreshRendering:function(props){props.scrollDirection&&(domClass.toggle(this.scrollableNode,"d-scrollable","none"!==this.scrollDirection),domClass.toggle(this.scrollableNode,"d-scrollable-h",/^(both|horizontal)$/.test(this.scrollDirection)),domClass.toggle(this.scrollableNode,"d-scrollable-v",/^(both|vertical)$/.test(this.scrollDirection)))},destroy:function(){this._stopAnimation()},isTopScroll:function(){return 0===this.scrollableNode.scrollTop},isBottomScroll:function(){var scrollableNode=this.scrollableNode;return scrollableNode.offsetHeight+scrollableNode.scrollTop>=scrollableNode.scrollHeight},isLeftScroll:function(){return 0===this.scrollableNode.scrollLeft},isRightScroll:function(){var scrollableNode=this.scrollableNode;return scrollableNode.offsetWidth+scrollableNode.scrollLeft>=scrollableNode.scrollWidth},getCurrentScroll:function(){return{x:this.scrollableNode.scrollLeft,y:this.scrollableNode.scrollTop}},scrollBy:function(by,duration){var to={};void 0!==by.x&&(to.x=this.scrollableNode.scrollLeft+by.x),void 0!==by.y&&(to.y=this.scrollableNode.scrollTop+by.y),this.scrollTo(to,duration)},scrollTo:function(to,duration){var scrollableNode=this.scrollableNode;if(this._stopAnimation(),!duration||0>=duration)void 0!==to.x&&(scrollableNode.scrollLeft=to.x),void 0!==to.y&&(scrollableNode.scrollTop=to.y);else{var from={x:void 0!==to.x?scrollableNode.scrollLeft:void 0,y:void 0!==to.y?scrollableNode.scrollTop:void 0},self=this,anim=function(){var Curve=function(start,end){this.start=start,this.end=end};Curve.prototype.getValue=function(n){return{x:(to.x-from.x)*n+from.x,y:(to.y-from.y)*n+from.y}};var animation=new baseFx.Animation({beforeBegin:function(){this.curve&&delete this.curve,animation.curve=new Curve(from,to)},onAnimate:function(val){void 0!==val.x&&(scrollableNode.scrollLeft=val.x),void 0!==val.y&&(scrollableNode.scrollTop=val.y)},easing:easing.expoInOut,duration:duration,rate:20});return self._animation=animation,animation};anim().play()}},_stopAnimation:function(){this._animation&&"playing"===this._animation.status()&&this._animation.stop()}})}),define("dojo/fx/easing",["../_base/lang"],function(lang){var easingFuncs={linear:function(n){return n},quadIn:function(n){return Math.pow(n,2)},quadOut:function(n){return n*(n-2)*-1},quadInOut:function(n){return n=2*n,1>n?Math.pow(n,2)/2:-1*(--n*(n-2)-1)/2},cubicIn:function(n){return Math.pow(n,3)},cubicOut:function(n){return Math.pow(n-1,3)+1},cubicInOut:function(n){return n=2*n,1>n?Math.pow(n,3)/2:(n-=2,(Math.pow(n,3)+2)/2)},quartIn:function(n){return Math.pow(n,4)},quartOut:function(n){return-1*(Math.pow(n-1,4)-1)},quartInOut:function(n){return n=2*n,1>n?Math.pow(n,4)/2:(n-=2,-0.5*(Math.pow(n,4)-2))},quintIn:function(n){return Math.pow(n,5)},quintOut:function(n){return Math.pow(n-1,5)+1},quintInOut:function(n){return n=2*n,1>n?Math.pow(n,5)/2:(n-=2,(Math.pow(n,5)+2)/2)},sineIn:function(n){return-1*Math.cos(n*(Math.PI/2))+1},sineOut:function(n){return Math.sin(n*(Math.PI/2))},sineInOut:function(n){return-1*(Math.cos(Math.PI*n)-1)/2},expoIn:function(n){return 0==n?0:Math.pow(2,10*(n-1))},expoOut:function(n){return 1==n?1:-1*Math.pow(2,-10*n)+1},expoInOut:function(n){return 0==n?0:1==n?1:(n=2*n,1>n?Math.pow(2,10*(n-1))/2:(--n,(-1*Math.pow(2,-10*n)+2)/2))},circIn:function(n){return-1*(Math.sqrt(1-Math.pow(n,2))-1)},circOut:function(n){return n-=1,Math.sqrt(1-Math.pow(n,2))},circInOut:function(n){return n=2*n,1>n?-0.5*(Math.sqrt(1-Math.pow(n,2))-1):(n-=2,.5*(Math.sqrt(1-Math.pow(n,2))+1))},backIn:function(n){var s=1.70158;return Math.pow(n,2)*((s+1)*n-s)},backOut:function(n){n-=1;var s=1.70158;return Math.pow(n,2)*((s+1)*n+s)+1},backInOut:function(n){var s=2.5949095;return n=2*n,1>n?Math.pow(n,2)*((s+1)*n-s)/2:(n-=2,(Math.pow(n,2)*((s+1)*n+s)+2)/2)},elasticIn:function(n){if(0==n||1==n)return n;var p=.3,s=p/4;return n-=1,-1*Math.pow(2,10*n)*Math.sin(2*(n-s)*Math.PI/p)},elasticOut:function(n){if(0==n||1==n)return n;var p=.3,s=p/4;return Math.pow(2,-10*n)*Math.sin(2*(n-s)*Math.PI/p)+1},elasticInOut:function(n){if(0==n)return 0;if(n=2*n,2==n)return 1;var p=.3*1.5,s=p/4;return 1>n?(n-=1,-.5*Math.pow(2,10*n)*Math.sin(2*(n-s)*Math.PI/p)):(n-=1,.5*Math.pow(2,-10*n)*Math.sin(2*(n-s)*Math.PI/p)+1)},bounceIn:function(n){return 1-easingFuncs.bounceOut(1-n)},bounceOut:function(n){var l,s=7.5625,p=2.75;return 1/p>n?l=s*Math.pow(n,2):2/p>n?(n-=1.5/p,l=s*Math.pow(n,2)+.75):2.5/p>n?(n-=2.25/p,l=s*Math.pow(n,2)+.9375):(n-=2.625/p,l=s*Math.pow(n,2)+.984375),l},bounceInOut:function(n){return.5>n?easingFuncs.bounceIn(2*n)/2:easingFuncs.bounceOut(2*n-1)/2+.5}};return lang.setObject("dojo.fx.easing",easingFuncs),easingFuncs}),define("dojo/_base/fx",["./kernel","./config","./lang","../Evented","./Color","../aspect","../sniff","../dom","../dom-style"],function(dojo,config,lang,Evented,Color,aspect,has,dom,style){var _mixin=lang.mixin,basefx={},_Line=basefx._Line=function(start,end){this.start=start,this.end=end};_Line.prototype.getValue=function(n){return(this.end-this.start)*n+this.start
};var Animation=basefx.Animation=function(args){_mixin(this,args),lang.isArray(this.curve)&&(this.curve=new _Line(this.curve[0],this.curve[1]))};Animation.prototype=new Evented,lang.extend(Animation,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var _p=this._percent,_e=this.easing;return _e?_e(_p):_p},_fire:function(evt,args){var a=args||[];if(this[evt])if(config.debugAtAllCosts)this[evt].apply(this,a);else try{this[evt].apply(this,a)}catch(e){console.error("exception in animation handler for:",evt),console.error(e)}return this},play:function(delay,gotoStart){var _t=this;if(_t._delayTimer&&_t._clearTimer(),gotoStart)_t._stopTimer(),_t._active=_t._paused=!1,_t._percent=0;else if(_t._active&&!_t._paused)return _t;_t._fire("beforeBegin",[_t.node]);var de=delay||_t.delay,_p=lang.hitch(_t,"_play",gotoStart);return de>0?(_t._delayTimer=setTimeout(_p,de),_t):(_p(),_t)},_play:function(){var _t=this;_t._delayTimer&&_t._clearTimer(),_t._startTime=(new Date).valueOf(),_t._paused&&(_t._startTime-=_t.duration*_t._percent),_t._active=!0,_t._paused=!1;var value=_t.curve.getValue(_t._getStep());return _t._percent||(_t._startRepeatCount||(_t._startRepeatCount=_t.repeat),_t._fire("onBegin",[value])),_t._fire("onPlay",[value]),_t._cycle(),_t},pause:function(){var _t=this;return _t._delayTimer&&_t._clearTimer(),_t._stopTimer(),_t._active?(_t._paused=!0,_t._fire("onPause",[_t.curve.getValue(_t._getStep())]),_t):_t},gotoPercent:function(percent,andPlay){var _t=this;return _t._stopTimer(),_t._active=_t._paused=!0,_t._percent=percent,andPlay&&_t.play(),_t},stop:function(gotoEnd){var _t=this;return _t._delayTimer&&_t._clearTimer(),_t._timer?(_t._stopTimer(),gotoEnd&&(_t._percent=1),_t._fire("onStop",[_t.curve.getValue(_t._getStep())]),_t._active=_t._paused=!1,_t):_t},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){var _t=this;if(_t._active){var curr=(new Date).valueOf(),step=0===_t.duration?1:(curr-_t._startTime)/_t.duration;step>=1&&(step=1),_t._percent=step,_t.easing&&(step=_t.easing(step)),_t._fire("onAnimate",[_t.curve.getValue(step)]),_t._percent<1?_t._startTimer():(_t._active=!1,_t.repeat>0?(_t.repeat--,_t.play(null,!0)):-1==_t.repeat?_t.play(null,!0):_t._startRepeatCount&&(_t.repeat=_t._startRepeatCount,_t._startRepeatCount=0),_t._percent=0,_t._fire("onEnd",[_t.node]),!_t.repeat&&_t._stopTimer())}return _t},_clearTimer:function(){clearTimeout(this._delayTimer),delete this._delayTimer}});var ctr=0,timer=null,runner={run:function(){}};lang.extend(Animation,{_startTimer:function(){this._timer||(this._timer=aspect.after(runner,"run",lang.hitch(this,"_cycle"),!0),ctr++),timer||(timer=setInterval(lang.hitch(runner,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,ctr--),0>=ctr&&(clearInterval(timer),timer=null,ctr=0)}});var _makeFadeable=has("ie")?function(node){var ns=node.style;ns.width.length||"auto"!=style.get(node,"width")||(ns.width="auto")}:function(){};basefx._fade=function(args){args.node=dom.byId(args.node);var fArgs=_mixin({properties:{}},args),props=fArgs.properties.opacity={};props.start="start"in fArgs?fArgs.start:function(){return+style.get(fArgs.node,"opacity")||0},props.end=fArgs.end;var anim=basefx.animateProperty(fArgs);return aspect.after(anim,"beforeBegin",lang.partial(_makeFadeable,fArgs.node),!0),anim},basefx.fadeIn=function(args){return basefx._fade(_mixin({end:1},args))},basefx.fadeOut=function(args){return basefx._fade(_mixin({end:0},args))},basefx._defaultEasing=function(n){return.5+Math.sin((n+1.5)*Math.PI)/2};var PropLine=function(properties){this._properties=properties;for(var p in properties){var prop=properties[p];prop.start instanceof Color&&(prop.tempColor=new Color)}};return PropLine.prototype.getValue=function(r){var ret={};for(var p in this._properties){var prop=this._properties[p],start=prop.start;start instanceof Color?ret[p]=Color.blendColors(start,prop.end,r,prop.tempColor).toCss():lang.isArray(start)||(ret[p]=(prop.end-start)*r+start+("opacity"!=p?prop.units||"px":0))}return ret},basefx.animateProperty=function(args){var n=args.node=dom.byId(args.node);args.easing||(args.easing=dojo._defaultEasing);var anim=new Animation(args);return aspect.after(anim,"beforeBegin",lang.hitch(anim,function(){function getStyle(node,p){var v={height:node.offsetHeight,width:node.offsetWidth}[p];return void 0!==v?v:(v=style.get(node,p),"opacity"==p?+v:isColor?v:parseFloat(v))}var pm={};for(var p in this.properties){("width"==p||"height"==p)&&(this.node.display="block");var prop=this.properties[p];lang.isFunction(prop)&&(prop=prop(n)),prop=pm[p]=_mixin({},lang.isObject(prop)?prop:{end:prop}),lang.isFunction(prop.start)&&(prop.start=prop.start(n)),lang.isFunction(prop.end)&&(prop.end=prop.end(n));var isColor=p.toLowerCase().indexOf("color")>=0;"end"in prop?"start"in prop||(prop.start=getStyle(n,p)):prop.end=getStyle(n,p),isColor?(prop.start=new Color(prop.start),prop.end=new Color(prop.end)):prop.start="opacity"==p?+prop.start:parseFloat(prop.start)}this.curve=new PropLine(pm)}),!0),aspect.after(anim,"onAnimate",lang.hitch(style,"set",anim.node),!0),anim},basefx.anim=function(node,properties,duration,easing,onEnd,delay){return basefx.animateProperty({node:node,duration:duration||Animation.prototype.duration,properties:properties,easing:easing,onEnd:onEnd}).play(delay||0)},has("extend-dojo")&&(_mixin(dojo,basefx),dojo._Animation=Animation),basefx}),define("dojo/dom-style",["./sniff","./dom"],function(has,dom){function _toStyleValue(node,type,value){if(type=type.toLowerCase(),has("ie")||has("trident")){if("auto"==value){if("height"==type)return node.offsetHeight;if("width"==type)return node.offsetWidth}if("fontweight"==type)switch(value){case 700:return"bold";case 400:default:return"normal"}}return type in _pixelNamesCache||(_pixelNamesCache[type]=_pixelRegExp.test(type)),_pixelNamesCache[type]?toPixel(node,value):value}var getComputedStyle,style={};getComputedStyle=has("webkit")?function(node){var s;if(1==node.nodeType){var dv=node.ownerDocument.defaultView;s=dv.getComputedStyle(node,null),!s&&node.style&&(node.style.display="",s=dv.getComputedStyle(node,null))}return s||{}}:has("ie")&&(has("ie")<9||has("quirks"))?function(node){return 1==node.nodeType&&node.currentStyle?node.currentStyle:{}}:function(node){return 1==node.nodeType?node.ownerDocument.defaultView.getComputedStyle(node,null):{}},style.getComputedStyle=getComputedStyle;var toPixel;toPixel=has("ie")?function(element,avalue){if(!avalue)return 0;if("medium"==avalue)return 4;if(avalue.slice&&"px"==avalue.slice(-2))return parseFloat(avalue);var s=element.style,rs=element.runtimeStyle,cs=element.currentStyle,sLeft=s.left,rsLeft=rs.left;rs.left=cs.left;try{s.left=avalue,avalue=s.pixelLeft}catch(e){avalue=0}return s.left=sLeft,rs.left=rsLeft,avalue}:function(element,value){return parseFloat(value)||0},style.toPixelValue=toPixel;var astr="DXImageTransform.Microsoft.Alpha",af=function(n,f){try{return n.filters.item(astr)}catch(e){return f?{}:null}},_getOpacity=has("ie")<9||has("ie")<10&&has("quirks")?function(node){try{return af(node).Opacity/100}catch(e){return 1}}:function(node){return getComputedStyle(node).opacity},_setOpacity=has("ie")<9||has("ie")<10&&has("quirks")?function(node,opacity){""===opacity&&(opacity=1);var ov=100*opacity,fullyOpaque=1===opacity;if(fullyOpaque?(node.style.zoom="",af(node)&&(node.style.filter=node.style.filter.replace(new RegExp("\\s*progid:"+astr+"\\([^\\)]+?\\)","i"),""))):(node.style.zoom=1,af(node)?af(node,1).Opacity=ov:node.style.filter+=" progid:"+astr+"(Opacity="+ov+")",af(node,1).Enabled=!0),"tr"==node.tagName.toLowerCase())for(var td=node.firstChild;td;td=td.nextSibling)"td"==td.tagName.toLowerCase()&&_setOpacity(td,opacity);return opacity}:function(node,opacity){return node.style.opacity=opacity},_pixelNamesCache={left:!0,top:!0},_pixelRegExp=/margin|padding|width|height|max|min|offset/,_floatAliases={cssFloat:1,styleFloat:1,"float":1};return style.get=function(node,name){var n=dom.byId(node),l=arguments.length,op="opacity"==name;if(2==l&&op)return _getOpacity(n);name=_floatAliases[name]?"cssFloat"in n.style?"cssFloat":"styleFloat":name;var s=style.getComputedStyle(n);return 1==l?s:_toStyleValue(n,name,s[name]||n.style[name])},style.set=function(node,name,value){var n=dom.byId(node),l=arguments.length,op="opacity"==name;if(name=_floatAliases[name]?"cssFloat"in n.style?"cssFloat":"styleFloat":name,3==l)return op?_setOpacity(n,value):n.style[name]=value;for(var x in name)style.set(node,x,name[x]);return style.getComputedStyle(n)},style}),define("dojo/_base/Color",["./kernel","./lang","./array","./config"],function(dojo,lang,ArrayUtil,config){var Color=dojo.Color=function(color){color&&this.setColor(color)};return Color.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:config.transparentColor||[0,0,0,0]},lang.extend(Color,{r:255,g:255,b:255,a:1,_set:function(r,g,b,a){var t=this;t.r=r,t.g=g,t.b=b,t.a=a},setColor:function(color){return lang.isString(color)?Color.fromString(color,this):lang.isArray(color)?Color.fromArray(color,this):(this._set(color.r,color.g,color.b,color.a),color instanceof Color||this.sanitize()),this},sanitize:function(){return this},toRgb:function(){var t=this;return[t.r,t.g,t.b]},toRgba:function(){var t=this;return[t.r,t.g,t.b,t.a]},toHex:function(){var arr=ArrayUtil.map(["r","g","b"],function(x){var s=this[x].toString(16);return s.length<2?"0"+s:s},this);return"#"+arr.join("")},toCss:function(includeAlpha){var t=this,rgb=t.r+", "+t.g+", "+t.b;return(includeAlpha?"rgba("+rgb+", "+t.a:"rgb("+rgb)+")"},toString:function(){return this.toCss(!0)}}),Color.blendColors=dojo.blendColors=function(start,end,weight,obj){var t=obj||new Color;return ArrayUtil.forEach(["r","g","b","a"],function(x){t[x]=start[x]+(end[x]-start[x])*weight,"a"!=x&&(t[x]=Math.round(t[x]))}),t.sanitize()},Color.fromRgb=dojo.colorFromRgb=function(color,obj){var m=color.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return m&&Color.fromArray(m[1].split(/\s*,\s*/),obj)},Color.fromHex=dojo.colorFromHex=function(color,obj){var t=obj||new Color,bits=4==color.length?4:8,mask=(1<<bits)-1;return color=Number("0x"+color.substr(1)),isNaN(color)?null:(ArrayUtil.forEach(["b","g","r"],function(x){var c=color&mask;color>>=bits,t[x]=4==bits?17*c:c}),t.a=1,t)},Color.fromArray=dojo.colorFromArray=function(a,obj){var t=obj||new Color;return t._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3])),isNaN(t.a)&&(t.a=1),t.sanitize()},Color.fromString=dojo.colorFromString=function(str,obj){var a=Color.named[str];return a&&Color.fromArray(a,obj)||Color.fromRgb(str,obj)||Color.fromHex(str,obj)},Color}),define("delite/StoreMap",["dcl/dcl","./Store"],function(dcl,Store){var getvalue=function(map,item,key,store){return map[key+"Func"]?map[key+"Func"](item,store):map[key+"Attr"]?item[map[key+"Attr"]]:item[key]},setvalue=function(map,item,key,store,value){map[key+"Func"]?map[key+"Func"](item,store,value):map[key+"Attr"]?item[map[key+"Attr"]]=value:item[key]=value},propregexp=/^(?!_)(\w)+(?=Attr$|Func$)/,capitalize=/f(?=unc$)|a(?=ttr$)/;return dcl(Store,{allowRemap:!1,_mappedKeys:null,copyAllItemProps:!1,parseAttribute:dcl.superCall(function(sup){return function(name,value){return/Attr$|Func$/i.test(name)?(name=name.toLowerCase(),name=this._propCaseMap[name]||name.replace(capitalize,capitalize.exec(name)[0].toUpperCase()),{prop:name,value:/Attr$/.test(name)?value:this.parseFunctionAttribute(value,["item","store","value"])}):sup.apply(this,arguments)}}),queryStoreAndInitItems:dcl.superCall(function(sup){return function(processQueryResult,force){this.attached||force?sup.apply(this,arguments):this._pendingQuery=processQueryResult}}),attachedCallback:function(){var mappedKeys=[];for(var prop in this){var match=propregexp.exec(prop);match&&-1===mappedKeys.indexOf(match[0])&&mappedKeys.push(match[0])}if(this.copyAllItemProps){this._itemKeys=[];for(var i=0;i<mappedKeys.length;i++)this._itemKeys.push(this[mappedKeys[i]+"Attr"]?this[mappedKeys[i]+"Attr"]:mappedKeys[i])}this._mappedKeys=mappedKeys,this.deliver(),this._pendingQuery&&(this.queryStoreAndInitItems(this._pendingQuery,!0),this._pendingQuery=null)},renderItemToItem:function(renderItem){var tmp={},store=this.store;tmp[store.idProperty]=renderItem.id;for(var key in renderItem)setvalue(this,tmp,key,store,renderItem[key]);return store.get(renderItem[store.idProperty]).then(function(item){return dcl.mix(item,tmp),item})},itemToRenderItem:function(item){var renderItem={},mappedKeys=this._mappedKeys,store=this.store;renderItem.__item=item;var id=store.getIdentity(item);null==id&&store._setIdentity&&store._setIdentity(item,Math.random()),renderItem.id=store.getIdentity(item);for(var i=0;i<mappedKeys.length;i++)renderItem[mappedKeys[i]]=getvalue(this,item,mappedKeys[i],store);if(this.copyAllItemProps)for(var key in item)-1===this._itemKeys.indexOf(key)&&item.hasOwnProperty(key)&&(renderItem[key]=item[key]);return renderItem},remap:function(){for(var items=this.renderItems,mappedKeys=this._mappedKeys,i=0;i<items.length;i++)for(var j=0;j<mappedKeys.length;j++)items[i][mappedKeys[j]]=getvalue(this,items[i].__item,mappedKeys[j],this.store)}})}),define("delite/Store",["dcl/dcl","dojo/when","decor/Invalidating"],function(dcl,when,Invalidating){return dcl(Invalidating,{store:null,query:{},processQueryResult:function(store){return store},renderItems:null,renderItemToItem:function(renderItem){return renderItem},itemToRenderItem:function(item){return item},initItems:function(renderItems){return this.renderItems=renderItems,this.emit("query-success",{renderItems:renderItems,cancelable:!1,bubbles:!0}),renderItems},computeProperties:function(props){("store"in props||"query"in props)&&this.queryStoreAndInitItems(this.processQueryResult)},queryStoreAndInitItems:function(processQueryResult){if(this._untrack(),null!=this.store){if(this.store.filter||!(this.store instanceof HTMLElement)||this.store.attached){this._attachedlistener&&this.store.removeEventListener("customelement-attached",this._attachedlistener);var collection=processQueryResult.call(this,this.store.filter(this.query));return collection.track&&(collection=this._tracked=collection.track(),collection.on("add",this._itemAdded.bind(this)),collection.on("update",this._itemUpdated.bind(this)),collection.on("remove",this._itemRemoved.bind(this)),collection.on("refresh",this._refreshHandler.bind(this))),this.processCollection(collection)}this.store.addEventListener("customelement-attached",this._attachedlistener=function(){this.queryStoreAndInitItems(this.processQueryResult)}.bind(this))}else this.initItems([])},processCollection:function(collection){return this.fetch(collection).then(function(items){return this.initItems(items.map(this.itemToRenderItem.bind(this)))}.bind(this),this._queryError.bind(this))},fetch:function(collection){return collection.fetch()},_queryError:function(error){console.log(error),this.emit("query-error",{error:error,cancelable:!1,bubbles:!0})},_untrack:function(){this._tracked&&(this._tracked.tracking.remove(),this._tracked=null)},destroy:function(){this._untrack()},itemRemoved:function(index,renderItems){renderItems.splice(index,1)},itemAdded:function(index,renderItem,renderItems){renderItems.splice(index,0,renderItem)},itemUpdated:function(index,renderItem,renderItems){dcl.mix(renderItems[index],renderItem)},itemMoved:function(previousIndex,newIndex,renderItem,renderItems){this.itemRemoved(previousIndex,renderItems),this.itemAdded(newIndex,renderItem,renderItems)},_refreshHandler:function(){this.queryStoreAndInitItems(this.processQueryResult)},_itemRemoved:function(event){void 0!==event.previousIndex&&(this.itemRemoved(event.previousIndex,this.renderItems),this.notifyCurrentValue("renderItems"))},_itemUpdated:function(event){void 0===event.index?this.itemRemoved(event.previousIndex,this.renderItems):void 0===event.previousIndex?this.itemAdded(event.index,this.itemToRenderItem(event.target),this.renderItems):event.index!==event.previousIndex?this.itemMoved(event.previousIndex,event.index,this.itemToRenderItem(event.target),this.renderItems):this.itemUpdated(event.index,this.itemToRenderItem(event.target),this.renderItems),this.notifyCurrentValue("renderItems")},_itemAdded:function(event){void 0!==event.index&&(this.itemAdded(event.index,this.itemToRenderItem(event.target),this.renderItems),this.notifyCurrentValue("renderItems"))}})}),define("delite/KeyNav",["dcl/dcl","dojo/dom-class","delite/keys","./features","./Widget","dpointer/events","./activationTracker"],function(dcl,domClass,keys,has,Widget){function takesInput(node){var tag=node.nodeName.toLowerCase();return!node.readOnly&&("textarea"===tag||"input"===tag&&/^(color|email|number|password|search|tel|text|url|range)$/.test(node.type))}var keycodeToMethod={};for(var key in keys)keycodeToMethod[keys[key]]=key.replace(/[^_]+|_./g,function(c){return"_"===c.charAt(0)?c.charAt(1):c.toLowerCase()})+"KeyHandler";return dcl(Widget,{focusDescendants:!0,navigatedDescendant:null,descendantSelector:null,_getTargetElement:function(evt){for(var child=evt.target;child!==this;child=child.parentNode)if(this._selectorFunc(child))return child;return this},postRender:function(){var self=this;if("string"==typeof this.descendantSelector){var matchesFuncName=has("dom-matches");this._selectorFunc=function(elem){return elem[matchesFuncName](this.descendantSelector)}}else this._selectorFunc=this.descendantSelector?this.descendantSelector:function(elem){return elem.parentNode===self.containerNode};this.on("keypress",this._keynavKeyPressHandler.bind(this)),this.on("keydown",this._keynavKeyDownHandler.bind(this)),this.on("pointerdown",function(evt){var target=self._getTargetElement(evt);target!==self&&self._descendantNavigateHandler(target,evt)}),this.focusDescendants&&(this.on("delite-deactivated",this._keynavDeactivatedHandler.bind(this)),this.on("focusin",function(evt){var target=self._getTargetElement(evt);target===self?self._keynavFocusHandler(evt):self._descendantNavigateHandler(target,evt)}))},attachedCallback:function(){this.focusDescendants&&!this.hasAttribute("tabindex")&&(this.tabIndex="0")},homeKeyHandler:function(){this.navigateToFirst()},endKeyHandler:function(){this.navigateToLast()},focus:function(){this.navigateToFirst()},navigateToFirst:function(){this.navigateTo(this.getNext(this,1))},navigateToLast:function(){this.navigateTo(this.getNext(this,-1))},navigateTo:function(child,last){this.focusDescendants?(child.tabIndex="_savedTabIndex"in this?this._savedTabIndex:this.tabIndex,child.focus(last?"end":"start")):this._descendantNavigateHandler(child)},_keynavFocusHandler:function(){this.navigatedDescendant||(this._savedTabIndex=this.tabIndex,this.removeAttribute("tabindex"),this.focus())},_keynavDeactivatedHandler:function(){this.setAttribute("tabindex",this._savedTabIndex),delete this._savedTabIndex,this.navigatedDescendant&&(this.navigatedDescendant.tabIndex="-1",this.navigatedDescendant=null)},_descendantNavigateHandler:function(child){child&&child!==this.navigatedDescendant&&(this.focusDescendants&&(this.navigatedDescendant&&!this.navigatedDescendant._destroyed&&(this.navigatedDescendant.tabIndex="-1"),"_savedTabIndex"in this||(this._savedTabIndex=this.tabIndex,this.removeAttribute("tabindex")),child.tabIndex=this._savedTabIndex),this.navigatedDescendant&&domClass.remove(this.navigatedDescendant,"d-active-descendant"),this.emit("keynav-child-navigated",{oldValue:this.navigatedDescendant,newValue:child}),this.navigatedDescendant=child,child&&domClass.add(child,"d-active-descendant"))},_searchString:"",multiCharSearchDuration:1e3,_keyboardSearchHandler:function(item){item&&this.navigateTo(item)},_keyboardSearchCompare:function(item,searchString){var element=item,text=item.label||(element.focusNode?element.focusNode.label:"")||element.textContent||"",currentString=text.replace(/^\s+/,"").substr(0,searchString.length).toLowerCase();return searchString.length&&currentString===searchString?-1:0},_keynavKeyDownHandler:function(evt){(!takesInput(evt.target)||evt.keyCode!==keys.LEFT_ARROW&&evt.keyCode!==keys.RIGHT_ARROW&&evt.keyCode!==keys.HOME&&evt.keyCode!==keys.END&&evt.keyCode!==keys.SPACE)&&(evt.keyCode===keys.SPACE&&this._searchTimer&&!(evt.ctrlKey||evt.altKey||evt.metaKey)?(evt.preventDefault(),this._keyboardSearch(evt," ")):this._applyKeyHandler(evt))},_applyKeyHandler:function(evt){var methodName;switch(evt.keyCode){case keys.LEFT_ARROW:methodName=this.isLeftToRight()?"previousArrowKeyHandler":"nextArrowKeyHandler";break;case keys.RIGHT_ARROW:methodName=this.isLeftToRight()?"nextArrowKeyHandler":"previousArrowKeyHandler";break;default:methodName=keycodeToMethod[evt.keyCode]}var func=this[methodName];func&&(func.call(this,evt,this.navigatedDescendant),evt.stopPropagation(),evt.preventDefault(),this._searchString="")},_keynavKeyPressHandler:function(evt){takesInput(evt.target)||evt.charCode<=keys.SPACE||evt.ctrlKey||evt.altKey||evt.metaKey||(evt.preventDefault(),evt.stopPropagation(),this._keyboardSearch(evt,String.fromCharCode(evt.charCode).toLowerCase()))},_keyboardSearch:function(evt,keyChar){var searchString,matchedItem=null,numMatches=0;this._searchTimer&&this._searchTimer.remove(),this._searchString+=keyChar;var allSameLetter=/^(.)\1*$/.test(this._searchString),searchLen=allSameLetter?1:this._searchString.length;searchString=this._searchString.substr(0,searchLen),this._searchTimer=this.defer(function(){this._searchTimer=null,this._searchString=""},this.multiCharSearchDuration);var currentItem=this.navigatedDescendant||null;if(1!==searchLen&&currentItem||(currentItem=this.getNext(currentItem,1))){var stop=currentItem;do{var rc=this._keyboardSearchCompare(currentItem,searchString);if(rc&&0===numMatches++&&(matchedItem=currentItem),-1===rc){numMatches=-1;break}currentItem=this.getNext(currentItem,1)}while(currentItem!==stop);this._keyboardSearchHandler(matchedItem,evt,searchString,numMatches)}},getNext:function(child,dir){function dfsNext(node){if(node.firstElementChild)return node.firstElementChild;for(;node!==root;){if(node.nextElementSibling)return node.nextElementSibling;node=node.parentNode}return root}function dfsLast(node){for(;node.lastElementChild;)node=node.lastElementChild;return node}function dfsPrev(node){return node===root?dfsLast(root):node.previousElementSibling&&dfsLast(node.previousElementSibling)||node.parentNode}for(var root=this,origChild=child;;){if(child=dir>0?dfsNext(child):dfsPrev(child),child===origChild)return null;if(this._selectorFunc(child))return child}}})}),define("delite/activationTracker",["dcl/advise","dcl/dcl","dojo/dom-class","decor/Evented","dpointer/events","requirejs-domready/domReady!"],function(advise,dcl,domClass,Evented){var lastFocusin,lastPointerDownOrFocusIn,ActivationTracker=dcl(Evented,{activeStack:[],registerIframe:function(iframe){return this.registerWin(iframe.contentWindow,iframe)},registerWin:function(targetWindow,effectiveNode){function pointerDownHandler(evt){evt&&evt.target&&null==evt.target.parentNode||_this._pointerDownOrFocusHandler(effectiveNode||evt.target,"mouse")}function focusHandler(evt){if(evt.target.tagName){var tag=evt.target.tagName.toLowerCase();"#document"!==tag&&"body"!==tag&&_this._focusHandler(effectiveNode||evt.target)}}function blurHandler(evt){_this._blurHandler(effectiveNode||evt.target)}var _this=this,doc=targetWindow.document,body=doc&&doc.body;return body?(doc.addEventListener("pointerdown",pointerDownHandler,!0),body.addEventListener("focus",focusHandler,!0),body.addEventListener("blur",blurHandler,!0),{remove:function(){doc.removeEventListener("pointerdown",pointerDownHandler,!0),body.removeEventListener("focus",focusHandler,!0),body.removeEventListener("blur",blurHandler,!0)}}):void 0},_blurHandler:function(){var now=(new Date).getTime();lastFocusin+100>now||(this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),lastPointerDownOrFocusIn+100>now||(this._clearActiveWidgetsTimer=setTimeout(function(){delete this._clearActiveWidgetsTimer,this._setStack([])}.bind(this),0)))},_pointerDownOrFocusHandler:function(node,by){lastPointerDownOrFocusIn=(new Date).getTime(),this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);var newStack=[];try{for(;node;)if(node._popupParent)node=node._popupParent;else if(node.tagName&&"body"===node.tagName.toLowerCase()){if(node===document.body)break;node=node.ownerDocument.defaultView.frameElement}else!node.render||"mouse"===by&&node.disabled||newStack.unshift(node),node=node.parentNode}catch(e){}this._setStack(newStack,by)},_focusHandler:function(node){node&&9!==node.nodeType&&(lastFocusin=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._pointerDownOrFocusHandler(node))},_setStack:function(newStack,by){var oldStack=this.activeStack,lastOldIdx=oldStack.length-1,lastNewIdx=newStack.length-1;if(newStack[lastNewIdx]!==oldStack[lastOldIdx]){this.activeStack=newStack,this.emit("active-widget-stack",newStack);var widget,i;for(i=lastOldIdx;i>=0&&oldStack[i]!==newStack[i];i--)widget=oldStack[i],widget&&(widget.emit("delite-deactivated",{bubbles:!1,by:by}),this.emit("deactivated",widget,by));for(i++;lastNewIdx>=i;i++)widget=newStack[i],widget&&(widget.emit("delite-activated",{bubbles:!1,by:by}),this.emit("activated",widget,by))}}}),singleton=new ActivationTracker;return singleton.registerWin(window),singleton}),define("requirejs-domready/domReady",[],function(){"use strict";function runCallbacks(callbacks){var i;for(i=0;i<callbacks.length;i+=1)callbacks[i](doc)}function callReady(){var callbacks=readyCalls;isPageLoaded&&callbacks.length&&(readyCalls=[],runCallbacks(callbacks))}function pageLoaded(){isPageLoaded||(isPageLoaded=!0,scrollIntervalId&&clearInterval(scrollIntervalId),callReady())}function domReady(callback){return isPageLoaded?callback(doc):readyCalls.push(callback),domReady}var isTop,testDiv,scrollIntervalId,isBrowser="undefined"!=typeof window&&window.document,isPageLoaded=!isBrowser,doc=isBrowser?document:null,readyCalls=[];if(isBrowser){if(document.addEventListener)document.addEventListener("DOMContentLoaded",pageLoaded,!1),window.addEventListener("load",pageLoaded,!1);else if(window.attachEvent){window.attachEvent("onload",pageLoaded),testDiv=document.createElement("div");try{isTop=null===window.frameElement}catch(e){}testDiv.doScroll&&isTop&&window.external&&(scrollIntervalId=setInterval(function(){try{testDiv.doScroll(),pageLoaded()}catch(e){}},30))}"complete"===document.readyState&&pageLoaded()}return domReady.version="2.0.1",domReady.load=function(name,req,onLoad,config){config.isBuild?onLoad(null):domReady(onLoad)},domReady}),define("decor/Evented",["dcl/dcl","dcl/advise"],function(dcl,advise){return dcl(null,{on:function(type,listener){return advise.before(this,"on"+type,listener)},emit:function(type){var func="on"+type;if(this[func]){var args=Array.prototype.slice.call(arguments,1);this[func].apply(this,args)}}})}),define("dpointer/events",["./handlers/features","./handlers/utils","./handlers/touch","./handlers/mouse","./handlers/features!mspointer-events?./handlers/mspointer"],function(has,utils,touch,mouse,mspointer){"use strict";function insertTouchActionCSSRule(styleName){var styleElement=document.createElement("style"),attributeName=utils.TouchAction.ATTR_NAME;styleElement.textContent="["+attributeName+"='none']  { "+styleName+": none; }["+attributeName+"='auto']  { "+styleName+": auto; }["+attributeName+"='pan-x'] { "+styleName+": pan-x; }["+attributeName+"='pan-y'] { "+styleName+": pan-y; }["+attributeName+"='pan-x pan-y'],["+styleName+"='pan-y pan-x'] { "+styleName+": pan-x pan-y; }",document.head.insertBefore(styleElement,document.head.firstChild)}var pointerEvents={_targetElement:null};return pointerEvents.enable=function(targetElement){targetElement=targetElement||window.document,this._targetElement||(has("pointer-events")||(has("mspointer-events")?mspointer.registerHandlers(targetElement):has("touch-events")&&has("touch-device")?touch.registerHandlers(targetElement):mouse.registerHandlers(targetElement)),this._targetElement=targetElement)},pointerEvents.disable=function(){this._targetElement&&(touch.deregisterHandlers(this._targetElement),mouse.deregisterHandlers(this._targetElement),mspointer&&mspointer.deregisterHandlers(this._targetElement)),this._targetElement=null},pointerEvents.setTouchAction=function(targetElement,actionType){targetElement.setAttribute(utils.TouchAction.ATTR_NAME,actionType)},pointerEvents.setPointerCapture=function(targetElement,pointerId){return this._targetElement?has("pointer-events")?targetElement.setPointerCapture(pointerId):has("mspointer-events")?targetElement.msSetPointerCapture(pointerId):1===pointerId?mouse.setPointerCapture(targetElement):touch.setPointerCapture(targetElement,pointerId):!1},pointerEvents.releasePointerCapture=function(targetElement,pointerId){return this._targetElement?has("pointer-events")?targetElement.releasePointerCapture(pointerId):has("mspointer-events")?targetElement.msReleasePointerCapture(pointerId):1===pointerId?mouse.releasePointerCapture(targetElement):touch.releasePointerCapture(targetElement,pointerId):!1},has("pointer-events")&&insertTouchActionCSSRule("touch-action"),has("mspointer-events")&&insertTouchActionCSSRule("-ms-touch-action"),has("css-touch-action")?insertTouchActionCSSRule("touch-action"):has("css-ms-touch-action")&&insertTouchActionCSSRule("-ms-touch-action"),pointerEvents.enable(),pointerEvents}),define("dpointer/handlers/mspointer",["./utils"],function(utils){"use strict";function msPointerDown(e){utils.dispatchEvent(e.target,createPointer(utils.events.DOWN,e,{}))}function msPointerMove(e){utils.dispatchEvent(e.target,createPointer(utils.events.MOVE,e,{}))}function msPointerUp(e){utils.dispatchEvent(e.target,createPointer(utils.events.UP,e,{}))}function msPointerOut(e){utils.dispatchEvent(e.target,createPointer(utils.events.OUT,e,{})),utils.dispatchLeaveEvents(e.target,e.relatedTarget,createPointer(utils.events.LEAVE,e))}function msPointerOver(e){utils.dispatchEvent(e.target,createPointer(utils.events.OVER,e,{})),utils.dispatchEnterEvents(e.target,e.relatedTarget,createPointer(utils.events.ENTER,e))}function msPointerCancel(e){utils.dispatchEvent(e.target,createPointer(utils.events.CANCEL,e,{}))}function msGotPointerCapture(e){utils.dispatchEvent(e.target,createPointer(utils.events.GOTCAPTURE,e,{}))}function msLostPointerCapture(e){utils.dispatchEvent(e.target,createPointer(utils.events.LOSTCAPTURE,e,{}))}function createPointer(pointerType,msPointerEvent,props){return props=props||{},props.detail=msPointerEvent.detail,props.screenX=msPointerEvent.screenX,props.screenY=msPointerEvent.screenY,props.clientX=msPointerEvent.clientX,props.clientY=msPointerEvent.clientY,props.ctrlKey=msPointerEvent.ctrlKey,props.altKey=msPointerEvent.altKey,props.shiftKey=msPointerEvent.shiftKey,props.metaKey=msPointerEvent.metaKey,props.button=msPointerEvent.button,props.buttons=msPointerEvent.buttons,props.relatedTarget=msPointerEvent.relatedTarget,props.pointerId=msPointerEvent.pointerId,props.width=msPointerEvent.width,props.height=msPointerEvent.height,props.pressure=msPointerEvent.pressure,props.tiltX=msPointerEvent.tiltX,props.tiltY=msPointerEvent.tiltY,props.pointerType=normalizePointerType(msPointerEvent.pointerType),props.hwTimestamp=msPointerEvent.hwTimestamp,props.isPrimary=msPointerEvent.isPrimary,-1===props.button&&"touch"===props.pointerType&&(props.buttons=1),new utils.Pointer(pointerType,msPointerEvent,props)}function normalizePointerType(pointerType){switch(pointerType){case 2:return"touch";case 3:return"pen";case 4:return"mouse";default:return pointerType
}}var msPointerEvents={MSPointerDown:"MSPointerDown",MSPointerMove:"MSPointerMove",MSPointerUp:"MSPointerUp",MSPointerOut:"MSPointerOut",MSPointerOver:"MSPointerOver",MSPointerCancel:"MSPointerCancel",MSGotPointerCapture:"MSGotPointerCapture",MSLostPointerCapture:"MSLostPointerCapture"};return{registerHandlers:function(targetElement){targetElement=targetElement||window.document,utils.addEventListener(targetElement,msPointerEvents.MSPointerDown,msPointerDown,!0),utils.addEventListener(targetElement,msPointerEvents.MSPointerMove,msPointerMove,!0),utils.addEventListener(targetElement,msPointerEvents.MSPointerUp,msPointerUp,!0),utils.addEventListener(targetElement,msPointerEvents.MSPointerOut,msPointerOut,!0),utils.addEventListener(targetElement,msPointerEvents.MSPointerOver,msPointerOver,!0),utils.addEventListener(targetElement,msPointerEvents.MSPointerCancel,msPointerCancel,!0),utils.addEventListener(targetElement,msPointerEvents.MSGotPointerCapture,msGotPointerCapture,!0),utils.addEventListener(targetElement,msPointerEvents.MSLostPointerCapture,msLostPointerCapture,!0)},deregisterHandlers:function(targetElement){utils.removeEventListener(targetElement,msPointerEvents.MSPointerDown,msPointerDown,!0),utils.removeEventListener(targetElement,msPointerEvents.MSPointerMove,msPointerMove,!0),utils.removeEventListener(targetElement,msPointerEvents.MSPointerUp,msPointerUp,!0),utils.removeEventListener(targetElement,msPointerEvents.MSPointerOut,msPointerOut,!0),utils.removeEventListener(targetElement,msPointerEvents.MSPointerOver,msPointerOver,!0),utils.removeEventListener(targetElement,msPointerEvents.MSPointerCancel,msPointerCancel,!0),utils.removeEventListener(targetElement,msPointerEvents.MSGotPointerCapture,msGotPointerCapture,!0),utils.removeEventListener(targetElement,msPointerEvents.MSLostPointerCapture,msLostPointerCapture,!0)}}}),define("dpointer/handlers/mouse",["./utils"],function(utils){"use strict";function mousedown(e){MouseTracker.update(e),utils.dispatchEvent(e.target,createPointer(utils.events.DOWN,e,{}));var overflow=window.getComputedStyle(e.target).overflow;!overflow||"auto"!==overflow&&"scroll"!==overflow||(isScrolling=!0,utils.dispatchEvent(e.target,createPointer(utils.events.CANCEL,e,{})))}function mousemove(e){isScrolling||(utils.dispatchEvent(MouseTracker.identifyTarget(e.target),createPointer(utils.events.MOVE,e,{})),MouseTracker.update(e))}function mouseout(e){isScrolling||MouseTracker.hasCapture()||(e.relatedTarget&&(utils.dispatchEvent(e.target,createPointer(utils.events.OUT,e,{})),utils.dispatchLeaveEvents(e.target,e.relatedTarget,createPointer(utils.events.LEAVE,e))),MouseTracker.update(e))}function mouseover(e){isScrolling||MouseTracker.hasCapture()||(e.relatedTarget&&(utils.dispatchEvent(e.target,createPointer(utils.events.OVER,e,{})),utils.dispatchEnterEvents(e.target,e.relatedTarget,createPointer(utils.events.ENTER,e))),MouseTracker.update(e))}function mouseup(e){isScrolling?isScrolling=!1:(utils.dispatchEvent(MouseTracker.identifyTarget(e.target),createPointer(utils.events.UP,e,{})),MouseTracker.implicitReleaseCapture(),MouseTracker.update(e))}function createPointer(pointerType,mouseEvent,props){props=props||{},props.screenX=mouseEvent.screenX,props.screenY=mouseEvent.screenY,props.clientX=mouseEvent.clientX,props.clientY=mouseEvent.clientY,props.ctrlKey=mouseEvent.ctrlKey,props.altKey=mouseEvent.altKey,props.shiftKey=mouseEvent.shiftKey,props.metaKey=mouseEvent.metaKey,props.pageX=mouseEvent.pageX,props.pageY=mouseEvent.pageY;var buttonValue=mouseEvent.button,buttonsValue=void 0!==mouseEvent.buttons?mouseEvent.buttons:utils.which2buttons(mouseEvent.which);return"mousemove"===mouseEvent.type&&(buttonValue=-1),props.button=buttonValue,props.buttons=buttonsValue,props.which=buttonValue+1,props.relatedTarget=MouseTracker.hasCapture()?null:mouseEvent.relatedTarget,props.pointerId=1,props.pointerType="mouse",props.isPrimary=!0,new utils.Pointer(pointerType,mouseEvent,props)}var MouseEvents={mousedown:"mousedown",mousemove:"mousemove",mouseout:"mouseout",mouseover:"mouseover",mouseup:"mouseup"},isScrolling=!1,MouseTracker={_lastNativeEvent:null,_captureTarget:null,register:function(){},update:function(mouseEvent){this._lastNativeEvent=mouseEvent},setCapture:function(targetElement){if(!this._lastNativeEvent)throw"InvalidPointerId";return 0===this._lastNativeEvent.buttons?!1:(this._captureTarget=targetElement,utils.dispatchEvent(this._lastNativeEvent.target,createPointer(utils.events.GOTCAPTURE,this._lastNativeEvent,{})),!0)},hasCapture:function(){return!!this._captureTarget},identifyTarget:function(nonCapturedElement){return this._captureTarget||nonCapturedElement},releaseCapture:function(targetElement,implicit){if(!this._lastNativeEvent)throw"InvalidPointerId";return implicit||this._captureTarget===targetElement?(this._captureTarget&&(utils.dispatchEvent(this._captureTarget,createPointer(utils.events.LOSTCAPTURE,this._lastNativeEvent,{})),this._captureTarget=null),!0):!1},implicitReleaseCapture:function(){return this.releaseCapture(null,!0)}};return{registerHandlers:function(targetElement){targetElement=targetElement||window.document,utils.addEventListener(targetElement,MouseEvents.mousedown,mousedown,!0),utils.addEventListener(targetElement,MouseEvents.mousemove,mousemove,!0),utils.addEventListener(targetElement,MouseEvents.mouseout,mouseout,!0),utils.addEventListener(targetElement,MouseEvents.mouseover,mouseover,!0),utils.addEventListener(targetElement,MouseEvents.mouseup,mouseup,!0)},deregisterHandlers:function(targetElement){utils.removeEventListener(targetElement,MouseEvents.mousedown,mousedown,!0),utils.removeEventListener(targetElement,MouseEvents.mousemove,mousemove,!0),utils.removeEventListener(targetElement,MouseEvents.mouseout,mouseout,!0),utils.removeEventListener(targetElement,MouseEvents.mouseover,mouseover,!0),utils.removeEventListener(targetElement,MouseEvents.mouseup,mouseup,!0)},setPointerCapture:function(targetElement){return MouseTracker.setCapture(targetElement)},releasePointerCapture:function(targetElement){return MouseTracker.releaseCapture(targetElement,!1)}}}),define("dpointer/handlers/touch",["./features","./touchTracker","./utils"],function(has,tracker,utils){"use strict";function touchstart(e){for(var touch,touchTarget,touchAction,l=e.changedTouches.length,i=0;l>i;i++)if(touch=e.changedTouches.item(i),touchTarget=null,touchAction=determineTouchActionFromAttr(touch.target),tracker.hasPrimary()&&touchAction===utils.TouchAction.AUTO){var lastNativeEvent=tracker.getPrimaryTouchEvent(),lastTouch=tracker.getPrimaryTouch();touchTarget=tracker.identifyPrimaryTouchTarget(lastTouch.target),utils.dispatchEvent(touchTarget,createPointer(utils.events.OUT,lastNativeEvent,lastTouch,{})),utils.dispatchEvent(touchTarget,createPointer(utils.events.CANCEL,lastNativeEvent,lastTouch,{})),releaseCapture(lastTouch.identifier),tracker.unregister(lastTouch.identifier)}else touchAction!==utils.TouchAction.AUTO&&DoubleTap.isEligible(touch.target)&&e.preventDefault(),tracker.register(touch.identifier,touchAction,touch),tracker.update(touch,e,touch.target),utils.dispatchEvent(touch.target,createPointer(utils.events.OVER,e,touch,{})),utils.dispatchEvent(touch.target,createPointer(utils.events.DOWN,e,touch,{}))}function touchmove(e){for(var touch,l=e.changedTouches.length,i=0;l>i;i++){if(touch=e.changedTouches.item(i),!tracker.isActive(touch.identifier))return;if(tracker.updateScroll(touch),tracker.isTouchActionEnforced(touch.identifier)){var lastNativeEventType=tracker.getTouchEvent(touch.identifier).type;switch(lastNativeEventType){case TouchEvents.touchstart:utils.dispatchEvent(touch.target,createPointer(utils.events.OUT,e,touch,{})),utils.dispatchEvent(touch.target,createPointer(utils.events.CANCEL,e,touch,{}));break;case TouchEvents.touchmove:}releaseCapture(touch.identifier),tracker.unregister(touch.identifier)}else{var touchTarget=tracker.identifyTouchTarget(touch.identifier,elementFromTouch(touch)),lastElementFromPoint=tracker.getTargetElement(touch.identifier);touchTarget!==lastElementFromPoint?(utils.dispatchEvent(lastElementFromPoint,createPointer(utils.events.OUT,e,touch,{relatedTarget:touchTarget})),utils.dispatchLeaveEvents(lastElementFromPoint,touchTarget,createPointer(utils.events.LEAVE,e,touch,{relatedTarget:touchTarget})),utils.dispatchEvent(touchTarget,createPointer(utils.events.MOVE,e,touch,{})),utils.dispatchEvent(touchTarget,createPointer(utils.events.OVER,e,touch,{relatedTarget:lastElementFromPoint})),utils.dispatchEnterEvents(touchTarget,lastElementFromPoint,createPointer(utils.events.ENTER,e,touch,{relatedTarget:lastElementFromPoint}))):utils.dispatchEvent(touchTarget,createPointer(utils.events.MOVE,e,touch,{})),tracker.update(touch,e,touchTarget),has("css-touch-action")||e.preventDefault()}}}function touchend(e){for(var touch,l=e.changedTouches.length,i=0;l>i;i++){if(touch=e.changedTouches.item(i),!tracker.isActive(touch.identifier))return;var lastNativeEventType=tracker.getTouchEvent(touch.identifier).type,elementFromPoint=elementFromTouch(touch)||touch.target,touchTarget=tracker.identifyTouchTarget(touch.identifier,elementFromPoint);if(tracker.isTouchActionEnforced(touch.identifier))switch(lastNativeEventType){case TouchEvents.touchmove:break;case TouchEvents.touchstart:utils.dispatchEvent(touchTarget,createPointer(utils.events.MOVE,e,touch,{})),utils.dispatchEvent(touchTarget,createPointer(utils.events.UP,e,touch,{})),utils.dispatchEvent(touchTarget,createPointer(utils.events.OUT,e,touch,{}))}else switch(lastNativeEventType){case TouchEvents.touchstart:utils.dispatchEvent(touchTarget,createPointer(utils.events.MOVE,e,touch,{})),utils.dispatchEvent(touchTarget,createPointer(utils.events.UP,e,touch,{})),fireSyntheticClick(touchTarget,touch),utils.dispatchEvent(touchTarget,createPointer(utils.events.OUT,e,touch,{}));break;case TouchEvents.touchmove:utils.dispatchEvent(touchTarget,createPointer(utils.events.UP,e,touch,{})),elementFromPoint===touch.target&&fireSyntheticClick(touchTarget,touch),utils.dispatchEvent(touchTarget,createPointer(utils.events.OUT,e,touch,{}))}releaseCapture(touch.identifier),tracker.unregister(touch.identifier)}}function touchcancel(e){for(var touch,l=e.changedTouches.length,i=0;l>i;i++){if(touch=e.changedTouches.item(i),!tracker.isActive(touch.identifier))return;utils.dispatchEvent(tracker.identifyTouchTarget(touch.identifier,elementFromTouch(touch)),createPointer(utils.events.CANCEL,e,touch,{})),releaseCapture(touch.identifier),tracker.unregister(touch.identifier)}}function createPointer(pointerType,touchEvent,touch,props){return props=props||{},props.screenX=touch.screenX,props.screenY=touch.screenY,props.clientX=touch.clientX,props.clientY=touch.clientY,props.ctrlKey=touchEvent.ctrlKey,props.altKey=touchEvent.altKey,props.shiftKey=touchEvent.shiftKey,props.metaKey=touchEvent.metaKey,props.pageX=touch.pageX,props.pageY=touch.pageY,tracker.hasCapture(touch.identifier)&&(props.relatedTarget=null),props.button=pointerType===utils.events.MOVE?-1:0,props.buttons=1,props.which=props.button+1,props.pointerId=touch.identifier+2,props.pointerType="touch",props.isPrimary=tracker.isPrimary(touch.identifier),new utils.Pointer(pointerType,touchEvent,props)}function fireSyntheticClick(target,touch){tracker.isPrimary(touch.identifier)&&(utils.dispatchEvent(target,utils.createSyntheticClick(touch)),DoubleTap.isEligible(target)?(utils.dispatchEvent(target,utils.createSyntheticClick(touch,!0)),DoubleTap.hasFirstClick=!1):(DoubleTap.hasFirstClick=!0,DoubleTap.lastClickTS=(new Date).getTime(),DoubleTap.targetElement=target))}function elementFromTouch(touch){return touch.target.ownerDocument.elementFromPoint(touch.clientX,touch.clientY)}function releaseCapture(touchId,targetElement){return tracker.releaseCapture(touchId,targetElement)?(utils.dispatchEvent(tracker.getLastTouch(touchId).target,createPointer(utils.events.LOSTCAPTURE,tracker.getTouchEvent(touchId),tracker.getLastTouch(touchId),{})),!0):!1}function determineTouchActionFromAttr(targetNode){var nodeValue=utils.TouchAction.AUTO;do switch(targetNode.getAttribute&&targetNode.getAttribute(utils.TouchAction.ATTR_NAME)){case"auto":nodeValue|=utils.TouchAction.AUTO;break;case"pan-x":nodeValue|=utils.TouchAction.PAN_X;break;case"pan-y":nodeValue|=utils.TouchAction.PAN_Y;break;case"none":nodeValue|=utils.TouchAction.NONE}while(nodeValue!==utils.TouchAction.NONE&&(targetNode=targetNode.parentNode));return nodeValue}var TouchEvents={touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend",touchcancel:"touchcancel"},DoubleTap={TAP_DELAY:250,lastClickTS:0,hasFirstClick:!1,targetElement:null,isEligible:function(target){return this.hasFirstClick&&this.targetElement===target&&(new Date).getTime()-this.lastClickTS<this.TAP_DELAY}};return{registerHandlers:function(targetElement){targetElement=targetElement||window.document,utils.addEventListener(targetElement,TouchEvents.touchstart,touchstart,!0),utils.addEventListener(targetElement,TouchEvents.touchmove,touchmove,!0),utils.addEventListener(targetElement,TouchEvents.touchend,touchend,!0),utils.addEventListener(targetElement,TouchEvents.touchcancel,touchcancel,!0)},deregisterHandlers:function(targetElement){utils.removeEventListener(targetElement,TouchEvents.touchstart,touchstart,!0),utils.removeEventListener(targetElement,TouchEvents.touchmove,touchmove,!0),utils.removeEventListener(targetElement,TouchEvents.touchend,touchend,!0),utils.removeEventListener(targetElement,TouchEvents.touchcancel,touchcancel,!0)},setPointerCapture:function(targetElement,pointerId){var touchId=pointerId-2;return tracker.setCapture(touchId,targetElement),utils.dispatchEvent(tracker.getLastTouch(touchId).target,createPointer(utils.events.GOTCAPTURE,tracker.getTouchEvent(touchId),tracker.getLastTouch(touchId),{})),!0},releasePointerCapture:function(targetElement,pointerId){return releaseCapture(pointerId-2,targetElement)},determineTouchAction:function(targetNode){return determineTouchActionFromAttr(targetNode)}}}),define("dpointer/handlers/touchTracker",["./utils"],function(utils){"use strict";var TouchInfo=function(touchAction,pageX,pageY){this.touchAction=touchAction,this.lastNativeEvent=null,this.lastTouch=null,this.capturedTarget=null,this.lastTargetElement=null,this.firstMove={startX:pageX,startY:pageY},this.enforceTouchAction=touchAction===utils.TouchAction.AUTO},primaryTouchId=-1,t={},canScroll=function(a1,b1,a2,b2){return Math.abs(a2-a1)/Math.abs(b2-b1)>.7};return{register:function(touchId,touchAction,touch){-1===primaryTouchId&&(primaryTouchId=touchId),t[touchId]=new TouchInfo(touchAction,touch.pageX,touch.pageY)},unregister:function(touchId){return primaryTouchId===touchId&&(primaryTouchId=-1),delete t[touchId]},update:function(touch,touchEvent,targetElement){t[touch.identifier].lastTouch=touch,t[touch.identifier].lastNativeEvent=touchEvent,t[touch.identifier].lastTargetElement=targetElement},isActive:function(touchId){return touchId in t},isPrimary:function(touchId){return touchId===primaryTouchId},getTouchAction:function(touchId){return t[touchId].touchAction},updateScroll:function(touch){if(t[touch.identifier].firstMove){var touchInfo=t[touch.identifier];touchInfo.touchAction===utils.TouchAction.PAN_Y?touchInfo.enforceTouchAction=canScroll(touchInfo.firstMove.startY,touchInfo.firstMove.startX,touch.pageY,touch.pageX):touchInfo.touchAction===utils.TouchAction.PAN_X&&(touchInfo.enforceTouchAction=canScroll(touchInfo.firstMove.startX,touchInfo.firstMove.startY,touch.pageX,touch.pageY)),touchInfo.firstMove=!1}},isTouchActionEnforced:function(touchId){return t[touchId].enforceTouchAction},getLastTouch:function(touchId){return t[touchId].lastTouch},getTargetElement:function(touchId){return t[touchId].lastTargetElement},getTouchEvent:function(touchId){return t[touchId].lastNativeEvent},hasPrimary:function(){return-1!==primaryTouchId},getPrimaryTouchEvent:function(){return t[primaryTouchId].lastNativeEvent},getPrimaryTouch:function(){return t[primaryTouchId].lastTouch},identifyTouchTarget:function(touchId,nonCapturedElement){return t[touchId]&&t[touchId].capturedTarget||nonCapturedElement},identifyPrimaryTouchTarget:function(nonCapturedElement){return this.identifyTouchTarget(primaryTouchId,nonCapturedElement)},hasCapture:function(touchId){return!!t[touchId].capturedTarget},setCapture:function(touchId,targetElement){if(!this.isActive(touchId))throw new Error("InvalidPointerId");t[touchId].capturedTarget=targetElement},releaseCapture:function(touchId,targetElement){if(!this.isActive(touchId))throw new Error("InvalidPointerId");return targetElement&&targetElement!==t[touchId].capturedTarget?!1:t[touchId].capturedTarget?(t[touchId].capturedTarget=null,!0):!1}}}),define("dpointer/handlers/utils",[],function(){"use strict";function defineEventProperties(e,props){props.pressure=props.pressure||(props.buttons?.5:0);var propsDesc={};return Object.keys(eventPropDesc).forEach(function(name){this[name]=name in e?{get:function(){return props[name]||eventPropDesc[name]}}:{value:props[name]||eventPropDesc[name]}},propsDesc),Object.defineProperties(e,propsDesc),e}function mapNativeFunctions(e,nativeEvent){if(e.type!==utils.GOTCAPTURE&&e.type!==utils.LOSTCAPTURE){if(e.bubbles){var _stopPropagation=e.stopPropagation;if(e.stopPropagation=function(){nativeEvent.stopPropagation(),_stopPropagation.apply(this)},e.stopImmediatePropagation){var _stopImmediatePropagation=e.stopImmediatePropagation;e.stopImmediatePropagation=function(){nativeEvent.stopImmediatePropagation(),_stopImmediatePropagation.apply(this)}}}if(eventTypeDesc[e.type].cancelable){var _preventDefault=e.preventDefault;e.preventDefault=function(){nativeEvent.preventDefault(),_preventDefault.apply(this)}}}}var utils={events:{DOWN:"pointerdown",UP:"pointerup",CANCEL:"pointercancel",MOVE:"pointermove",OVER:"pointerover",OUT:"pointerout",ENTER:"pointerenter",LEAVE:"pointerleave",GOTCAPTURE:"gotpointercapture",LOSTCAPTURE:"lostpointercapture"},TouchAction:{ATTR_NAME:"touch-action",AUTO:0,PAN_X:1,PAN_Y:2,NONE:3}},eventPropDesc={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,button:0,relatedTarget:null,which:0,pageX:0,pageY:0,buttons:0,pointerId:0,width:0,height:0,pressure:0,tiltX:0,tiltY:0,pointerType:"",isPrimary:!1},eventTypeDesc={pointerover:{bubbles:!0,cancelable:!0},pointerenter:{bubbles:!1,cancelable:!1},pointerdown:{bubbles:!0,cancelable:!0},pointermove:{bubbles:!0,cancelable:!0},pointerup:{bubbles:!0,cancelable:!0},pointercancel:{bubbles:!0,cancelable:!1},pointerout:{bubbles:!0,cancelable:!0},pointerleave:{bubbles:!1,cancelable:!1},gotpointercapture:{bubbles:!0,cancelable:!1},lostpointercapture:{bubbles:!0,cancelable:!1}},canRedefineUIEvent=function(){try{return defineEventProperties(document.createEvent("UIEvent"),{}),!0}catch(error){return eventPropDesc.view=null,eventPropDesc.detail=0,!1}}();return utils.Pointer=function(pointerType,nativeEvent,props){var event;return props.bubbles=eventTypeDesc[pointerType].bubbles,props.cancelable=eventTypeDesc[pointerType].cancelable,canRedefineUIEvent?(event=document.createEvent("UIEvent"),event.initUIEvent(pointerType,props.bubbles,props.cancelable,nativeEvent.view||null,nativeEvent.detail||0)):(event=document.createEvent("Event"),event.initEvent(pointerType,props.bubbles,props.cancelable),props.view=nativeEvent.view||null,props.detail=nativeEvent.detail||0),defineEventProperties(event,props),mapNativeFunctions(event,nativeEvent),event},utils.createSyntheticClick=function(sourceEvent,dblClick){var e=document.createEvent("MouseEvents");return void 0===e.isTrusted&&Object.defineProperty(e,"isTrusted",{value:!1,enumerable:!0,writable:!1,configurable:!1}),e.initMouseEvent(dblClick?"dblclick":"click",!0,!0,sourceEvent.view,dblClick?2:1,sourceEvent.screenX,sourceEvent.screenY,sourceEvent.clientX,sourceEvent.clientY,sourceEvent.ctrlKey,sourceEvent.altKey,sourceEvent.shiftKey,sourceEvent.metaKey,0,null),e},utils.isNativeClickEvent=function(e){return void 0===e.isTrusted||e.isTrusted},utils.which2buttons=function(whichValue){switch(whichValue){case 0:return 0;case 1:return 1;case 2:return 4;case 3:return 2;default:return Math.pow(2,whichValue-1)}},utils.addEventListener=function(targetElement,eventName,eventListener,useCapture){targetElement.addEventListener(eventName,eventListener,useCapture)},utils.removeEventListener=function(targetElement,eventName,eventListener,useCapture){targetElement.removeEventListener(eventName,eventListener,useCapture)},utils.dispatchEvent=function(targetElement,event){if(!targetElement)return!1;if(!targetElement.dispatchEvent)throw new Error("dispatchEvent not supported on targetElement");return targetElement.dispatchEvent(event)},utils.dispatchLeaveEvents=function(target,relatedTarget,syntheticEvent){return null==target||null==relatedTarget||target===relatedTarget||16&target.compareDocumentPosition(relatedTarget)?!0:this.dispatchEvent(target,syntheticEvent)&&this.dispatchLeaveEvents(target.parentNode,relatedTarget,syntheticEvent)},utils.dispatchEnterEvents=function(target,relatedTarget,syntheticEvent){return null==target||null==relatedTarget||target===relatedTarget||16&target.compareDocumentPosition(relatedTarget)?!0:this.dispatchEnterEvents(target.parentNode,relatedTarget,syntheticEvent)&&this.dispatchEvent(target,syntheticEvent)},utils}),define("dpointer/handlers/features",["requirejs-dplugins/has"],function(has){return"undefined"!=typeof document&&(has.add("touch-events","ontouchstart"in document),has.add("pointer-events","onpointerdown"in document),has.add("mspointer-events","onmspointerdown"in document),has.add("touch-device",/(mobile)|(android)/i.test(navigator.userAgent)),has.add("css-touch-action","touchAction"in document.body.style),has.add("css-ms-touch-action","msTouchAction"in document.body.style)),has}),define("delite/Selection",["dcl/dcl","decor/sniff","./Widget"],function(dcl,has,Widget){return dcl(Widget,{preRender:function(){this._set("selectedItems",[])},selectionMode:"single",_setSelectionModeAttr:function(value){if("none"!==value&&"single"!==value&&"multiple"!==value&&"radio"!==value)throw new TypeError("selectionMode invalid value");value!==this.selectionMode&&(this._set("selectionMode",value),"none"===value?this.selectedItems=null:"single"!==value&&"radio"!==value||!this.selectedItem||(this.selectedItems=[this.selectedItem]))},selectedItem:null,_setSelectedItemAttr:function(value){this.selectedItem!==value&&(this.selectedItems=null==value?null:[value])},selectedItems:null,_setSelectedItemsAttr:function(value){var oldSelectedItems=this.selectedItems;this._set("selectedItems",value),null!=oldSelectedItems&&oldSelectedItems.length>0&&this.updateRenderers(oldSelectedItems),this.selectedItems&&this.selectedItems.length>0?(this._set("selectedItem",this.selectedItems[0]),this.updateRenderers(this.selectedItems)):this._set("selectedItem",null)},_getSelectedItemsAttr:function(){return null==this._get("selectedItems")?[]:this._get("selectedItems").concat()},hasSelectionModifier:function(event){return has("mac")?event.metaKey:event.ctrlKey},isSelected:function(item){if(null==this.selectedItems||0===this.selectedItems.length)return!1;var identity=this.getIdentity(item);return this.selectedItems.some(function(sitem){return this.getIdentity(sitem)===identity},this)},getIdentity:function(){},updateRenderers:function(){},setSelected:function(item,value){"none"!==this.selectionMode&&null!=item&&this._setSelected(item,value)},_setSelected:function(item,value){var res,identity,sel=this.selectedItems;if("single"===this.selectionMode||"radio"===this.selectionMode)value?this.selectedItem=item:"single"===this.selectionMode&&this.isSelected(item)&&(this.selectedItems=null);else if(value){if(this.isSelected(item))return;null==sel?sel=[item]:sel.unshift(item),this.selectedItems=sel}else{if(identity=this.getIdentity(item),res=sel?sel.filter(function(sitem){return this.getIdentity(sitem)!==identity},this):[],null==res||res.length===sel.length)return;this.selectedItems=res}},selectFromEvent:function(event,item,renderer,dispatch){return"none"===this.selectionMode?!1:this._selectFromEvent(event,item,renderer,dispatch)},_selectFromEvent:function(event,item,renderer,dispatch){var changed,oldSelectedItem=this.selectedItem,selected=null==item?!1:this.isSelected(item);return null==item?"multiple"!==this.selectionMode||this.hasSelectionModifier(event)||null==this.selectedItem||(this.selectedItem=null,changed=!0):"multiple"===this.selectionMode?this.hasSelectionModifier(event)?(this.setSelected(item,!selected),changed=!0):(this.selectedItem=item,changed=!0):"single"===this.selectionMode&&this.hasSelectionModifier(event)?(this.selectedItem=selected?null:item,changed=!0):selected||(this.selectedItem=item,changed=!0),dispatch&&changed&&this.dispatchSelectionChange(oldSelectedItem,this.selectedItem,renderer,event),changed},dispatchSelectionChange:function(oldSelectedItem,newSelectedItem,renderer,triggerEvent){this.emit("selection-change",{oldValue:oldSelectedItem,newValue:newSelectedItem,renderer:renderer,triggerEvent:triggerEvent})}})}),define("decor/sniff",["./features"],function(has){if(has("host-browser")){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav),isWebkit=parseFloat(dua.split("WebKit/")[1])||void 0;if(isWebkit){if(has.add("webkit",parseFloat(dua.split("WebKit/")[1])||void 0),has.add("chrome",parseFloat(dua.split("Chrome/")[1])||void 0),has.add("safari",dav.indexOf("Safari")>=0&&!has("chrome")?parseFloat(dav.split("Version/")[1]):void 0),dua.match(/(iPhone|iPod|iPad)/)){var p=RegExp.$1.replace(/P/,"p"),v=dua.match(/OS ([\d_]+)/)?RegExp.$1:"1",os=parseFloat(v.replace(/_/,".").replace(/_/g,""));has.add(p,os),has.add("ios",os)}has.add("android",parseFloat(dua.split("Android ")[1])||void 0)}else{var isIE=0;if(document.all?isIE=parseFloat(dav.split("MSIE ")[1])||void 0:dav.indexOf("Trident")&&(isIE=parseFloat(dav.split("rv:")[1])||void 0),isIE){var mode=document.documentMode;mode&&Math.floor(isIE)!==mode&&(isIE=mode),has.add("ie",isIE)}else dua.indexOf("Gecko")>=0&&(has.add("mozilla",tv),has.add("ff",parseFloat(dua.split("Firefox/")[1]||dua.split("Minefield/")[1])||void 0))}has.add("mac",dav.indexOf("Macintosh")>=0),has.add("msapp",parseFloat(dua.split("MSAppHost/")[1])||void 0)}return has}),define("delite/keys",["decor/sniff"],function(has){return{BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:has("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:has("mac")?has("safari")?91:224:17}}),define("delite/register",["dcl/dcl","./features"],function(dcl,has){"use strict";function createElement(tag){var base=registry[tag]?registry[tag].extends:null;if(has("document-register-element"))return base?doc.createElement(base,tag):doc.createElement(tag);var element=doc.createElement(base||tag);return base&&element.setAttribute("is",tag),upgrade(element),element}function getPropDescriptors(proto){var props={};do{for(var k,keys=Object.getOwnPropertyNames(proto),i=0;k=keys[i];i++)props[k]||(props[k]=Object.getOwnPropertyDescriptor(proto,k));proto=Object.getPrototypeOf(proto)}while(!/HTML[a-zA-Z]*Element/.test(proto.constructor.toString()));return props}function upgrade(element){if(!has("document-register-element")&&!element.__upgraded__){var widget=registry[element.getAttribute("is")||element.nodeName.toLowerCase()];widget&&(has("dom-proto-set")?element.__proto__=widget.prototype:Object.defineProperties(element,widget.props),element.__upgraded__=!0,element.createdCallback&&element.createdCallback(),element.attachedCallback&&doc.documentElement.contains(element)&&element.attachedCallback())}}function getTagConstructor(tag,baseElement,baseCtor){var proto=baseCtor.prototype,config=registry[tag]={constructor:baseCtor,prototype:proto};if(baseElement!==HTMLElement&&(config.extends=tags.filter(function(tag){return tagMap[tag]===baseElement})[0],!config.extends))throw new TypeError(tag+": must have HTMLElement in prototype chain");has("document-register-element")?doc.registerElement(tag,config):has("dom-proto-set")||(config.props=getPropDescriptors(proto)),selectors.push(config.extends?config.extends+"[is='"+tag+"']":tag);var tagConstructor=function(params,srcNodeRef){var node;srcNodeRef?(node="string"==typeof srcNodeRef?doc.getElementById(srcNodeRef):srcNodeRef,upgrade(node)):node=createElement(tag);for(var name in params||{})"style"===name?node.style.cssText=params.style:"class"!==name&&"className"!==name||!node.setClassComponent?node[name]=params[name]:node.setClassComponent("user",params[name]);return node};return tagConstructor.tag=tag,tagConstructor._ctor=baseCtor,tagConstructor}function restore(extension){return extension&&extension._ctor||extension}function register(tag,superclasses,props){var bases=(superclasses instanceof Array?superclasses:superclasses?[superclasses]:[]).map(restore);if(tag in registry)throw new TypeError("A widget is already registered with tag '"+tag+"'.");var baseElement=bases[0];baseElement.prototype&&baseElement.prototype._baseElement&&(baseElement=baseElement.prototype._baseElement);var ctor=dcl(bases,props||{}),proto=ctor.prototype;return proto._ctor=ctor,proto._baseElement=baseElement,proto._introspect&&(ctor._propsToObserve=proto._getProps(),proto._introspect(ctor._propsToObserve),ctor._introspected=!0),getTagConstructor(tag,baseElement,ctor)}function parse(root){if(selectors.length){for(var node,idx=0,nodes=(root||doc).querySelectorAll(selectors.join(", "));node=nodes[idx++];)upgrade(node);for(idx=0;node=nodes[idx++];)node.startup&&!node.started&&node.startup()}}var doc="undefined"!=typeof document&&document;dcl.mix=function(a,b){for(var n in b)try{a[n]=b[n]}catch(e){Object.defineProperty(a,n,{configurable:!0,writable:!0,enumerable:!0,value:b[n]})}};var selectors=[],registry={},tagMap="undefined"!=typeof HTMLElement&&{a:HTMLAnchorElement,base:HTMLBaseElement,br:HTMLBRElement,button:HTMLButtonElement,canvas:HTMLCanvasElement,div:HTMLDivElement,dl:HTMLDListElement,directory:HTMLDirectoryElement,fieldset:HTMLFieldSetElement,font:HTMLFontElement,form:HTMLFormElement,head:HTMLHeadElement,h1:HTMLHeadingElement,html:HTMLHtmlElement,hr:HTMLHRElement,iframe:HTMLIFrameElement,img:HTMLImageElement,input:HTMLInputElement,label:HTMLLabelElement,legend:HTMLLegendElement,li:HTMLLIElement,link:HTMLLinkElement,map:HTMLMapElement,menu:HTMLMenuElement,meta:HTMLMetaElement,ins:HTMLModElement,object:HTMLObjectElement,ol:HTMLOListElement,optgroup:HTMLOptGroupElement,option:HTMLOptionElement,p:HTMLParagraphElement,param:HTMLParamElement,pre:HTMLPreElement,quote:HTMLQuoteElement,script:HTMLScriptElement,select:HTMLSelectElement,style:HTMLStyleElement,table:HTMLTableElement,caption:HTMLTableCaptionElement,col:HTMLTableColElement,tr:HTMLTableRowElement,tbody:HTMLTableSectionElement,textarea:HTMLTextAreaElement,title:HTMLTitleElement,ul:HTMLUListElement,video:HTMLVideoElement},tags=tagMap&&Object.keys(tagMap);return register.upgrade=upgrade,register.createElement=createElement,register.parse=parse,register.dcl=dcl,register.after=dcl.after,register.before=dcl.before,register.around=dcl.around,register.superCall=dcl.superCall,register});